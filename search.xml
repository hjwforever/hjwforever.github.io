<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Podman vs Docker | Podman简介及安装</title>
      <link href="/posts/fad3.html"/>
      <url>/posts/fad3.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h2><p><a href="https://podman.io/"><strong>podman</strong></a>在功能上与<a href="https://www.docker.com/"><strong>docker</strong></a>不能说很像，只能说一模一样，甚至于你给podman取个别名为docker，你会发现这不就是docker吗？🤔接下来对比一下两者的异同吧。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">docker</span><span class="token operator">=</span>podman<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="2-什么是Docker"><a href="#2-什么是Docker" class="headerlink" title="2. 什么是Docker"></a>2. 什么是Docker</h2><blockquote><p><a href="https://www.docker.com/"><em>Docker</em> </a>是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的镜像中，然后发布到任何流行的 Linux或Windows操作系统的机器上，也可以实现虚拟化。容器是完全使用沙箱机制，相互之间不会有任何接口。 by百度百科</p></blockquote><h2 id="3-什么是Podman"><a href="#3-什么是Podman" class="headerlink" title="3. 什么是Podman"></a>3. 什么是Podman</h2><p>​    <a href="https://docs.podman.io/en/latest/">Podman</a> 是一个开源的 Linux 原生工具，旨在根据<a href="https://opencontainers.org/">开放容器计划 （OCI）</a> 标准开发、管理和运行容器和 Pod。Podman 由 <a href="https://www.redhat.com/en">Red Hat</a> 开发，是用户友好的容器编排器，是 RedHat 8 和 CentOS 8 自带的默认容器引擎。实际上，它是<strong>一组命令行工具</strong>之一.</p><p>​    这组命令行套件就是：</p><ul><li><a href="https://docs.podman.io/en/latest/">Podman</a>  - Pods 和容器映像管理器</li><li><strong><a href="https://buildah.io/">Buildah</a></strong> - 容器生成器</li><li><strong><a href="https://github.com/containers/skopeo">Skopeo</a></strong> - 容器映像检查管理器</li><li><strong><a href="https://github.com/opencontainers/runc">runc</a></strong> - 容器运行器和功能生成器到 podman 和 buildah</li><li><strong><a href="https://github.com/containers/crun">crun</a></strong> - 可选的运行时，可为无根容器提供更大的灵活性、控制力和安全性</li></ul><p>​    这些工具还可以与**任何OCI兼容的容器引擎(如Docker)**配合使用，从而可以轻松过渡到Podman或将其用于现有的Docker安装。</p><blockquote><p>那么，<strong>Kubernetes 可以使用 Podman 吗？</strong></p></blockquote><p>答案是可以的，而且<strong>在k8s中使用podman比使用Docker更好</strong>。这就要谈到它们之间的差异了。</p><h2 id="4-Docker-vs-Podman"><a href="#4-Docker-vs-Podman" class="headerlink" title="4. Docker vs Podman"></a>4. Docker vs Podman</h2><p>Podman和Docker从使用上来说几乎是一模一样的，而他们的差异就在于底层。</p><h3 id="不同1-架构设计不同"><a href="#不同1-架构设计不同" class="headerlink" title="不同1. 架构设计不同"></a>不同1. 架构设计不同</h3><blockquote><p>Docker 有一个由用来调解客户与服务器逻辑的守护进程； 而Podman 不需要这个中介。</p></blockquote><ul><li><p>Docker 使用守护程序**（一个在后台运行的持续程序）来创建映像和运行容器。</p></li><li><p>Podman有一个无守护进程的的容器引擎<strong>，用于在 Linux 系统上进行开发、管理和运行 OCI Containers。 Containers 能以 root 模式运行，也</strong>能以非 root 模式运行**。</p></li></ul><h3 id="不同2-安全性不同"><a href="#不同2-安全性不同" class="headerlink" title="不同2. 安全性不同"></a>不同2. 安全性不同</h3><ul><li><p>Podman 允许容器的非 root 用户权限。无根容器被认为比具有 root 权限的容器更安全。Podman 中的容器默认没有 root 访问权限，这在 root 和非 root之间增加了一道天然屏障，从而提高了安全性。尽管如此，Podman仍然可以运行root和非 root容器。</p></li><li><p>而在 Docker 中，守护程序具有 root 权限，使其成为攻击者的首选网关。</p></li></ul><h3 id="不同3-启动方式不同"><a href="#不同3-启动方式不同" class="headerlink" title="不同3. 启动方式不同"></a>不同3. 启动方式不同</h3><ul><li><code>docker cli</code> 命令通过API跟 <code>Docker Engine(引擎)</code>交互告诉它我想创建一个container，然后<code>docker Engine</code>才会调用<code>OCI container runtime(runc)</code>来启动一个container。这代表container的process(进程)不会是<code>Docker CLI</code>的<code>child process(子进程)</code>，而是<code>Docker Engine</code>的<code>child process</code>。</li><li><code>Podman</code>是直接给<code>OCI containner runtime(runc)</code>进行交互来创建container的，所以<code>container process</code>直接是<code>podman</code>的<code>child process</code>。</li></ul><h2 id="5-k8s弃用Docker"><a href="#5-k8s弃用Docker" class="headerlink" title="5. k8s弃用Docker"></a>5. k8s弃用Docker</h2><blockquote><p>简单来讲就是 K8s 支持 Docker 的代价太大了。</p></blockquote><p> <a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.20.md#dockershim-deprecation"><strong>查看官方声明</strong></a></p><p><code>Docker</code>并不支持<strong>CRI</strong>（容器运行时接口）这一<code>Kubernetes</code>运行时API，而<code>Kubernetes</code>用户一直以来所使用的其实是名为**<code>dockershim</code>**的桥接服务。<code>Dockershim</code>能够转换<code>Docker API</code>与<code>CRI</code>，但在后续版本当中，Kubernetes将不再提供这项桥接服务。因为这太麻烦了。</p><h4 id="原因1-k8s只需要Docker-Engine中的Container-Runtime"><a href="#原因1-k8s只需要Docker-Engine中的Container-Runtime" class="headerlink" title="原因1. k8s只需要Docker Engine中的Container Runtime"></a>原因1. k8s只需要Docker Engine中的Container Runtime</h4><p><strong>首先</strong>，对于 K8s 来说 Docker 太重了。</p><p>Docker 是包含了很多东西的，例如：</p><ul><li>CLI</li><li>API</li><li>Server</li><li>Container Runtime</li><li>Volumes</li><li>Network</li><li>build image</li></ul><p>但是 <code>K8s</code> 只是使用其中的 <code>container runtime</code>（容器运行环境）。</p><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/docker/%E6%9E%B6%E6%9E%84%E5%9B%BE.png" alt="docker架构图"></p><h4 id="原因2-k8s支持Docker的话需要额外付出许多"><a href="#原因2-k8s支持Docker的话需要额外付出许多" class="headerlink" title="原因2. k8s支持Docker的话需要额外付出许多"></a>原因2. k8s支持Docker的话需要额外付出许多</h4><p><strong>其次</strong>，<code>K8s</code> 为了支持 <code>Docker</code> 还需要单独开发和维护一个组件 – **<code>dockershim</code>**。</p><p>因为 <code>Docker</code> 不支持 <code>K8s</code> 的 CRI 标准，所以 <code>K8s</code> 需要搭建一个对接 <code>Docker</code> 的桥梁，就是 <code>dockershim</code>。</p><p><code>dockershim</code> 只是一个<strong>临时解决方案</strong>，长期的维护越来越麻烦，例如不兼容 cgroups v2、用户命名空间等新特性。</p><blockquote><p><strong>主要基于以上两个原因，K8s 决定弃用 Docker。</strong></p></blockquote><h2 id="6-Podman的安装"><a href="#6-Podman的安装" class="headerlink" title="6. Podman的安装"></a>6. Podman的安装</h2><p>[官网安装教程](<a href="https://podman.io/getting-started/installation">Podman Installation</a>)</p><h3 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h3><blockquote><p>注意：Podman 在 CentOS 7 的默认 Extras 存储库和 CentOS 8 和 Stream 的 AppStream 存储库中可用。</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum -y <span class="token function">install</span> <span class="token function">podman</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Ubutun-20-10-及以后新版"><a href="#Ubutun-20-10-及以后新版" class="headerlink" title="Ubutun 20.10 及以后新版"></a>Ubutun 20.10 及以后新版</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> -y update<span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> <span class="token function">podman</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="Ubuntu-20-04-或-低版本安装"><a href="#Ubuntu-20-04-或-低版本安装" class="headerlink" title="Ubuntu 20.04 或 低版本安装"></a>Ubuntu 20.04 或 低版本安装</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">.</span> /etc/os-release<span class="token builtin class-name">echo</span> <span class="token string">"deb https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/xUbuntu_<span class="token variable">$&#123;VERSION_ID&#125;</span>/ /"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/devel:kubic:libcontainers:stable.list<span class="token function">curl</span> -L https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/xUbuntu_<span class="token variable">$&#123;VERSION_ID&#125;</span>/Release.key <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -<span class="token function">sudo</span> <span class="token function">apt-get</span> update<span class="token function">sudo</span> <span class="token function">apt-get</span> -y upgrade<span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> <span class="token function">podman</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Debian"><a href="#Debian" class="headerlink" title="Debian"></a>Debian</h3><blockquote><p>Debian 11（Bullseye）存储库及更高版本支持</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum -y <span class="token function">install</span> <span class="token function">podman</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Fedora"><a href="#Fedora" class="headerlink" title="Fedora"></a>Fedora</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> dnf -y <span class="token function">install</span> <span class="token function">podman</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="7-Podman的使用"><a href="#7-Podman的使用" class="headerlink" title="7. Podman的使用"></a>7. Podman的使用</h2><p>podman命令与docker可以说一模一样，如果你熟悉docker的话，那就是无缝切换 <code>alias docker=podman</code> : )</p><h3 id="检查版本"><a href="#检查版本" class="headerlink" title="检查版本"></a>检查版本</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">podman</span> --version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="运行容器"><a href="#运行容器" class="headerlink" title="运行容器"></a>运行容器</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">podman</span> run -dt -p <span class="token number">80</span>:80 --name nginx -v nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="列出正在运行的容器"><a href="#列出正在运行的容器" class="headerlink" title="列出正在运行的容器"></a>列出正在运行的容器</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">podman</span> <span class="token function">ps</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="查看一个容器信息"><a href="#查看一个容器信息" class="headerlink" title="查看一个容器信息"></a>查看一个容器信息</h3><p>ps: 这里的nginx是运行容器时 <code>--name nginx</code> 设置的别名， 也可以使用<strong>容器id</strong>来指定所要查看的容器</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">podman</span> inspect nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="查看日志"><a href="#查看日志" class="headerlink" title="查看日志"></a>查看日志</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">podman</span> logs nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="查看运行中容器的资源使用情况"><a href="#查看运行中容器的资源使用情况" class="headerlink" title="查看运行中容器的资源使用情况"></a>查看运行中容器的资源使用情况</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">podman</span> <span class="token function">top</span> nginx<span class="token function">podman</span> stats nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="迁移容器"><a href="#迁移容器" class="headerlink" title="迁移容器"></a>迁移容器</h3><p>Podman 支持将容器从一台机器迁移到另一台机器。<br>首先，在源机器上对容器设置检查点，并将容器打包到指定位置。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">podman</span> container checkpoint <span class="token operator">&lt;</span>container_id<span class="token operator">></span> -e /tmp/checkpoint.tar.gz<span class="token function">scp</span> /tmp/checkpoint.tar.gz <span class="token operator">&lt;</span>destination_system<span class="token operator">></span>:/tmp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>然后，在目标机器上使用源机器上传输过来的打包文件对容器进行恢复。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">podman</span> container restore -i /tmp/checkpoint.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>更多命令可以通过<code>podman help</code>查看</p>]]></content>
      
      
      <categories>
          
          <category> 项目开发工程化 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 实现监听器Listener类</title>
      <link href="/posts/5def.html"/>
      <url>/posts/5def.html</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>​    几天前不是谈到了事件总线<code>eventBus</code>吗， 然后对里面的<strong>监听器</strong>相关知识挺感兴趣。今天我用代码简单实现了下，大家可以看看是否有需要改进的地方。可以跳转到本文文末查看我的最终代码。</p><h2 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h2><p>​    实现一个监听器对象Listener类，需要具有四个方法：</p><ul><li><code>on(event: String, fn: Function([data[, callback])])</code>  对事件<code>event</code>绑定一个监听器<code>fn</code></li><li><code>once(event: String, fn: Function)</code>  对事件<code>event</code>绑定一个<strong>只执行一次</strong>的监听器<code>fn</code></li><li><code>off(event: String [, fn: Function] )</code><ul><li>只有第一个参数时，对事件<code>event</code>解绑<strong>所有监听器</strong></li><li>有两个参数时,  对事件<code>event</code>解绑一个监听器<code>fn</code> (这里的<code>fn</code>需要与之前使用<code>on</code>函数绑定的<code>fn</code>指向同一个对象, 所以注意使用匿名函数做监听器函数的情况 <a href="https://aruoxi.top/posts/26su.html#toc-heading-7">参考<code>eventBus</code>一节中提到的匿名函数问题</a>)</li></ul></li><li><code>trigger(event: String, data: Object, callback: Function)</code>  触发事件<code>event</code>绑定的所有监听器，并传递参数<code>data</code>及回调函数<code>callback</code> (回调函数需要在<code>on</code>绑定的函数<code>fn</code>中自定义执行位置)</li></ul><h2 id="思路及代码"><a href="#思路及代码" class="headerlink" title="思路及代码"></a>思路及代码</h2><p>​    准备用一个<code>Map</code>来维护<strong>事件名与监听器列表的对应关系</strong>。</p><p>​    注意在<code>off</code>函数中有两种参数形式，以及在<code>trigger</code>函数中注意移除一次性的监听器函数，代码如下:</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 判断是否为函数</span><span class="token keyword">function</span> <span class="token function">isFunction</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">typeof</span> fn <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">&#125;</span><span class="token comment">// 监听器类</span><span class="token keyword">function</span> <span class="token function">Listener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 监听器Map， 维护事件名与监听器列表的对应关系</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">/**   * 添加一个监听器   * (并没有去重，相同的监听器函数可多次添加)   * @param &#123;string&#125; name 事件名   * @param &#123;function&#125; fn 监听器函数   */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">on</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFunction</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">once</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> fn <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'请绑定函数'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">/**   * 添加一个只执行一次的监听器   * @param &#123;string&#125; name 事件名   * @param &#123;function&#125; fn 监听器函数   */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">once</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFunction</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">once</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> fn <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'请绑定函数'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">/**   * 移除监听器   * 若无第二个参数fn, 则移除所有监听器   * @param &#123;string&#125; name 事件名   * @param &#123;function&#125; fn 监听器函数   */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">off</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fn<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFunction</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> items <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> index <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>fn <span class="token operator">===</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          items<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'请解绑函数'</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">/**   * 触发监听器   * @param &#123;string&#125; name 事件名   * @param &#123;object&#125; data 传递参数   * @param &#123;function&#125; callback 回调函数   */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">trigger</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> data<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">let</span> items <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> len <span class="token operator">=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">,</span> i <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> <span class="token punctuation">&#123;</span> once<span class="token punctuation">,</span> fn <span class="token punctuation">&#125;</span> <span class="token operator">=</span> items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token function">fn</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>once<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          items<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 移除只执行一次的监听器</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// 测试</span><span class="token keyword">let</span> l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Listener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>l<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token comment">// 每次使用trigger函数触发都会执行一次</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'event1 on'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// l.once('event1', (data) => &#123; // 只执行一次，之后不再执行(已被移除)</span><span class="token comment">//  console.log('event1 once', data);</span><span class="token comment">// &#125;)</span>l<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// event1 1</span>l<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 不执行</span>l<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 不执行</span><span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token comment">// 定义监听器函数fn</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">callback</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>l<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'event2'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> l<span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>l<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'event2'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token comment">// 传入数据 1, 并执行回调函数</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'callback1'</span><span class="token punctuation">,</span> res <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// callback1 2</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>l<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'event2'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 移除事件‘event2’提仅有的监听器函数fn， 所以之后的trigger函数无法正确执行</span>l<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'event2'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token comment">// 传入数据 2, 并执行回调函数</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'callback2'</span><span class="token punctuation">,</span> res <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// callback1 6</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> l<span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> eventBus </tag>
            
            <tag> 前端 </tag>
            
            <tag> js </tag>
            
            <tag> 源码实现 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue EventBus事件总线的使用及注意事项</title>
      <link href="/posts/26su.html"/>
      <url>/posts/26su.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、eventBus的介绍"><a href="#一、eventBus的介绍" class="headerlink" title="一、eventBus的介绍"></a>一、eventBus的介绍</h2><p>​    <code>EventBus</code> 又称为<strong>事件总线</strong>。在Vue中可以使用 <code>EventBus</code> 来作为沟通桥梁的概念，就像是所有组件共用相同的事件中心，可以向该中心注册发送事件或接收事件，所以组件都可以上下平行地通知其他组件，但也就是太方便所以若使用不慎，就会造成难以维护的“<strong>灾难</strong>”，因此需要<a href="https://github.com/posva/pinia" title="Pinia"><code>Pinia</code></a>或<a href="https://vuex.vuejs.org/zh/" title="Vuex"><code>Vuex</code></a>作为状态管理中心，将通知的概念上升到<strong>共享状态层次</strong>。</p><p>​    想先看关键点可跳转到<code>三、注意</code></p><h2 id="二、使用"><a href="#二、使用" class="headerlink" title="二、使用"></a>二、使用</h2><h3 id="1-初始化"><a href="#1-初始化" class="headerlink" title="1. 初始化"></a>1. 初始化</h3><p>​    Vue已经帮助我们准备了很多，我们只需新建一个Vue实例当作**全局的<code>eventBus</code>即可。可以如下在<code>main.js</code>中引入。</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * 添加事件总线 * @param &#123;*&#125; Vue */</span><span class="token keyword">var</span> EventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">$bus</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> EventBus<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 之后在所有的Vue组件中即可访问到事件总线eventBus了，如下</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>js代码中, 即可通过 this.$bus 访问到事件总线eventBus了</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'event'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通过eventBus发出事件信号'event'</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>template块中直接使用 $bus 也可以访问到</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$bus.$emit(<span class="token punctuation">'</span>event<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="2-订阅-amp-发布-amp-取消订阅"><a href="#2-订阅-amp-发布-amp-取消订阅" class="headerlink" title="2. 订阅&amp;发布&amp;取消订阅"></a>2. 订阅&amp;发布&amp;取消订阅</h3><h4 id="四个方法"><a href="#四个方法" class="headerlink" title="四个方法"></a>四个方法</h4><p>​    在我们的事件总线中主要使用<code>$on</code>和<code>$emit</code>来进行事件的订阅及发布, 使用<code>$off</code>取消订阅，还有<code>$once</code>用于一次性的订阅 <a href="https://cn.vuejs.org/v2/api/#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95-%E4%BA%8B%E4%BB%B6">官方文档 | Vue2实例方法$on、$once、$off、$emit</a></p><ul><li><code>$on</code>用来订阅某个信息，也可以理解为添加监听器；</li><li><code>$once</code>用来添加一个一次性的监听器，触发一次即失效了；</li><li><code>$emit</code>用来发布信息，或者说发出信号；</li><li>之后也会讲到<code>$off</code>是用来取消信息订阅，或者说移除监听器的。</li></ul><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>​    代码如下：(可查看<a href="https://eventbus-vue2.aruoxi.top/">在线演示demo</a>, 代码见<a href="https://github.com/hjwforever/eventbus-vue2">https://github.com/hjwforever/eventbus-vue2</a>)</p><h5 id="Template"><a href="#Template" class="headerlink" title="Template"></a>Template</h5><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hello<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>num: &#123;&#123; num &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>    <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>count: &#123;&#123; count &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>    <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>on<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Subscribe One<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>off<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>UnSubscribe One<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>offAll<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>UnSubscribe All<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>emit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click Me 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span> =    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$bus.$emit(<span class="token punctuation">'</span>event<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click Me 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"EventBusDemo"</span><span class="token punctuation">,</span>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 申明变量</span>      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 统计事件订阅的方法数目</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// 页面初始化后， 进行一次事件订阅</span>  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// 页面销毁前取消订阅，否则有时候可能会导致订阅多次而没有取消订阅，最终一个方法执行多次</span>  <span class="token function">beforeDestory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 一般不会使用offAll吧，有点暴力hh, 注意不要随意订事件阅即可</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 定义函数方法</span>    <span class="token comment">// data为$emit传递的参数</span>    <span class="token comment">// 使用callback(arg)可以将arg作为参数返回给$on的回调函数(使用且仅使用最早callback的那个参数arg)</span>    <span class="token function">myEvent</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">++</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"$emit data"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"num = "</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token comment">// 对事件添加一次订阅, 即添加一个监听器</span>    <span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 通过eventBus订阅事件'event'绑定一个'myEvent'方法， 即添加一个监听器</span>      <span class="token comment">// 注意，同一方法可添加多次，并且如果没有被取消订阅的话，信息触发时全都会被一一执行</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">"event"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 统计数加一</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"count = "</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token comment">// 取消事件的一次订阅, 即移除一个监听器</span>    <span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 取消对事件'event'的一个名为'myEvent'方法的订阅</span>      <span class="token comment">// 注意, 如果已经添加了多次，则只可取消一次，即$off这种双参数用法只可移除一个监听器</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">"event"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 统计数减一</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">--</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"count = "</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token comment">// 取消事件的所有订阅, 即移除所有监听器</span>    <span class="token function">offAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 取消对事件'event'的所有订阅</span>      <span class="token comment">// 即$off这种一个参数的用法, 只可移除指定事件名的所有监听器</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">"event"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 统计数归零</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"count = "</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token comment">// 发送事件信号</span>    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// 通过eventBus发出事件信号'event', 传递参数， 并定义回调函数(其参数为$on 第一个callback回来的值)</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"event"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token comment">// 回调函数</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"[event callback]: res"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="三、注意"><a href="#三、注意" class="headerlink" title="三、注意"></a>三、注意</h2><ol><li><p><code>$bus.$on</code>对同一事件可<strong>绑定多次</strong>监听器，信息触发时全都会执行一次;</p></li><li><p><code>$bus.$off</code>有<strong>两个参数</strong>和<strong>一个参数</strong>的用法</p><p><a href="https://v738c.csb.app/">另一个实验demo</a> (<code>test</code>为true和false对应下面的<strong>第2小点</strong>中的两种情况，即是否绑定的是同一个函数方法作为监听器)</p><ol><li><p>使用<code>$bus.$off(event, fn)</code> **方法解绑监听器对 <code>匿名函数fn</code>是无效的;</p><blockquote><p>没有函数名，也无法获得之前已绑定的<strong>匿名函数监听器fn0</strong>的对象引用，使用<code>eventBus</code>自然找不到指定的监听器去进行解绑操作</p></blockquote></li><li><p><code>$bus.$off(event, fn)</code> <strong>方法移除指定事件的</strong>一个**指定的函数方法监听器; (这个监听器函数方法必须与之前使用<code>$bus.$on</code>绑定的监听器函数对象是同一个对象，否则找不到指定的监听器函数，也就无法移除任何监听器了，这时情况就类似于尝试解绑匿名函数监听器了)</p></li><li><p><code>$bus.$off(event)</code>方法移除指定事件名的<strong>所有</strong>监听器</p></li></ol></li><li><p>尽量保证<code>$bus.$on</code>与<code>$bus.$off</code>成双成对</p><p>​    推荐使用钩子函数<code>mounted</code>与<code>beforeDestory</code>, 即在<strong>页面初始化完成后</strong>进行事件订阅，并在<strong>页面销毁时(前)<strong>取消相应事件订阅。以此保证<code>eventBus</code>的纯洁，否则再次进入这个页面时，<code>eventBus</code>还带有上次绑定的监听器，如果你再次绑定一次监听器的话，那么当信号触发时，这个事件就会</strong>重复执行</strong>。</p></li><li><p><code>$bus.$on(event, fn, callback)</code> 方法具有三个参数</p><ul><li><p>第一个参数是<strong>事件名</strong></p></li><li><p>第二个参数是绑定的<strong>监听器函数方法</strong></p></li><li><p>第三个参数是<strong>回调函数</strong>，例子如下</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">myEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">"event"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myEvent<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> event<span class="token punctuation">,</span> data <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"[event callback]: EventName"</span><span class="token punctuation">,</span> event<span class="token punctuation">,</span> <span class="token string">" data"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'event'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token string">'something'</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p>Vue2 与 Vue3关于eventBus的区别</p><blockquote><p><code>Vue2 eventBus</code>的具体使用方法可查阅官方文档 <a href="https://cn.vuejs.org/v2/api/#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95-%E4%BA%8B%E4%BB%B6">Vue2实例方法$on、$once、$off、$emit</a></p><p><strong>另外需注意的是， Vue3中移除了 <code>$on</code>, <code>$off</code> 及<code>$once</code>， 只剩下 <code>$emit</code> 用于对父组件传递信息</strong></p><p><code>Vue3</code>中想使用<code>eventBus</code>可以借助<strong>第三方库</strong>如<code>vue3-eventbus</code>等， 或者<strong>自己实现</strong></p></blockquote></li></ol><h2 id="四、结语"><a href="#四、结语" class="headerlink" title="四、结语"></a>四、结语</h2><p>​    在项目中使用全局的事件总线<code>eventBus</code>可以帮助我们即使在不同页面中也可传递信息，可以说是非常方便的。</p><p>​    只要注意上面说的几点，劈开雷区，就可以愉快的使用了。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/hjwforever/eventbus-vue2">https://github.com/hjwforever/eventbus-vue2</a></p><p><a href="https://eventbus-vue2.aruoxi.top/">在线演示demo</a></p><p><a href="https://v738c.csb.app/">另一个实验demo</a></p><p><a href="https://cn.vuejs.org/v2/api/#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95-%E4%BA%8B%E4%BB%B6">Vue实例方法$on、$once、$off、$emit</a></p><p><a href="https://zhuanlan.zhihu.com/p/72777951">https://zhuanlan.zhihu.com/p/72777951</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> eventBus </tag>
            
            <tag> 前端 </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浏览器交互 | 十个或许对你有用的WEB API</title>
      <link href="/posts/48be.html"/>
      <url>/posts/48be.html</url>
      
        <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>​    <strong><code>API</code></strong> 是 <strong><code>Application Programming Interface</code></strong> 的首字母缩写，它定义了多个软件架构层之间的交互。 程序员可以在软件开发中使用 API 轻松执行一些复杂的任务。 如果没有 API，程序员的生活会很劳累——想象一下每个功能都需要自己手写代码来实现，并且可能无法正确（例如安全）访问数据，还要去了解不必要的低级细节等。</p><p>​    现在我们来谈谈 <code>Web API</code>，它有许多非常有用的对象、属性和函数，这些可用来执行从访问 DOM 到管理音频、视频、图形等复杂的任务。</p><blockquote><p>注意：<code>Web API</code> 只不过是使用普通 <code>JavaScript</code> 编写和公开的接口、函数、对象、属性。</p><p>然而，<code>Web API</code> 的使用不仅限于基于普通 <code>JavaScript</code> 的应用程序。将其配合<code>React</code> 或 <code>Vue</code> 等框架一起使用也非常简单。</p></blockquote><p>​    如果你已经有了一些 Web 开发经验，那么你可能已经使用了多种<code>Web API</code>啦。 下面有一些比较有名的 <code>Web API</code> 列表。</p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API" title="CanvasAPI"><code>Canvas</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API" title="Fetch API"><code>Fetch</code></a> (提供了网络请求对象的通用接口)</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/History_API" title="History API"><code>History</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Geolocation" title="Geolocation API"><code>Geolocation</code></a> (获取设备的地理位置)</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API" title="DOM API"><code>DOM</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Console" title="Console API"><code>Console</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API" title="Drag &amp; Drop API"><code>Drag &amp; Drop API</code></a></li></ul><h2 id="十个或许对你有用的WEB-API"><a href="#十个或许对你有用的WEB-API" class="headerlink" title="十个或许对你有用的WEB API"></a>十个或许对你有用的WEB API</h2><blockquote><p>一下代码例子可参考这个<a href="https://github.com/hjwforever/LearningLab/blob/master/JS/Web-API/src/components/NewWebAPI.vue" title="GitHub仓库">Github仓库</a> ，框架使用的是<code>Vue</code></p></blockquote><h3 id="一、📺-Fullscreen-API"><a href="#一、📺-Fullscreen-API" class="headerlink" title="一、📺 Fullscreen API"></a>一、📺 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API" title="全屏 API">Fullscreen API</a></h3><hr><blockquote><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API" title="全屏 API"><code>Fullscreen API</code></a> 可以让一个元素与其子元素全屏显示，并且同时隐藏其他内容。</p><p>不需要时可以退出全屏模式。</p><p>更多细节可参考MDN上的这个<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API/Guide" title="全屏指南">指南</a></p></blockquote><p>​    这个全屏API应该是最通俗易懂易上手的了吧。</p><p>​    实际上，全屏 API 没有它自己的接口实现，而是提供了一些其他接口如在 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document"><code>Document</code></a> 和 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element"><code>Element</code></a> 接口中增加了一些方法，可用于允许打开关闭全屏模式。</p><h4 id="1-进入全屏模式，从而展示某个元素及其子元素"><a href="#1-进入全屏模式，从而展示某个元素及其子元素" class="headerlink" title="1. 进入全屏模式，从而展示某个元素及其子元素"></a>1. 进入全屏模式，从而展示某个元素及其子元素</h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/requestFullScreen"><code>Element.requestFullscreen()</code></a> 发出异步请求使元素进入全屏模式，要注意该元素是否被允许进入全局模式的哦。</p><h4 id="2-请求退出全屏模式"><a href="#2-请求退出全屏模式" class="headerlink" title="2. 请求退出全屏模式"></a>2. 请求退出全屏模式</h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/exitFullscreen"><code>Document.exitFullscreen()</code></a> 用于让当前文档退出全屏模式</p><blockquote><p><strong>备注:</strong> 如果一个元素A在请求进入全屏模式之前，已经存在其他元素处于全屏状态，当这个元素A退出全屏模式之后，之前的元素仍然处于全屏状态。浏览器内部维护了一个<strong>全屏元素栈</strong>用于实现这个目的。</p></blockquote><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><h5 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h5><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../assets/logo.png<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logo<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"logo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>elem<span class="token punctuation">.</span>requestFullscreen<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  elem<span class="token punctuation">.</span><span class="token function">requestFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 请求从id为"logo"的元素进入全屏模式</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="二、📋-Clipboard-Async-API"><a href="#二、📋-Clipboard-Async-API" class="headerlink" title="二、📋 Clipboard Async API"></a>二、📋 Clipboard Async API</h3><blockquote><p>复制、粘贴 API， 每个CV程序猿的好伙伴!!</p></blockquote><h4 id="判断浏览器支持情况"><a href="#判断浏览器支持情况" class="headerlink" title="判断浏览器支持情况"></a>判断浏览器支持情况</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>clipboard <span class="token comment">// 剪贴板是否存在</span>     <span class="token operator">&amp;&amp;</span> navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span>read <span class="token comment">// 剪贴板是否可读</span>     <span class="token operator">&amp;&amp;</span> navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span>write<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// 剪贴板是否可写</span>   <span class="token comment">// 支持</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>   <span class="token comment">// 不支持</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="对剪贴板的读写"><a href="#对剪贴板的读写" class="headerlink" title="对剪贴板的读写"></a>对剪贴板的读写</h4><p>读操作     <code>const text = await navigator.clipboard.readText();</code></p><p>写操作    <code>await navigator.clipboard.writeText(copyText); // 将copyText的值写入剪贴板</code></p><h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><p>这个比较简单，直接上demo:</p><h5 id="HTML-1"><a href="#HTML-1" class="headerlink" title="HTML"></a>HTML</h5><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>copy<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>performCopy<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>copy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>copy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>paste<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="JS-1"><a href="#JS-1" class="headerlink" title="JS"></a>JS</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// copy异步函数</span><span class="token keyword">async</span> <span class="token function">performCopy</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span><span class="token function">writeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>copy<span class="token punctuation">)</span> <span class="token comment">// 将copyText的值写入剪贴板</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>copy<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> copied to clipboard</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Failed to copy: '</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// paste异步函数</span><span class="token keyword">async</span> <span class="token function">performPaste</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span><span class="token function">readText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 从剪贴板读取上一次复制的值</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>paste <span class="token operator">=</span> text    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Pasted content: '</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Failed to read clipboard contents: '</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-🧐-Resize-Observer-API"><a href="#3-🧐-Resize-Observer-API" class="headerlink" title="3. 🧐 Resize Observer API"></a>3. 🧐 Resize Observer API</h3><h3 id="4-📷-Image-Capture-API"><a href="#4-📷-Image-Capture-API" class="headerlink" title="4. 📷 Image Capture API"></a>4. 📷 Image Capture API</h3><h3 id="5-📡-Broadcast-Channel-API"><a href="#5-📡-Broadcast-Channel-API" class="headerlink" title="5. 📡 Broadcast Channel API"></a>5. 📡 Broadcast Channel API</h3><h3 id="6-⏱️-Performance-Interface-API"><a href="#6-⏱️-Performance-Interface-API" class="headerlink" title="6. ⏱️ Performance Interface API"></a>6. ⏱️ Performance Interface API</h3><h3 id="7-🔋-Battery-Status-API"><a href="#7-🔋-Battery-Status-API" class="headerlink" title="7. 🔋 Battery Status API"></a>7. 🔋 Battery Status API</h3><h3 id="8-📶-Network-Information-API"><a href="#8-📶-Network-Information-API" class="headerlink" title="8. 📶 Network Information API"></a>8. 📶 Network Information API</h3><h3 id="9-📳-Vibration-API"><a href="#9-📳-Vibration-API" class="headerlink" title="9. 📳 Vibration API"></a>9. 📳 Vibration API</h3><h3 id="10-📻-Bluetooth-API"><a href="#10-📻-Bluetooth-API" class="headerlink" title="10. 📻 Bluetooth API"></a>10. 📻 Bluetooth API</h3><p>未完待续。。。</p><h2 id="痛点——关于WEB-API的兼容性"><a href="#痛点——关于WEB-API的兼容性" class="headerlink" title="痛点——关于WEB API的兼容性"></a>痛点——关于WEB API的兼容性</h2><p>​    使用 Web API 的一个较大的痛点是，其中的大多数尚未标准化。 这意味着，对 Web API 的支持可能因浏览器供应商而异。 例如，我们可能会发现一个适用于 Chrome 浏览器的 API，但尚未支持 Firefox 或 Edge 浏览器。</p><p>​    这里顺便介绍下这个常用的<strong>API兼容性查询</strong>网站 <a href="https://caniuse.com/">https://caniuse.com</a></p><h3 id="有用的工具网站-————-Can-I-Use"><a href="#有用的工具网站-————-Can-I-Use" class="headerlink" title="有用的工具网站 ———— Can I Use"></a>有用的工具网站 ———— Can I Use</h3><p>​    从这个网站<a href="https://caniuse.com/">https://caniuse.com</a>中，你可以查询某个API在<strong>各个版本</strong>的<strong>不同浏览器</strong>中的兼容性，比如IE，Chrome, Firefox，UC浏览器，QQ浏览器等。</p><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/2021/09/25/can-i-use-canvas.jpg" alt="Can I Use Canvas?"></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API">https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API/Guide">https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API/Guide</a><br><a href="https://caniuse.com/">https://caniuse.com/</a><br><a href="https://github.com/hjwforever/LearningLab/blob/master/JS/Web-API/src/components/NewWebAPI.vue">https://github.com/hjwforever/LearningLab/blob/master/JS/Web-API/src/components/NewWebAPI.vue</a><br><a href="https://github.com/weiweiwei256/basics-learn/blob/master/vue-cli/src/new-api/NewApi.vue">https://github.com/weiweiwei256/basics-learn/blob/master/vue-cli/src/new-api/NewApi.vue</a><br><a href="https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use">https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS 函数尾递归优化</title>
      <link href="/posts/a0c0.html"/>
      <url>/posts/a0c0.html</url>
      
        <content type="html"><![CDATA[<h3 id="JS-函数尾递归优化"><a href="#JS-函数尾递归优化" class="headerlink" title="JS 函数尾递归优化"></a>JS 函数尾递归优化</h3><blockquote><p>函数调用自身，称为递归。如果尾调用自身，就称为尾递归。<br>递归非常耗费内存，因为需要同时保存成千上百个调用帧，很容易发生“栈溢出”错误（stack overflow）。但对于尾递归来说，由于只存在一个调用帧，所以永远不会发生“栈溢出”错误。</p></blockquote><h3 id="第-N-个泰波那契数"><a href="#第-N-个泰波那契数" class="headerlink" title="第 N 个泰波那契数"></a>第 N 个泰波那契数</h3><p><a href="https://leetcode-cn.com/problems/n-th-tribonacci-number">Leetcode</a></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * @param &#123;number&#125; n * @return &#123;number&#125; */</span><span class="token keyword">function</span> <span class="token function">tribonacci</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> c1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> c2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> c3 <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> c1 <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">1</span> <span class="token operator">:</span> c3<span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token function">tribonacci</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> c2<span class="token punctuation">,</span> c3<span class="token punctuation">,</span> c1<span class="token operator">+</span>c2<span class="token operator">+</span>c3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tribonacci</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 0</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tribonacci</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tribonacci</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tribonacci</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 4</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tribonacci</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1389537</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="再举个例子，斐波那契数列的函数尾递归优化"><a href="#再举个例子，斐波那契数列的函数尾递归优化" class="headerlink" title="再举个例子，斐波那契数列的函数尾递归优化"></a>再举个例子，斐波那契数列的函数尾递归优化</h3><p><a href="https://leetcode-cn.com/problems/n-th-tribonacci-number/">Leetcode</a></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token parameter">n <span class="token punctuation">,</span> c1<span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">,</span> c2<span class="token operator">=</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span><span class="token punctuation">(</span> n <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> c2<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> c2<span class="token punctuation">,</span> c1 <span class="token operator">+</span> c2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// 573147844013817200000</span><span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span> <span class="token comment">// 7.0330367711422765e+208</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>“尾调用优化”对递归操作意义重大，所以一些函数式编程语言将其写入了语言规格。ES6 亦是如此，第一次明确规定，所有 ECMAScript 的实现，都必须部署“尾调用优化”。</p><p>这就是说，ES6 中只要使用尾递归，就不会发生栈溢出（或者层层递归造成的超时），相对。</p><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://es6.ruanyifeng.com/#docs/function#%E5%B0%BE%E9%80%92%E5%BD%92">函数的扩展 - ECMAScript 6入门 (ruanyifeng.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS数据类型及存储方式</title>
      <link href="/posts/cef4.html"/>
      <url>/posts/cef4.html</url>
      
        <content type="html"><![CDATA[<h1 id="JS数据类型及存储方式"><a href="#JS数据类型及存储方式" class="headerlink" title="JS数据类型及存储方式"></a>JS数据类型及存储方式</h1><h2 id="一、数据类型"><a href="#一、数据类型" class="headerlink" title="一、数据类型"></a>一、数据类型</h2><ol><li> 七种基本数据类型(值类型):</li></ol><ul><li><p>字符串(String)</p></li><li><p>数字(Number)</p></li><li><p>布尔值(Boolean)</p></li><li><p>空值(Null)</p></li><li><p>未定义(undefined)</p></li><li><p>符号(Symbol)</p></li><li><p>任意精度的整数(BigInt)</p></li></ul><ol start="2"><li> 引用数据类型:</li></ol><ul><li><p>对象(Object)</p></li><li><p>数组(Array)</p></li><li><p>函数(Function)</p></li></ul><h2 id="二、存储方式——栈和堆"><a href="#二、存储方式——栈和堆" class="headerlink" title="二、存储方式——栈和堆"></a>二、存储方式——栈和堆</h2><blockquote><p>基本数据类型的内存分配：直接将数据存储在<strong>栈空间</strong>。<br>引用数据类型的内存分配：将<strong>数据地址</strong>存储在<strong>栈空间</strong>，真正的数据存储在<strong>堆空间</strong>中。<br>堆内存是无序存储，可以根据引用直接获取。</p></blockquote><h3 id="内存分配"><a href="#内存分配" class="headerlink" title="内存分配"></a>内存分配</h3><p>①原始数据类型：<br>  <strong>栈内存</strong>  原始数据类型直接存储在栈(stack)中的简单数据段，占据空间小、大小比较稳定，属于被频繁使用数据，所以放入栈中存储；</p><p>②引用数据类型：<br>  <strong>堆内存</strong>  引用数据类型存储在堆(heap)中的对象,占据空间大、大小不固定, 而在栈内存中只是存了一个地址来表示对堆内存中的引用。</p><h2 id="三、简单类型与复杂类型传参"><a href="#三、简单类型与复杂类型传参" class="headerlink" title="三、简单类型与复杂类型传参"></a>三、简单类型与复杂类型传参</h2><ul><li><strong>简单类型传参</strong>：函数形参可看作一个变量，当把值类型变量传给形参，是把栈空间中的值复制一份传过去，<strong>形参与实参操作的不是同一个对象</strong>。</li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>   <span class="token comment">// 1</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>      <span class="token comment">// !! 这里修改b，只会修改b的值，而a的值不受影响</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>   <span class="token comment">// 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>复杂类型</strong>：函数形参可看作一个变量，当把引用类型变量传给形参，是把栈空间中的地址传过去，<strong>形参与实参保存同一个地址，操作同一个对象</strong>。</li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &#123; name: '张三' &#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>   <span class="token comment">// &#123; name: '张三' &#125;</span>b<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'李四'</span><span class="token punctuation">;</span>  <span class="token comment">// !! 这里修改b，会修改b指向的实际对象，即与a指向的同一个的对象</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &#123; name: '李四' &#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>   <span class="token comment">// &#123; name: '李四' &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="四、数据类型判断方法"><a href="#四、数据类型判断方法" class="headerlink" title="四、数据类型判断方法"></a>四、数据类型判断方法</h2><h3 id="1-typeof"><a href="#1-typeof" class="headerlink" title="1. typeof"></a>1. <code>typeof</code></h3><blockquote><p>使用<code>typeof</code>进行判断时, 返回结果一般只包括这<strong>8</strong>种：<br><code>number</code>,<code>boolean</code>,<code>string</code>,<code>function</code>,<code>object</code>,<code>undefined</code>,<code>symbol</code>(ECMAScript 2015 新增),<code>bigint</code>(ECMAScript 2020新增)</p><p><strong>注意!! 没有<code>null</code></strong></p></blockquote><p>判断除了<code>null</code>的基本数据类型时，可以使用<code>typeof</code>关键字， 示例如下：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">typeof</span> <span class="token string">'123'</span>     <span class="token comment">//  string</span><span class="token keyword">typeof</span> <span class="token number">1</span>        <span class="token comment">//  number</span><span class="token keyword">typeof</span> <span class="token boolean">true</span>     <span class="token comment">//  boolean</span><span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>   <span class="token comment">// symbol</span><span class="token keyword">typeof</span> <span class="token number">111n</span>    <span class="token comment">//  bigint</span><span class="token keyword">typeof</span> <span class="token keyword">undefined</span>        <span class="token comment">// undefined</span><span class="token keyword">typeof</span> <span class="token keyword">null</span>     <span class="token comment">// object</span><span class="token keyword">typeof</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">b</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">&#125;</span>    <span class="token comment">// object</span><span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">typeof</span> c     <span class="token comment">//  function</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof#%E7%A4%BA%E4%BE%8B">官方文档更多更详细的示例: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof#示例</a></p><blockquote><p>这里解释一下为何用typeof判断null时，得到的结果为何是对象object：<br>这是因为在 JavaScript 最初的实现中，JavaScript 中的值是由一个表示类型的标签和实际数据值表示的。<strong>对象的类型标签是 0。</strong>然而<strong>null的机器码全都是0</strong>，所以就被当成了对象看待.</p></blockquote><h3 id="2-constructor"><a href="#2-constructor" class="headerlink" title="2. constructor"></a>2. constructor</h3><blockquote><p>constructor是prototype对象上的属性，指向构造函数。</p><p>根据实例对象寻找属性的顺序，若实例对象上没有实例属性或方法时，就去原型链上寻找，因此，实例对象也是能使用constructor属性的。</p></blockquote><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> num  <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">var</span> str  <span class="token operator">=</span> <span class="token string">'abcdef'</span><span class="token punctuation">;</span><span class="token keyword">var</span> bool <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr  <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> json <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'wenzi'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">25</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this is function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">var</span> und  <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><span class="token keyword">var</span> nul  <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> reg  <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z]&#123;5,20&#125;$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span><span class="token keyword">var</span> error<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> tom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// !! undefined和null没有constructor属性 !!</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>    tom<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Person<span class="token punctuation">,</span>    num<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Number<span class="token punctuation">,</span>    str<span class="token punctuation">.</span>constructor<span class="token operator">==</span>String<span class="token punctuation">,</span>    bool<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Boolean<span class="token punctuation">,</span>    arr<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Array<span class="token punctuation">,</span>    json<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Object<span class="token punctuation">,</span>    func<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Function<span class="token punctuation">,</span>    date<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Date<span class="token punctuation">,</span>    reg<span class="token punctuation">.</span>constructor<span class="token operator">==</span>RegExp<span class="token punctuation">,</span>    error<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//以上所有结果均为true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>1.<code>null</code>和<code>undefined</code>是无效的对象，因此是不会有<code>constructor</code>存在的，这两种类型的数据可以通过第四种方法来判断。(后面第三种方法 通过<code>instanceof</code>无法判断<code>null</code>和<code>undefined</code>也是相同道理)<br>2.JS对象的<code>constructor</code>是不稳定的，这个主要体现在自定义对象上，当开发者重写<code>prototype</code>后，原有的<code>constructor</code>会丢失，<code>constructor</code>会默认为<code>Object</code></p><h3 id="3-instanceof"><a href="#3-instanceof" class="headerlink" title="3. instanceof"></a>3. instanceof</h3><blockquote><p>语法: <code>object instanceof constructor</code></p><blockquote><p>object：某个实例对象</p><p>constructor: 某个构造函数</p></blockquote><p><strong>instanceof 运算符用来检测 <code>constructor.prototype</code> 是否存在于参数 <code>object</code> 的原型链上。</strong></p></blockquote><h4 id="一般用来判断引用数据类型的判断，如：Object，Function，Array，Date，RegExp等"><a href="#一般用来判断引用数据类型的判断，如：Object，Function，Array，Date，RegExp等" class="headerlink" title="一般用来判断引用数据类型的判断，如：Object，Function，Array，Date，RegExp等"></a>一般用来判断引用数据类型的判断，如：Object，Function，Array，Date，RegExp等</h4><blockquote><p>注意<code>null</code>和<code>undefined</code>是空值或未定义，是不存在prototype属性，没有原型链的，也就无法使用<code>instanceof</code>来判断了</p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>    <span class="token string">'advsz'</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token comment">//false</span>    <span class="token number">123</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">,</span> <span class="token comment">//false</span>    <span class="token boolean">false</span> <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">,</span> <span class="token comment">//false</span>    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">,</span> <span class="token comment">//true</span>    <span class="token punctuation">&#123;</span> <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">b</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token literal-property property">c</span><span class="token operator">:</span><span class="token number">3</span> <span class="token punctuation">&#125;</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token comment">//true</span>    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">,</span> <span class="token comment">//true</span>    <span class="token keyword">undefined</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token comment">//false</span>    <span class="token keyword">null</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token comment">//false</span>    <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">,</span> <span class="token comment">//true</span>    <span class="token operator">/</span><span class="token operator">^</span>\<span class="token punctuation">[</span><span class="token function">object</span> <span class="token punctuation">(</span>\<span class="token constant">S</span><span class="token operator">+</span><span class="token punctuation">)</span>\<span class="token punctuation">]</span>$<span class="token operator">/</span>g <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span><span class="token punctuation">,</span> <span class="token comment">//true</span>    <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Error</span> <span class="token comment">//true</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="instanceof-也可以判断一个实例是否是其父类型或者祖先类型的实例。"><a href="#instanceof-也可以判断一个实例是否是其父类型或者祖先类型的实例。" class="headerlink" title="instanceof 也可以判断一个实例是否是其父类型或者祖先类型的实例。"></a>instanceof 也可以判断一个实例是否是其父类型或者祖先类型的实例。</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token parameter">make<span class="token punctuation">,</span> model<span class="token punctuation">,</span> year</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>make <span class="token operator">=</span> make<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>model <span class="token operator">=</span> model<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>year <span class="token operator">=</span> year<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> <span class="token function-variable function">BWM</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token class-name">BWM</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> mycar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BWM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mycar <span class="token keyword">instanceof</span> <span class="token class-name">BWM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 返回 true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mycar <span class="token keyword">instanceof</span> <span class="token class-name">Car</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 返回 true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mycar <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 返回 true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="instanceof-的实现原理"><a href="#instanceof-的实现原理" class="headerlink" title="instanceof 的实现原理"></a>instanceof 的实现原理</h4><blockquote><p>instanceof 主要的实现原理就是只要右边变量的 prototype 在左边变量的原型链上即可。</p><p>因此，instanceof 在查找的过程中会遍历左边变量的原型链，直到找到右边变量的 prototype，如果查找失败，则会返回 false，告诉我们左边变量并非是右边变量的实例。</p></blockquote><p>大致代码原理如下：</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">new_instance_of</span><span class="token punctuation">(</span><span class="token parameter">leftVaule<span class="token punctuation">,</span> rightVaule</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> rightProto <span class="token operator">=</span> rightVaule<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// 取右表达式的 prototype 值</span>    leftVaule <span class="token operator">=</span> leftVaule<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span> <span class="token comment">// 取左表达式的__proto__值</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>leftVaule <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>leftVaule <span class="token operator">===</span> rightProto<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        leftVaule <span class="token operator">=</span> leftVaule<span class="token punctuation">.</span>__proto__    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-通用及最准确的方法——Object-prototype-toString-call-方法"><a href="#4-通用及最准确的方法——Object-prototype-toString-call-方法" class="headerlink" title="4. 通用及最准确的方法——Object.prototype.toString.call()方法"></a>4. 通用及最准确的方法——<code>Object.prototype.toString.call()</code>方法</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Number]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object String]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Boolean]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Object]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Array]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Function]</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Date]</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>Math<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Math]</span><span class="token comment">//Since JavaScript 1.8.5</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Undefined]</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Null]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-以上1-4两种方法的结合版，如果不是typeof能判断的基本数据类型，则使用进行判断，代码示例如下："><a href="#5-以上1-4两种方法的结合版，如果不是typeof能判断的基本数据类型，则使用进行判断，代码示例如下：" class="headerlink" title="5. 以上1,4两种方法的结合版，如果不是typeof能判断的基本数据类型，则使用进行判断，代码示例如下："></a>5. 以上1,4两种方法的结合版，如果不是<code>typeof</code>能判断的基本数据类型，则使用进行判断，代码示例如下：</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * 获取数据类型 * @param &#123;any&#125; target * @return &#123;String&#125; */</span><span class="token keyword">const</span> <span class="token function-variable function">getType</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> type <span class="token operator">=</span> <span class="token keyword">typeof</span> target<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">!=</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> type<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\[object (\S+)\]$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">'$1'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>参考链接:</p><p>  <a href="https://blog.csdn.net/xiaolinlife/article/details/90518849">时清云  判断js数据类型的四种方法和原理</a></p><p>  <a href="https://www.cnblogs.com/hahazexia/p/8886829.html">hahazexia 判断数据类型的方法</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Golang安装教程【Windows/Linux】</title>
      <link href="/posts/cd3e.html"/>
      <url>/posts/cd3e.html</url>
      
        <content type="html"><![CDATA[<h2 id="Windows下安装Go"><a href="#Windows下安装Go" class="headerlink" title="Windows下安装Go"></a>Windows下安装Go</h2><h4 id="1-进入官网下载界面"><a href="#1-进入官网下载界面" class="headerlink" title="1. 进入官网下载界面"></a>1. 进入官网下载界面</h4><p><a href="https://golang.org/dl/">https://golang.org/dl/</a></p><h4 id="2-找到对应Windows平台的Go安装程序"><a href="#2-找到对应Windows平台的Go安装程序" class="headerlink" title="2. 找到对应Windows平台的Go安装程序"></a>2. 找到对应Windows平台的Go安装程序</h4><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/dl-windows.png" alt="选择安装程序"></p><h4 id="3-下载完成后，点击安装"><a href="#3-下载完成后，点击安装" class="headerlink" title="3. 下载完成后，点击安装"></a>3. 下载完成后，点击安装</h4><blockquote><p>可以选择安装位置</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/dl-finish.png" alt="下载完成"></p><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/install1.png" alt="开始安装"></p><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/install2-1.png" alt="接受条款"></p><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/install3.png" alt="选择安装位置"></p><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/install4.png" alt="安装完成"></p><h4 id="4-验证安装成功"><a href="#4-验证安装成功" class="headerlink" title="4. 验证安装成功"></a>4. 验证安装成功</h4><p>通过以下命令检验是否安装成功</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">go version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/vertify.png" alt="验证安装"></p><blockquote><p>注意安装程序给环境变量中新增了个<strong>GOPATH</strong></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/path.png" alt="环境变量—GOPATH"></p><h2 id="Linux下安装Go"><a href="#Linux下安装Go" class="headerlink" title="Linux下安装Go"></a>Linux下安装Go</h2><h3 id="一、通过系统下载源安装Go"><a href="#一、通过系统下载源安装Go" class="headerlink" title="一、通过系统下载源安装Go"></a>一、通过系统下载源安装Go</h3><h4 id="1-Ubuntu、Debian或Linux-Mint安装Go语言"><a href="#1-Ubuntu、Debian或Linux-Mint安装Go语言" class="headerlink" title="(1) Ubuntu、Debian或Linux Mint安装Go语言"></a>(1) Ubuntu、Debian或Linux Mint安装Go语言</h4><ol><li>基于 Debian的 Linux 发行版本都可以使用 <code>apt-get</code> 命令来进行安装：</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> golang<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>要查看当前系统安装的 Go 语言版本可以使用如下命令：</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">go version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>由于 Go 代码必需保存在 workspace(工作区)中，所以我们必需在 <strong>Home</strong> 目录(例如 ~/workspace)创建一个workspace 目录并定义 <strong>GOPATH</strong> 环境变量指向该目录，这个目录将被 Go 工具用于保存和编辑二进制文件。</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> ~/workspace<span class="token builtin class-name">echo</span> <span class="token string">'export GOPATH="$HOME/workspace"'</span> <span class="token operator">>></span> ~/.bashrc<span class="token builtin class-name">source</span> ~/.bashrc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>根据不同的需要，我们可以使用 apt-get 安装 Go tools：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-cache</span> search golang<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="2-CentOS、Fedora或RHEL安装Go语言"><a href="#2-CentOS、Fedora或RHEL安装Go语言" class="headerlink" title="(2) CentOS、Fedora或RHEL安装Go语言"></a>(2) CentOS、Fedora或RHEL安装Go语言</h4><ol><li>基于 Red Hat 的 Linux 发行版本都可以使用 yum 命令来进行安装：</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> golang<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>要查看当前系统安装的 Go 语言版本可以使用如下命令：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">go version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>接下来还是在 Home 目录(例如 ~/workspace)创建一个 workspace 目录并定义 GOPATH 环境变量指向该目录，这个目录将被 Go 工具用于保存和编辑二进制文件。</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> ~/workspace<span class="token builtin class-name">echo</span> <span class="token string">'export GOPATH="$HOME/workspace"'</span> <span class="token operator">>></span> ~/.bashrc<span class="token builtin class-name">source</span> ~/.bashrc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="3"><li>根据不同的需要，我们可以使用 yum 安装 Go tools：</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum search golang<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="二、手动安装"><a href="#二、手动安装" class="headerlink" title="二、手动安装"></a>二、手动安装</h3><ol><li><p>下载安装包</p><blockquote><p>在<a href="https://golang.org/dl/">https://golang.org/dl/</a> 查找对应Linux的下载包地址</p></blockquote><p>64-bit Linux</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://golang.org/dl/go1.16.6.linux-amd64.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>32-bit Linux</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://golang.org/dl/go1.16.6.linux-386.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><ol start="2"><li><p>提取并解压安装包到 /usr/local/go</p><blockquote><p><strong>重点注意：</strong>该步骤将在会删除以前在 /usr/local/go下的内容（如果有的话）</p></blockquote><p>在root用户下或者通过<code>sudo</code>命令执行以下命令</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rm</span> -rf /usr/local/go <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">tar</span> -C /usr/local -xzf go1.16.6.linux-amd64.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><ol start="3"><li><p>将下列环境变量添加到的 <strong>/etc/profile</strong> 配置文件</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:/usr/local/go/bin<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>注意添加完之后，使用命令<code>source $HOME/.profile</code>激活新的环境变量</p></blockquote></li></ol><ol start="4"><li><p>命令行验证Go安装成功：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">go version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> 后端 </tag>
            
            <tag> 安装教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux·创建服务器安全登录账户</title>
      <link href="/posts/6dec.html"/>
      <url>/posts/6dec.html</url>
      
        <content type="html"><![CDATA[<h2 id="本地创建公钥"><a href="#本地创建公钥" class="headerlink" title="本地创建公钥"></a>本地创建公钥</h2><p>首先在本地机器生成自己的ssh登录所需要的公钥，具体命令如下：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh-keygen -t rsa -b <span class="token number">4096</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>然后，检查.ssh/目录下是否已经有了id_rsa.pub文件。</p><p><code>cat .ssh/id_rsa.pub</code></p><h2 id="服务创建新用户"><a href="#服务创建新用户" class="headerlink" title="服务创建新用户"></a>服务创建新用户</h2><ol><li><p>在服务器上创建一个新的用户，比如：newuser，具体命令如下：<br><code>adduser newuser</code><br>然后，设置该用户的密码，执行如下命令：<br><code>passwd newuser</code></p></li><li><p>(可选)接着，将该用户加入到/etc/sudoers文件中。<br>在sudoers文件中找到</p></li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> ALL <span class="token comment"># 后面换行并将当前用户添加进去</span>newuer <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> ALL<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>新增<code>newuser</code>的这一行就是将我们新建的用户<code>newuser</code>赋予 sudo 超级用户权限</p><p>如果希望这个登录用户只是作为一个登录到远端服务器的一个跳板，而不给予其更多权限的话，可以不进行这步“添加到sudoers”的操作</p></blockquote><h2 id="拷贝公钥"><a href="#拷贝公钥" class="headerlink" title="拷贝公钥"></a>拷贝公钥</h2><ol><li><p>在本地机器上将公钥拷贝到远端服务器上，具体命令如下：<br><code>ssh-copy-id newuser@&lt;&lt;youur server ip&gt;&gt;</code></p><blockquote><p>这里的<code>newuser</code>是之前操作步骤中在远端服务器新建的用户， 并可能需要输入其密码进行连接确认</p></blockquote></li></ol><ol start="2"><li><p>修改服务器sshd的配置文件<br>将最后三行中的两行改为如下：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">PasswordAuthentication no <span class="token comment"># 禁止通过密码登录</span>PermitRootLogin no <span class="token comment"># 禁止直接使用root用户登录</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>重启sshd服务，执行如下命令：<br><code>systemctl restart sshd</code></p></li><li><p>检查下/root/.ssh/目录下的authroized_keys是否有不知名的公钥，如果有的话记得删除了。</p><blockquote><p>注意不要删除了以上步骤添加的公钥。</p></blockquote></li></ol><h2 id="测试连接"><a href="#测试连接" class="headerlink" title="测试连接"></a>测试连接</h2><p>  在拷贝完公钥时其实命令行就已经会提示可以进行 ssh 连接了，而不需要输入密码；</p>  <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> newuser@<span class="token operator">&lt;&lt;</span>youur server ip<span class="token operator">>></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 安全 </tag>
            
            <tag> linux </tag>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git趣味学习</title>
      <link href="/posts/4c14.html"/>
      <url>/posts/4c14.html</url>
      
        <content type="html"><![CDATA[<h2 id="代码管理"><a href="#代码管理" class="headerlink" title="代码管理"></a>代码管理</h2><blockquote><p>代码管理的重要性不言而喻，既可以降低灾难恢复代价，也利于团队协作开发，还利于重大更新的分支开发。</p></blockquote><p>有时候不小心写错或丢失项目代码， 通过代码管理工具来回溯项目代码往往可以成为我们的救命稻草。</p><p>谈到代码管理， 大家脑海中一定会浮现Git、SVN等。</p><p>不过相对于SVN， 具有分布式特性，更快速的Git是更受到个人喜爱的。下面来分享个可以通过沙盒趣味学习Git命令的网站。</p><h2 id="Git学习"><a href="#Git学习" class="headerlink" title="Git学习"></a>Git学习</h2><p><a href="https://learngitbranching.js.org/">LearnGitBranching</a>是一个非常有趣的Git学习网站，它不仅有生动有趣的可视化分支视图来帮助学习者理解Git工作流程，还有循序渐进的趣味闯关。<a href="https://github.com/pcottle/learnGitBranching">Github地址</a></p><h3 id="关卡示例"><a href="#关卡示例" class="headerlink" title="关卡示例"></a>关卡示例</h3><p>LearnGitBranching具有非常形象的可视化视图，让我们对git分支的操作及整个Git工作树的变化一目了然。<br><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/2021/05/06/gitlearn2.png" alt="关卡示例"></p><h3 id="关卡"><a href="#关卡" class="headerlink" title="关卡"></a>关卡</h3><p>关卡设计得非常合理，从<code>git commit</code>提交开始学习，后面是<code>git branch</code>创建分支，<code>git checkout &lt;branch_name&gt;</code>切换分支等，最后还有关于远程仓库的关卡。<br><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/2021/05/06/gitlearn3.png" alt="关卡"></p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><blockquote><p>那么在LearnGitBranching，我们不仅可以把Git学得开心，还可以学得明白了 :)</p></blockquote><p>相关链接:<br><a href="https://learngitbranching.js.org/">LearnGitBranching</a><br><a href="https://github.com/pcottle/learnGitBranching">LearnGitBranching Github地址</a></p>]]></content>
      
      
      <categories>
          
          <category> 项目开发工程化 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> 版本管理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git 报错error:bad signature 0x00000000</title>
      <link href="/posts/bc44.html"/>
      <url>/posts/bc44.html</url>
      
        <content type="html"><![CDATA[<h3 id="情景描述"><a href="#情景描述" class="headerlink" title="情景描述"></a>情景描述</h3><p>强制关机并重启后，使用git提交代码时，git直接报错如下，特此记录。</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">error: bad signature 0x00000000fatal: index <span class="token function">file</span> corrupt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main//img/2021/05/16/115212.png" alt="git-error"></p><h3 id="原因分析："><a href="#原因分析：" class="headerlink" title="原因分析："></a>原因分析：</h3><p><code>index file</code>在 git 里面一般指的是 <code>.git/index</code> 这个文件，这个文件保存的是**暂存区的信息(索引信息)**。</p><p><strong>报错说明这个文件已经损坏了</strong>。</p><h3 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h3><p><strong>直接删除这个文件，然后重启git，可以执行如下命令：</strong></p><ol><li><p>删除 .git/index 文件 (索引文件)， Linux环境代码如下（Windows环境直接删除该文件）</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rm</span> -f .git/index <span class="token comment"># 如果为Windows环境下, 直接删除.git/index这个文件即可</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>重启git</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> reset <span class="token comment"># 或者使用 git read-tree </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><ul><li><p>强制关机导致git索引文件损坏， 报错后可以将索引文件删除并重启git。</p></li><li><p>注意在保存代码，退出编辑后再关机，防止破坏工作区索引文件。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 问题汇总 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> 版本管理 </tag>
            
            <tag> 报错解决 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS日期格式化</title>
      <link href="/posts/5f64.html"/>
      <url>/posts/5f64.html</url>
      
        <content type="html"><![CDATA[<h2 id="JS-日期时间格式化"><a href="#JS-日期时间格式化" class="headerlink" title="JS 日期时间格式化"></a>JS 日期时间格式化</h2><p>  在前端项目中， 我们往往需要对新建的时间对象(如 <code>new Date()</code> )进行格式化， 将其转换为对用户友好的格式。</p><p>  接下来简单列几个js时间格式化的方法吧, 如果你有更多更好的方法也可以分享一下哟 (＾Ｕ＾)ノ~</p><h2 id="一、JS内置API"><a href="#一、JS内置API" class="headerlink" title="一、JS内置API"></a>一、JS内置API</h2><p>  除了<code>new Date().getDate()</code>等最基本的API，其实还有其他帮助我们我们格式化日期时间的API。<br>  例如JS内置 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat">Intl.DateTimeFormat</a>等API，可以帮助我们快速方便地格式化时间格式，而且<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat">Intl.DateTimeFormat</a>这个API还可以用于i18n国际化。</p>  <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Intl<span class="token punctuation">.</span>DateTimeFormat</span><span class="token punctuation">(</span><span class="token string">'en-US'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "05/04/2021"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Intl<span class="token punctuation">.</span>DateTimeFormat</span><span class="token punctuation">(</span><span class="token string">'zh'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "2021/05/04"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Intl<span class="token punctuation">.</span>DateTimeFormat</span><span class="token punctuation">(</span><span class="token string">'zh-GB'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">dateStyle</span><span class="token operator">:</span> <span class="token string">'full'</span><span class="token punctuation">,</span> <span class="token literal-property property">timeStyle</span><span class="token operator">:</span> <span class="token string">'long'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// "2021年5月4日星期日GMT+8 上午11:23:16"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="二、自定义函数"><a href="#二、自定义函数" class="headerlink" title="二、自定义函数"></a>二、自定义函数</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function-variable function">formatDate</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> str</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">yyyy</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">yy</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">""</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token constant">M</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>      <span class="token constant">MM</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">d</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">dd</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">H</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">HH</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">h</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">12</span><span class="token punctuation">,</span>      <span class="token literal-property property">hh</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">m</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">mm</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">s</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">ss</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'日'</span><span class="token punctuation">,</span> <span class="token string">'一'</span><span class="token punctuation">,</span> <span class="token string">'二'</span><span class="token punctuation">,</span> <span class="token string">'三'</span><span class="token punctuation">,</span> <span class="token string">'四'</span><span class="token punctuation">,</span> <span class="token string">'五'</span><span class="token punctuation">,</span> <span class="token string">'六'</span><span class="token punctuation">]</span><span class="token punctuation">[</span>t<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">([a-z]+)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> obj<span class="token punctuation">[</span>$1<span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'yyyy-MM-dd HH:mm:ss'</span><span class="token punctuation">)</span> <span class="token comment">// "2021-05-04 19:10:57"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="三、为Date原型添加format方法"><a href="#三、为Date原型添加format方法" class="headerlink" title="三、为Date原型添加format方法"></a>三、为Date原型添加format方法</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">Date</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">format</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fmt</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string-property property">"M+"</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>                 <span class="token comment">//月份</span>    <span class="token string-property property">"d+"</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token comment">//日</span>    <span class="token string-property property">"h+"</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                   <span class="token comment">//小时</span>    <span class="token string-property property">"m+"</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                 <span class="token comment">//分</span>    <span class="token string-property property">"s+"</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                 <span class="token comment">//秒</span>    <span class="token string-property property">"q+"</span> <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//季度</span>    <span class="token string-property property">"S"</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>             <span class="token comment">//毫秒</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(y+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>fmt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    fmt<span class="token operator">=</span>fmt<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">-</span> RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> o<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">"("</span><span class="token operator">+</span> k <span class="token operator">+</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>fmt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    fmt <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">,</span> <span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>o<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"00"</span><span class="token operator">+</span> o<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token operator">+</span> o<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">return</span> fmt<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="使用方式-1"><a href="#使用方式-1" class="headerlink" title="使用方式"></a>使用方式</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd hh:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="四、第三方js库"><a href="#四、第三方js库" class="headerlink" title="四、第三方js库"></a>四、第三方js库</h2><blockquote><p>没有什么不是引入一个js库不能解决的，如果有，那就再多来几个 🤪</p></blockquote><p>  可以使用 <a href="http://momentjs.cn/">moment</a> 、<a href="https://github.com/iamkun/dayjs/blob/HEAD/docs/zh-cn/README.zh-CN.md">dayjs</a> 等第三方js库，具体可以看相关文档。emmmm，真香</p><h2 id="i18n国际化"><a href="#i18n国际化" class="headerlink" title="i18n国际化"></a>i18n国际化</h2><p>  但如果还涉及到多语言国际化<code>i18n</code>，除了 使用JS内置API <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat">Intl.DateTimeFormat</a> 个人还是还是推荐使用第三方库，如 <a href="http://momentjs.cn/">moment</a> 、<a href="https://github.com/iamkun/dayjs/blob/HEAD/docs/zh-cn/README.zh-CN.md">dayjs</a> 等，方便省事 😃</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nestjs 安装及使用</title>
      <link href="/posts/2347.html"/>
      <url>/posts/2347.html</url>
      
        <content type="html"><![CDATA[<h1 id="Nestjs-安装及使用"><a href="#Nestjs-安装及使用" class="headerlink" title="Nestjs 安装及使用"></a>Nestjs 安装及使用</h1><h2 id="Nestjs-简介"><a href="#Nestjs-简介" class="headerlink" title="Nestjs 简介"></a>Nestjs 简介</h2><blockquote><p><a href="https://github.com/nestjs/nest"><strong>Nest</strong></a> (NestJS)是一个用于构建高效、可扩展的<a href="https://nodejs.org/">Node.js</a>服务器端应用程序的开发框架。它利用 JavaScript 的渐进增强的能力，使用并完全支持 <a href="http://www.typescriptlang.org/">TypeScript</a>(仍然允许开发者使用纯 JavaScript 进行开发)，并结合了**OOP (面向对象编程)<strong>、</strong>FP (函数式编程)<strong>和</strong>FRP (函数响应式编程)**。</p></blockquote><h2 id="安装或直接构建项目"><a href="#安装或直接构建项目" class="headerlink" title="安装或直接构建项目"></a>安装或直接构建项目</h2><p>   要构建一个NestJs项目，方式有如三种</p><h3 id="方式①-使用Nest-CLI-构建项目-先全局安装-nest-cli"><a href="#方式①-使用Nest-CLI-构建项目-先全局安装-nest-cli" class="headerlink" title="方式①: 使用Nest CLI 构建项目 (先全局安装@nest/cli)"></a>方式①: 使用Nest CLI 构建项目 (先全局安装@nest/cli)</h3><blockquote><p>若要使用 Nest CLI 构建项目，请运行以下命令。这将创建一个新的项目目录，并使用核心的 Nest 文件和支撑模块填充该目录，从而为项目创建一个传统的基本结构。建议初学者使用 Nest CLI 创建新项目。</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">npm</span> i -g @nestjs/cli$ nest new project-name<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="方式②-使用-Git-等版本控制工具-克隆NestJs项目的-starter-项目-启动项目-例子如下"><a href="#方式②-使用-Git-等版本控制工具-克隆NestJs项目的-starter-项目-启动项目-例子如下" class="headerlink" title="方式②: 使用 Git 等版本控制工具 克隆NestJs项目的 starter 项目 (启动项目), 例子如下"></a>方式②: 使用 <a href="https://git-scm.com/">Git</a> 等版本控制工具 克隆NestJs项目的 starter 项目 (启动项目), 例子如下</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">git</span> clone https://github.com/nestjs/typescript-starter.git project$ <span class="token builtin class-name">cd</span> project$ <span class="token function">npm</span> <span class="token function">install</span>$ <span class="token function">npm</span> run start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ps: 若要安装基于 JavaScript 的 starter project，请在执行上面的命令时使用 <a href="https://github.com/nestjs/javascript-starter.git">https://github.com/nestjs/javascript-starter.git</a></p></blockquote><h3 id="方式③-使用npm-等包管理器-从零构建"><a href="#方式③-使用npm-等包管理器-从零构建" class="headerlink" title="方式③: 使用npm 等包管理器 从零构建"></a>方式③: 使用npm 等包管理器 <strong>从零构建</strong></h3><blockquote><p>你还可以通过 <a href="https://www.npmjs.com/">npm</a> 等包管理器来安装的核心和支撑文件，从头开始手动创建一个新项目。<strong>当然，在这种情况下，你将自己担负起创建项目样板文件的工作。</strong></p></blockquote><h2 id="推荐"><a href="#推荐" class="headerlink" title="推荐"></a>推荐</h2><p>  这里推荐初学者使用第一种，熟练的话可以使用第二种。至于第三种， 如果你想深入了解整个NestJs项目构建及启动流程的话， 可以采用的。</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> nest </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>node、npm及vue的下载、安装及配置</title>
      <link href="/posts/6377.html"/>
      <url>/posts/6377.html</url>
      
        <content type="html"><![CDATA[<h3 id="nodejs官网及安装包链接"><a href="#nodejs官网及安装包链接" class="headerlink" title="nodejs官网及安装包链接"></a>nodejs官网及安装包链接</h3><p><a href="https://nodejs.org/en/">Node.js官网</a>获取node安装程序</p><p><a href="https://nodejs.org/dist/v14.16.0/node-v14.16.0-x64.msi">v14.16.0</a> || <a href="https://nodejs.org/dist/v15.12.0/node-v15.12.0-x64.msi">v15.12.0</a>   （点击可以直接下载安装包）</p><h3 id="一、下载Nodejs并安装"><a href="#一、下载Nodejs并安装" class="headerlink" title="一、下载Nodejs并安装"></a>一、下载Nodejs并安装</h3><hr><h4 id="1-0-下载并打开安装程序"><a href="#1-0-下载并打开安装程序" class="headerlink" title="1.0 下载并打开安装程序"></a>1.0 下载并打开安装程序</h4><p>​    这里选择下载的是 <span style='color:green;'>v14.16.0</span></p><p><img src="https://img-blog.csdnimg.cn/img_convert/ec3b3a3a251782952b1b059b234e5fd8.png" alt="install"></p><h4 id="1-1-安装界面1"><a href="#1-1-安装界面1" class="headerlink" title="1.1 安装界面1:"></a>1.1 安装界面1:</h4><p><img src="https://img-blog.csdnimg.cn/img_convert/5f335f2c546c91d253679f12719c75f2.png" alt="2021/03/29/nodejs-install1"></p><h4 id="1-2-安装界面2"><a href="#1-2-安装界面2" class="headerlink" title="1.2 安装界面2:"></a>1.2 安装界面2:</h4><p>​    勾选 <span style='font-family:微软雅黑;background:white;font-size:16;color:blue;'>I accept the terms in the License Agreement</span> , 点击 <span style='color:red;background:white;font-size:14;font-family:red;'>Next</span></p><p><img src="https://img-blog.csdnimg.cn/img_convert/07728cb6dee4b4fb6c1c520f6970fc31.png" alt="2021/03/29/node-install2"></p><h4 id="1-3-安装界面3"><a href="#1-3-安装界面3" class="headerlink" title="1.3 安装界面3:"></a>1.3 安装界面3:</h4><p>​    选择安装位置，点击 <span style='font-family:微软雅黑;background:white;font-size:16;color:red;'>Next</span></p><p><img src="https://img-blog.csdnimg.cn/img_convert/2dfe31f5cb6948a6dfa2985e363e9d69.png" alt="2021/03/29/node-install3"></p><h4 id="1-4-安装界面4"><a href="#1-4-安装界面4" class="headerlink" title="1.4 安装界面4:"></a>1.4 安装界面4:</h4><p>​    选择安装内容， 可以直接点击 <span style='font-family:微软雅黑;background:white;font-size:16;color:red;'>Next</span></p><p>​    <em>另外这步会<span style='font-family:微软雅黑;background:white;font-size:16;color:green;'>自动</span>将 nodejs启动程序位置 加入到 系统环境变量Path 中</em></p><p><img src="https://img-blog.csdnimg.cn/img_convert/c00f6b97d2f60b09cff0658b49d3cc3f.png" alt="2021/03/29/node-install4"></p><h4 id="1-5-安装界面5、6："><a href="#1-5-安装界面5、6：" class="headerlink" title="1.5 安装界面5、6："></a>1.5 安装界面5、6：</h4><p>接下来其实可以一路点击<span style='font-family:微软雅黑;background:white;font-size:16;color:red;'>Next</span>或者<span style='font-family:微软雅黑;background:white;font-size:16;color:red;'>Install</span>开始安装了</p><p><img src="https://img-blog.csdnimg.cn/img_convert/8888a6a7fff9bb082093bc94613a3178.png" alt="2021/03/29/node-install5"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/f220eeece077b81aed26c411b0f84264.png" alt="2021/03/29/node-install6"></p><h4 id="1-6-Nodejs-安装完成"><a href="#1-6-Nodejs-安装完成" class="headerlink" title="1.6 Nodejs 安装完成"></a>1.6 Nodejs 安装完成</h4><p>​        点击<span style='font-family:微软雅黑;background:white;font-size:16;color:red;'>Finish</span>完成安装，下一步测试是否成功安装</p><p><img src="https://img-blog.csdnimg.cn/img_convert/094d08b2745184f76c0644450fdca1a3.png" alt="2021/03/29/node-install7"></p><h3 id="二、测试Nodejs是否安装成功"><a href="#二、测试Nodejs是否安装成功" class="headerlink" title="二、测试Nodejs是否安装成功"></a>二、测试Nodejs是否安装成功</h3><hr><h4 id="2-1-打开-cmd-下面两种方式皆可"><a href="#2-1-打开-cmd-下面两种方式皆可" class="headerlink" title="2.1 打开 cmd (下面两种方式皆可)"></a>2.1 打开 <span style='font-family:微软雅黑;background:white;font-size:16;color:blue;'>cmd</span> (下面两种方式皆可)</h4><h5 id="①Windows搜索框输入cmd"><a href="#①Windows搜索框输入cmd" class="headerlink" title="①Windows搜索框输入cmd"></a>①Windows搜索框输入cmd</h5><p><img src="https://img-blog.csdnimg.cn/img_convert/1a238423e5ce74f8b7efde5b0d8ccc2a.png" alt="2021/03/29/cmd"></p><h5 id="②-⌘-R-输入cmd-输入cmd"><a href="#②-⌘-R-输入cmd-输入cmd" class="headerlink" title="② ⌘ + R 输入cmd 输入cmd"></a>② <kbd>⌘</kbd> + <kbd>R</kbd> 输入cmd 输入cmd</h5><p><img src="https://img-blog.csdnimg.cn/img_convert/ef239de239fb7419a28fa53ad784995e.png" alt="2021/03/29/open-cmd"></p><h4 id="2-2-输入-node-v-及-npm-v-查看-node及npm版本"><a href="#2-2-输入-node-v-及-npm-v-查看-node及npm版本" class="headerlink" title="2.2 输入 node -v  及  npm -v 查看 node及npm版本"></a>2.2 输入 <code>node -v</code>  及  <code>npm -v </code>查看 node及npm版本</h4><p>​    可以看到node版本的正是<span style='font-family:微软雅黑;background:white;font-size:16;color:blue;'>14.16.0</span>，说明安装成功了。</p><p>​    并且自带安装了npm，但注意这个npm并不是最新版的npm版本</p><p><img src="https://img-blog.csdnimg.cn/img_convert/4af5e798aa9d37f2dfd3744675f41208.png" alt="2021/03/29/npm-v"></p><h3 id="三、设置npm源并安装-vue"><a href="#三、设置npm源并安装-vue" class="headerlink" title="三、设置npm源并安装 vue"></a>三、设置npm源并安装 vue</h3><hr><h5 id="3-1-更换npm源"><a href="#3-1-更换npm源" class="headerlink" title="3.1  更换npm源"></a>3.1  更换npm源</h5><p>因为npm默认使用的是国外的源，为了加快包的下载速度，我们可以设置为淘宝镜像源，命令如下：</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> <span class="token assign-left variable">registry</span><span class="token operator">=</span>http://registry.npm.taobao.org<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="3-2-查看镜像源更换是否生效"><a href="#3-2-查看镜像源更换是否生效" class="headerlink" title="3.2  查看镜像源更换是否生效"></a>3.2  查看镜像源更换是否生效</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config get registry<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/img_convert/724fd3f35b9cfe323d21f4362ff0afbe.png" alt="2021/03/29/taobao-registry"></p><h5 id="3-3-设置全局安装的路径位置"><a href="#3-3-设置全局安装的路径位置" class="headerlink" title="3.3 设置全局安装的路径位置"></a>3.3 设置全局安装的路径位置</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// <span class="token number">1</span>. 查看当前npm全局安装的位置<span class="token function">npm</span> config get prefix// <span class="token number">2</span>. 设置npm全局安装的位置 <span class="token punctuation">(</span>%Your_Path% 替换为你想要安装的路径位置, 如 E:<span class="token punctuation">\</span>Soft<span class="token punctuation">\</span>nodejs<span class="token punctuation">)</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> %Your_Path%// <span class="token number">3</span>. 再次查看你npm全局安装的位置<span class="token function">npm</span> config get prefix// 查看npm所有配置<span class="token function">npm</span> config list -l<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="3-4-升级npm"><a href="#3-4-升级npm" class="headerlink" title="3.4 升级npm"></a>3.4 升级npm</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token function">npm</span> -g// 查看npm版本<span class="token function">npm</span> -v<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="3-5-安装vue"><a href="#3-5-安装vue" class="headerlink" title="3.5 安装vue"></a>3.5 安装vue</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> vue vue/cli -g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="3-6-查看是否安装成功"><a href="#3-6-查看是否安装成功" class="headerlink" title="3.6 查看是否安装成功"></a>3.6 查看是否安装成功</h5><p>输入以下命令查看已安装的包</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> list -g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>可以看到有<span style='font-family:微软雅黑;font-size:16;color:green;'><a href="mailto:&#x76;&#117;&#101;&#64;&#x32;&#46;&#x36;&#46;&#49;&#x32;">&#x76;&#117;&#101;&#64;&#x32;&#46;&#x36;&#46;&#49;&#x32;</a></span>了，其实这已经可以跑前端的vue项目了 : )</p><p><img src="https://img-blog.csdnimg.cn/img_convert/ec3a039b553ecc9972f49c481325d6fa.png" alt="2021/03/30/npm-list"></p><h5 id="vue相关"><a href="#vue相关" class="headerlink" title="vue相关"></a>vue相关</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// 启动vue可视化管理界面vue ui// 命令行创建新的vue项目应用 <span class="token punctuation">(</span><span class="token operator">&lt;</span>your_app_name<span class="token operator">></span> 换成项目小写名称,会新建一个目录<span class="token punctuation">)</span>vue create <span class="token operator">&lt;</span>your_app_name<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>更多vue知识可以前往官网查看…<br>                  <a href="https://cn.vuejs.org/">Vue2</a> || <a href="https://www.vue3js.cn/docs/zh/">Vue3</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> node </tag>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS Canvas绘制正N边形</title>
      <link href="/posts/canvas-n-sided.html"/>
      <url>/posts/canvas-n-sided.html</url>
      
        <content type="html"><![CDATA[<h3 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h3><blockquote><p>&lt;canvas&gt; 是 HTML5 新增的，一个可以使用脚本(通常为 JavaScript) 在其中绘制图像的 HTML 元素。它可以用来制作照片集或者制作简单(也不是那么简单)的动画，甚至可以进行实时视频处理和渲染。</p><p>它最初由苹果内部使用自己 MacOS X WebKit 推出，供应用程序使用像仪表盘的构件和 Safari 浏览器使用。后来，有人通过 Gecko 内核的浏览器 (尤其是 Mozilla和Firefox)，Opera 和 Chrome 和超文本网络应用技术工作组建议为下一代的网络技术使用该元素。</p><p>Canvas 是由 HTML 代码配合高度和宽度属性而定义出的可绘制区域。JavaScript 代码可以访问该区域，类似于其他通用的二维 API，通过一套完整的绘图函数来动态生成图形。</p></blockquote><p>初级教程网站：<a href="https://www.runoob.com/w3cnote/html5-canvas-intro.html">runoob.com</a></p><h3 id="二、内容"><a href="#二、内容" class="headerlink" title="二、内容"></a>二、内容</h3><p>今天主要记录并分享一下个人使用canvas绘制正N边形的思路及代码。</p><h3 id="三、思路"><a href="#三、思路" class="headerlink" title="三、思路"></a>三、思路</h3><ul><li>方法一、计算每个点的坐标，逐一连接</li></ul><p>。。。先介绍我使用的这种（欢迎补充）</p><ul><li>方法二、每次旋转画布一个内角的角度(2π / n) , 并与上个点连线</li></ul><h3 id="四、代码"><a href="#四、代码" class="headerlink" title="四、代码"></a>四、代码</h3><h4 id="1-canvas-js"><a href="#1-canvas-js" class="headerlink" title="1. canvas.js"></a>1. canvas.js</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * 在元素 selector 处使用canvas绘制中心坐标为 (x, y) 的边长(或顶点到中心的距离)为 l 的n边形 * @param &#123;number&#125; x 中心坐标 x * @param &#123;number&#125; y 中心坐标 y * @param &#123;number&#125; n 边数 * @param &#123;number&#125; l 边长(或顶点到中心的距离) * @param &#123;boolean&#125; isRadius 参数 l 是否为顶点到中心的距离, 默认为false, 即默认 l 为正 n 边形的边长 * @returns */</span><span class="token keyword">function</span> <span class="token function">drawPath</span><span class="token punctuation">(</span><span class="token parameter">selector<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> n<span class="token punctuation">,</span> l<span class="token punctuation">,</span> isRadius <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> myCanvas  <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> ctx <span class="token operator">=</span> myCanvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ctx<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'不支持canvas!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">const</span> ang <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">/</span> n<span class="token punctuation">;</span> <span class="token comment">// 旋转的角度</span>  <span class="token keyword">const</span> r <span class="token operator">=</span> isRadius <span class="token operator">?</span> l <span class="token operator">:</span> l<span class="token operator">/</span><span class="token number">2</span><span class="token operator">/</span>Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">-</span> ang<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>  ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span><span class="token string">'rgba(255,0,0,.3)'</span><span class="token punctuation">;</span> <span class="token comment">// 填充淡红色</span>  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span><span class="token string">'hsl(120,50%,50%)'</span><span class="token punctuation">;</span><span class="token comment">// 线条绿色</span>  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 设置线宽</span>  ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 原点移到x,y处，即要画的多边形中心</span>  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 据中心r距离处画点</span>  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    ctx<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>ang<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 旋转</span>    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">drawPath</span><span class="token punctuation">(</span><span class="token string">'#canvas'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment">//在100,100处画一个边长为40的五边形</span><span class="token function">drawPath</span><span class="token punctuation">(</span><span class="token string">'#canvas'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token comment">//在200,100处画一个半径为40的三角形</span><span class="token function">drawPath</span><span class="token punctuation">(</span><span class="token string">'#canvas'</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token comment">//在300,100处画一个半径为40的七边形</span><span class="token function">drawPath</span><span class="token punctuation">(</span><span class="token string">'#canvas'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment">//在100,200处画一个边长为40的十五边形</span><span class="token function">drawPath</span><span class="token punctuation">(</span><span class="token string">'#canvas'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token comment">//在100,200处画一个半径为40的四边形</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2-test-html"><a href="#2-test-html" class="headerlink" title="2. test.html"></a>2. test.html</h4><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">    <span class="token selector">#canvas</span> <span class="token punctuation">&#123;</span>      <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>      <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>      <span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    canvas not supported  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas.js<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="五、效果预览"><a href="#五、效果预览" class="headerlink" title="五、效果预览"></a>五、效果预览</h3><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main//img/2021/03/18/canvas.jpg" alt="canvas绘制n边形效果图"></p><h3 id="六、总结"><a href="#六、总结" class="headerlink" title="六、总结"></a>六、总结</h3><p>记录了canvas采用旋转画布的方式来绘制N边形的方法</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> js </tag>
            
            <tag> canvas </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
