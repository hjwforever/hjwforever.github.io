<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Podman vs Docker | Podmanç®€ä»‹åŠå®‰è£…</title>
      <link href="/posts/fad3.html"/>
      <url>/posts/fad3.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1. å‰è¨€"></a>1. å‰è¨€</h2><p><a href="https://podman.io/"><strong>podman</strong></a>åœ¨åŠŸèƒ½ä¸Šä¸<a href="https://www.docker.com/"><strong>docker</strong></a>ä¸èƒ½è¯´å¾ˆåƒï¼Œåªèƒ½è¯´ä¸€æ¨¡ä¸€æ ·ï¼Œç”šè‡³äºä½ ç»™podmanå–ä¸ªåˆ«åä¸ºdockerï¼Œä½ ä¼šå‘ç°è¿™ä¸å°±æ˜¯dockerå—ï¼ŸğŸ¤”æ¥ä¸‹æ¥å¯¹æ¯”ä¸€ä¸‹ä¸¤è€…çš„å¼‚åŒå§ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">docker</span><span class="token operator">=</span>podman<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="2-ä»€ä¹ˆæ˜¯Docker"><a href="#2-ä»€ä¹ˆæ˜¯Docker" class="headerlink" title="2. ä»€ä¹ˆæ˜¯Docker"></a>2. ä»€ä¹ˆæ˜¯Docker</h2><blockquote><p><a href="https://www.docker.com/"><em>Docker</em> </a>æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„é•œåƒä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linuxæˆ–Windowsæ“ä½œç³»ç»Ÿçš„æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ã€‚ byç™¾åº¦ç™¾ç§‘</p></blockquote><h2 id="3-ä»€ä¹ˆæ˜¯Podman"><a href="#3-ä»€ä¹ˆæ˜¯Podman" class="headerlink" title="3. ä»€ä¹ˆæ˜¯Podman"></a>3. ä»€ä¹ˆæ˜¯Podman</h2><p>â€‹    <a href="https://docs.podman.io/en/latest/">Podman</a> æ˜¯ä¸€ä¸ªå¼€æºçš„ Linux åŸç”Ÿå·¥å…·ï¼Œæ—¨åœ¨æ ¹æ®<a href="https://opencontainers.org/">å¼€æ”¾å®¹å™¨è®¡åˆ’ ï¼ˆOCIï¼‰</a> æ ‡å‡†å¼€å‘ã€ç®¡ç†å’Œè¿è¡Œå®¹å™¨å’Œ Podã€‚Podman ç”± <a href="https://www.redhat.com/en">Red Hat</a> å¼€å‘ï¼Œæ˜¯ç”¨æˆ·å‹å¥½çš„å®¹å™¨ç¼–æ’å™¨ï¼Œæ˜¯ RedHat 8 å’Œ CentOS 8 è‡ªå¸¦çš„é»˜è®¤å®¹å™¨å¼•æ“ã€‚Podman æä¾›ä¸ Docker éå¸¸ç›¸ä¼¼çš„åŠŸèƒ½ã€‚ä½†æ˜¯ï¼Œå®ƒä¸éœ€è¦åœ¨ä½ çš„ç³»ç»Ÿä¸Šè¿è¡Œä»»ä½•å®ˆæŠ¤è¿›ç¨‹ï¼Œå¹¶ä¸”å®ƒä¹Ÿå¯ä»¥åœ¨æ²¡æœ‰rootæƒé™çš„æƒ…å†µä¸‹è¿è¡Œã€‚å®é™…ä¸Šï¼Œå®ƒæ˜¯<strong>ä¸€ç»„å‘½ä»¤è¡Œå·¥å…·</strong>ä¹‹ä¸€.</p><p>â€‹    è¿™ç»„å‘½ä»¤è¡Œå¥—ä»¶å°±æ˜¯ï¼š</p><ul><li><a href="https://docs.podman.io/en/latest/">Podman</a>  - Pods å’Œå®¹å™¨æ˜ åƒç®¡ç†å™¨</li><li><a href="https://buildah.io/">Buildah</a> - å®¹å™¨ç”Ÿæˆå™¨</li><li><a href="https://github.com/containers/skopeo">Skopeo</a> - å®¹å™¨æ˜ åƒæ£€æŸ¥ç®¡ç†å™¨</li><li><a href="https://github.com/opencontainers/runc">runc</a> - å®¹å™¨è¿è¡Œå™¨å’ŒåŠŸèƒ½ç”Ÿæˆå™¨åˆ° podman å’Œ buildah</li><li><a href="https://github.com/containers/crun">crun</a> - å¯é€‰çš„è¿è¡Œæ—¶ï¼Œå¯ä¸ºæ— æ ¹å®¹å™¨æä¾›æ›´å¤§çš„çµæ´»æ€§ã€æ§åˆ¶åŠ›å’Œå®‰å…¨æ€§</li></ul><p>â€‹    è¿™äº›å·¥å…·è¿˜å¯ä»¥ä¸<strong>ä»»ä½•OCIå…¼å®¹çš„å®¹å™¨å¼•æ“</strong>(å¦‚Docker)é…åˆä½¿ç”¨ï¼Œä»è€Œå¯ä»¥è½»æ¾è¿‡æ¸¡åˆ°Podmanæˆ–å°†å…¶ç”¨äºç°æœ‰çš„Dockerå®‰è£…ã€‚</p><blockquote><p>é‚£ä¹ˆï¼Œ<strong>Kubernetes å¯ä»¥ä½¿ç”¨ Podman å—ï¼Ÿ</strong></p></blockquote><p>ç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œè€Œä¸”<strong>åœ¨k8sä¸­ä½¿ç”¨podmanæ¯”ä½¿ç”¨Dockeræ›´å¥½</strong>ã€‚è¿™å°±è¦è°ˆåˆ°å®ƒä»¬ä¹‹é—´çš„å·®å¼‚äº†ã€‚</p><h2 id="4-Docker-vs-Podman"><a href="#4-Docker-vs-Podman" class="headerlink" title="4. Docker vs Podman"></a>4. Docker vs Podman</h2><p>Podmanå’ŒDockerä»ä½¿ç”¨ä¸Šæ¥è¯´å‡ ä¹æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œè€Œä»–ä»¬çš„å·®å¼‚å°±åœ¨äºåº•å±‚ã€‚</p><h3 id="ä¸åŒ1-æ¶æ„è®¾è®¡ä¸åŒ"><a href="#ä¸åŒ1-æ¶æ„è®¾è®¡ä¸åŒ" class="headerlink" title="ä¸åŒ1. æ¶æ„è®¾è®¡ä¸åŒ"></a>ä¸åŒ1. æ¶æ„è®¾è®¡ä¸åŒ</h3><blockquote><p>Docker æœ‰ä¸€ä¸ªç”±ç”¨æ¥è°ƒè§£å®¢æˆ·ä¸æœåŠ¡å™¨é€»è¾‘çš„å®ˆæŠ¤è¿›ç¨‹ï¼› è€ŒPodman ä¸éœ€è¦è¿™ä¸ªä¸­ä»‹ã€‚</p></blockquote><ul><li><p>Docker ä½¿ç”¨<strong>å®ˆæŠ¤ç¨‹åº</strong>ï¼ˆä¸€ä¸ªåœ¨åå°è¿è¡Œçš„æŒç»­ç¨‹åºï¼‰æ¥åˆ›å»ºæ˜ åƒå’Œè¿è¡Œå®¹å™¨ã€‚</p></li><li><p>Podmanæœ‰ä¸€ä¸ªæ— å®ˆæŠ¤è¿›ç¨‹çš„çš„å®¹å™¨å¼•æ“<strong>ï¼Œç”¨äºåœ¨ Linux ç³»ç»Ÿä¸Šè¿›è¡Œå¼€å‘ã€ç®¡ç†å’Œè¿è¡Œ OCI Containersã€‚ Containers èƒ½ä»¥ root æ¨¡å¼è¿è¡Œï¼Œä¹Ÿ</strong>èƒ½ä»¥é root æ¨¡å¼è¿è¡Œ**ã€‚</p></li></ul><h3 id="ä¸åŒ2-å®‰å…¨æ€§ä¸åŒ"><a href="#ä¸åŒ2-å®‰å…¨æ€§ä¸åŒ" class="headerlink" title="ä¸åŒ2. å®‰å…¨æ€§ä¸åŒ"></a>ä¸åŒ2. å®‰å…¨æ€§ä¸åŒ</h3><ul><li><p>Podman å…è®¸å®¹å™¨çš„é root ç”¨æˆ·æƒé™ã€‚æ— æ ¹å®¹å™¨è¢«è®¤ä¸ºæ¯”å…·æœ‰ root æƒé™çš„å®¹å™¨æ›´å®‰å…¨ã€‚Podman ä¸­çš„å®¹å™¨é»˜è®¤æ²¡æœ‰ root è®¿é—®æƒé™ï¼Œè¿™åœ¨ root å’Œé rootä¹‹é—´å¢åŠ äº†ä¸€é“å¤©ç„¶å±éšœï¼Œä»è€Œæé«˜äº†å®‰å…¨æ€§ã€‚å°½ç®¡å¦‚æ­¤ï¼ŒPodmanä»ç„¶å¯ä»¥è¿è¡Œrootå’Œé rootå®¹å™¨ã€‚</p></li><li><p>è€Œåœ¨ Docker ä¸­ï¼Œå®ˆæŠ¤ç¨‹åºå…·æœ‰ root æƒé™ï¼Œä½¿å…¶æˆä¸ºæ”»å‡»è€…çš„é¦–é€‰ç½‘å…³ã€‚</p></li></ul><h3 id="ä¸åŒ3-å¯åŠ¨æ–¹å¼ä¸åŒ"><a href="#ä¸åŒ3-å¯åŠ¨æ–¹å¼ä¸åŒ" class="headerlink" title="ä¸åŒ3. å¯åŠ¨æ–¹å¼ä¸åŒ"></a>ä¸åŒ3. å¯åŠ¨æ–¹å¼ä¸åŒ</h3><ul><li><code>docker cli</code> å‘½ä»¤é€šè¿‡APIè·Ÿ <code>Docker Engine(å¼•æ“)</code>äº¤äº’å‘Šè¯‰å®ƒæˆ‘æƒ³åˆ›å»ºä¸€ä¸ªcontainerï¼Œç„¶å<code>docker Engine</code>æ‰ä¼šè°ƒç”¨<code>OCI container runtime(runc)</code>æ¥å¯åŠ¨ä¸€ä¸ªcontainerã€‚è¿™ä»£è¡¨containerçš„process(è¿›ç¨‹)ä¸ä¼šæ˜¯<code>Docker CLI</code>çš„<code>child process(å­è¿›ç¨‹)</code>ï¼Œè€Œæ˜¯<code>Docker Engine</code>çš„<code>child process</code>ã€‚</li><li><code>Podman</code>æ˜¯ç›´æ¥ç»™<code>OCI containner runtime(runc)</code>è¿›è¡Œäº¤äº’æ¥åˆ›å»ºcontainerçš„ï¼Œæ‰€ä»¥<code>container process</code>ç›´æ¥æ˜¯<code>podman</code>çš„<code>child process</code>ã€‚</li></ul><h2 id="5-k8så¼ƒç”¨Docker"><a href="#5-k8så¼ƒç”¨Docker" class="headerlink" title="5. k8så¼ƒç”¨Docker"></a>5. k8så¼ƒç”¨Docker</h2><blockquote><p>ç®€å•æ¥è®²å°±æ˜¯ K8s æ”¯æŒ Docker çš„ä»£ä»·å¤ªå¤§äº†ã€‚</p></blockquote><p> <a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.20.md#dockershim-deprecation"><strong>æŸ¥çœ‹å®˜æ–¹å£°æ˜</strong></a></p><p><code>Docker</code>å¹¶ä¸æ”¯æŒ<strong>CRI</strong>ï¼ˆå®¹å™¨è¿è¡Œæ—¶æ¥å£ï¼‰è¿™ä¸€<code>Kubernetes</code>è¿è¡Œæ—¶APIï¼Œè€Œ<code>Kubernetes</code>ç”¨æˆ·ä¸€ç›´ä»¥æ¥æ‰€ä½¿ç”¨çš„å…¶å®æ˜¯åä¸º**<code>dockershim</code>**çš„æ¡¥æ¥æœåŠ¡ã€‚<code>Dockershim</code>èƒ½å¤Ÿè½¬æ¢<code>Docker API</code>ä¸<code>CRI</code>ï¼Œä½†åœ¨åç»­ç‰ˆæœ¬å½“ä¸­ï¼ŒKuberneteså°†ä¸å†æä¾›è¿™é¡¹æ¡¥æ¥æœåŠ¡ã€‚å› ä¸ºè¿™å¤ªéº»çƒ¦äº†ã€‚</p><h4 id="åŸå› 1-k8såªéœ€è¦Docker-Engineä¸­çš„Container-Runtime"><a href="#åŸå› 1-k8såªéœ€è¦Docker-Engineä¸­çš„Container-Runtime" class="headerlink" title="åŸå› 1. k8såªéœ€è¦Docker Engineä¸­çš„Container Runtime"></a>åŸå› 1. k8såªéœ€è¦Docker Engineä¸­çš„Container Runtime</h4><p><strong>é¦–å…ˆ</strong>ï¼Œå¯¹äº K8s æ¥è¯´ Docker å¤ªé‡äº†ã€‚</p><p>Docker æ˜¯åŒ…å«äº†å¾ˆå¤šä¸œè¥¿çš„ï¼Œä¾‹å¦‚ï¼š</p><ul><li>CLI</li><li>API</li><li>Server</li><li>Container Runtime</li><li>Volumes</li><li>Network</li><li>build image</li></ul><p>ä½†æ˜¯ <code>K8s</code> åªæ˜¯ä½¿ç”¨å…¶ä¸­çš„ <code>container runtime</code>ï¼ˆå®¹å™¨è¿è¡Œç¯å¢ƒï¼‰ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/docker/%E6%9E%B6%E6%9E%84%E5%9B%BE.png" alt="dockeræ¶æ„å›¾"></p><h4 id="åŸå› 2-k8sæ”¯æŒDockerçš„è¯éœ€è¦é¢å¤–ä»˜å‡ºè®¸å¤š"><a href="#åŸå› 2-k8sæ”¯æŒDockerçš„è¯éœ€è¦é¢å¤–ä»˜å‡ºè®¸å¤š" class="headerlink" title="åŸå› 2. k8sæ”¯æŒDockerçš„è¯éœ€è¦é¢å¤–ä»˜å‡ºè®¸å¤š"></a>åŸå› 2. k8sæ”¯æŒDockerçš„è¯éœ€è¦é¢å¤–ä»˜å‡ºè®¸å¤š</h4><p><strong>å…¶æ¬¡</strong>ï¼Œ<code>K8s</code> ä¸ºäº†æ”¯æŒ <code>Docker</code> è¿˜éœ€è¦å•ç‹¬å¼€å‘å’Œç»´æŠ¤ä¸€ä¸ªç»„ä»¶ â€“ **<code>dockershim</code>**ã€‚</p><p>å› ä¸º <code>Docker</code> ä¸æ”¯æŒ <code>K8s</code> çš„ CRI æ ‡å‡†ï¼Œæ‰€ä»¥ <code>K8s</code> éœ€è¦æ­å»ºä¸€ä¸ªå¯¹æ¥ <code>Docker</code> çš„æ¡¥æ¢ï¼Œå°±æ˜¯ <code>dockershim</code>ã€‚</p><p><code>dockershim</code> åªæ˜¯ä¸€ä¸ª<strong>ä¸´æ—¶è§£å†³æ–¹æ¡ˆ</strong>ï¼Œé•¿æœŸçš„ç»´æŠ¤è¶Šæ¥è¶Šéº»çƒ¦ï¼Œä¾‹å¦‚ä¸å…¼å®¹ cgroups v2ã€ç”¨æˆ·å‘½åç©ºé—´ç­‰æ–°ç‰¹æ€§ã€‚</p><blockquote><p><strong>ä¸»è¦åŸºäºä»¥ä¸Šä¸¤ä¸ªåŸå› ï¼ŒK8s å†³å®šå¼ƒç”¨ Dockerã€‚</strong></p></blockquote><h2 id="6-Podmançš„å®‰è£…"><a href="#6-Podmançš„å®‰è£…" class="headerlink" title="6. Podmançš„å®‰è£…"></a>6. Podmançš„å®‰è£…</h2><p>[å®˜ç½‘å®‰è£…æ•™ç¨‹](<a href="https://podman.io/getting-started/installation">Podman Installation</a>)</p><h3 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h3><blockquote><p>æ³¨æ„ï¼šPodman åœ¨ CentOS 7 çš„é»˜è®¤ Extras å­˜å‚¨åº“å’Œ CentOS 8 å’Œ Stream çš„ AppStream å­˜å‚¨åº“ä¸­å¯ç”¨ã€‚</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum -y <span class="token function">install</span> <span class="token function">podman</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Ubutun-20-10-åŠä»¥åæ–°ç‰ˆ"><a href="#Ubutun-20-10-åŠä»¥åæ–°ç‰ˆ" class="headerlink" title="Ubutun 20.10 åŠä»¥åæ–°ç‰ˆ"></a>Ubutun 20.10 åŠä»¥åæ–°ç‰ˆ</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> -y update<span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> <span class="token function">podman</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="Ubuntu-20-04-æˆ–-ä½ç‰ˆæœ¬å®‰è£…"><a href="#Ubuntu-20-04-æˆ–-ä½ç‰ˆæœ¬å®‰è£…" class="headerlink" title="Ubuntu 20.04 æˆ– ä½ç‰ˆæœ¬å®‰è£…"></a>Ubuntu 20.04 æˆ– ä½ç‰ˆæœ¬å®‰è£…</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">.</span> /etc/os-release<span class="token builtin class-name">echo</span> <span class="token string">"deb https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/xUbuntu_<span class="token variable">$&#123;VERSION_ID&#125;</span>/ /"</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/devel:kubic:libcontainers:stable.list<span class="token function">curl</span> -L https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/xUbuntu_<span class="token variable">$&#123;VERSION_ID&#125;</span>/Release.key <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -<span class="token function">sudo</span> <span class="token function">apt-get</span> update<span class="token function">sudo</span> <span class="token function">apt-get</span> -y upgrade<span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> <span class="token function">podman</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Debian"><a href="#Debian" class="headerlink" title="Debian"></a>Debian</h3><blockquote><p>Debian 11ï¼ˆBullseyeï¼‰å­˜å‚¨åº“åŠæ›´é«˜ç‰ˆæœ¬æ”¯æŒ</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum -y <span class="token function">install</span> <span class="token function">podman</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Fedora"><a href="#Fedora" class="headerlink" title="Fedora"></a>Fedora</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> dnf -y <span class="token function">install</span> <span class="token function">podman</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="7-Podmançš„ä½¿ç”¨"><a href="#7-Podmançš„ä½¿ç”¨" class="headerlink" title="7. Podmançš„ä½¿ç”¨"></a>7. Podmançš„ä½¿ç”¨</h2><p>podmanå‘½ä»¤ä¸dockerå¯ä»¥è¯´ä¸€æ¨¡ä¸€æ ·ï¼Œå¦‚æœä½ ç†Ÿæ‚‰dockerçš„è¯ï¼Œé‚£å°±æ˜¯æ— ç¼åˆ‡æ¢ <code>alias docker=podman</code> : )</p><h3 id="æ£€æŸ¥ç‰ˆæœ¬"><a href="#æ£€æŸ¥ç‰ˆæœ¬" class="headerlink" title="æ£€æŸ¥ç‰ˆæœ¬"></a>æ£€æŸ¥ç‰ˆæœ¬</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">podman</span> --version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è¿è¡Œå®¹å™¨"><a href="#è¿è¡Œå®¹å™¨" class="headerlink" title="è¿è¡Œå®¹å™¨"></a>è¿è¡Œå®¹å™¨</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">podman</span> run -dt -p <span class="token number">80</span>:80 --name nginx -v nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨"><a href="#åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨" class="headerlink" title="åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨"></a>åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">podman</span> <span class="token function">ps</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŸ¥çœ‹ä¸€ä¸ªå®¹å™¨ä¿¡æ¯"><a href="#æŸ¥çœ‹ä¸€ä¸ªå®¹å™¨ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹ä¸€ä¸ªå®¹å™¨ä¿¡æ¯"></a>æŸ¥çœ‹ä¸€ä¸ªå®¹å™¨ä¿¡æ¯</h3><p>ps: è¿™é‡Œçš„nginxæ˜¯è¿è¡Œå®¹å™¨æ—¶é€šè¿‡ <code>--name nginx</code> è®¾ç½®çš„åˆ«åï¼Œ ä¹Ÿå¯ä»¥ä½¿ç”¨<strong>å®¹å™¨id</strong>æ¥æŒ‡å®šæ‰€è¦æŸ¥çœ‹çš„å®¹å™¨</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">podman</span> inspect nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŸ¥çœ‹æ—¥å¿—"><a href="#æŸ¥çœ‹æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹æ—¥å¿—"></a>æŸ¥çœ‹æ—¥å¿—</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">podman</span> logs nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŸ¥çœ‹è¿è¡Œä¸­å®¹å™¨çš„èµ„æºä½¿ç”¨æƒ…å†µ"><a href="#æŸ¥çœ‹è¿è¡Œä¸­å®¹å™¨çš„èµ„æºä½¿ç”¨æƒ…å†µ" class="headerlink" title="æŸ¥çœ‹è¿è¡Œä¸­å®¹å™¨çš„èµ„æºä½¿ç”¨æƒ…å†µ"></a>æŸ¥çœ‹è¿è¡Œä¸­å®¹å™¨çš„èµ„æºä½¿ç”¨æƒ…å†µ</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">podman</span> <span class="token function">top</span> nginx<span class="token function">podman</span> stats nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="è¿ç§»å®¹å™¨"><a href="#è¿ç§»å®¹å™¨" class="headerlink" title="è¿ç§»å®¹å™¨"></a>è¿ç§»å®¹å™¨</h3><p>Podman æ”¯æŒå°†å®¹å™¨ä»ä¸€å°æœºå™¨è¿ç§»åˆ°å¦ä¸€å°æœºå™¨ã€‚<br>é¦–å…ˆï¼Œåœ¨æºæœºå™¨ä¸Šå¯¹å®¹å™¨è®¾ç½®æ£€æŸ¥ç‚¹ï¼Œå¹¶å°†å®¹å™¨æ‰“åŒ…åˆ°æŒ‡å®šä½ç½®ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">podman</span> container checkpoint <span class="token operator">&lt;</span>container_id<span class="token operator">></span> -e /tmp/checkpoint.tar.gz<span class="token function">scp</span> /tmp/checkpoint.tar.gz <span class="token operator">&lt;</span>destination_system<span class="token operator">></span>:/tmp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç„¶åï¼Œåœ¨ç›®æ ‡æœºå™¨ä¸Šä½¿ç”¨æºæœºå™¨ä¸Šä¼ è¾“è¿‡æ¥çš„æ‰“åŒ…æ–‡ä»¶å¯¹å®¹å™¨è¿›è¡Œæ¢å¤ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">podman</span> container restore -i /tmp/checkpoint.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ›´å¤šå‘½ä»¤å¯ä»¥é€šè¿‡å‘½ä»¤<code>podman help</code>æŸ¥çœ‹</p><h2 id="8-å‚è€ƒ"><a href="#8-å‚è€ƒ" class="headerlink" title="8. å‚è€ƒ"></a>8. å‚è€ƒ</h2><ol><li><a href="https://www.imaginarycloud.com/blog/podman-vs-docker/">Podman vs Docker: What are the differences?</a></li><li><a href="https://www.cnblogs.com/shoufu/p/11803010.html">podmanåˆè¯•-å’Œdockerå¯¹æ¯”</a></li><li><a href="https://docs.podman.io/en/latest">What is Podman?</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›®å¼€å‘å·¥ç¨‹åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS å®ç°ç›‘å¬å™¨Listenerç±»</title>
      <link href="/posts/5def.html"/>
      <url>/posts/5def.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>â€‹    å‡ å¤©å‰ä¸æ˜¯è°ˆåˆ°äº†äº‹ä»¶æ€»çº¿<code>eventBus</code>å—ï¼Œ ç„¶åå¯¹é‡Œé¢çš„<strong>ç›‘å¬å™¨</strong>ç›¸å…³çŸ¥è¯†æŒºæ„Ÿå…´è¶£ã€‚ä»Šå¤©æˆ‘ç”¨ä»£ç ç®€å•å®ç°äº†ä¸‹ï¼Œå¤§å®¶å¯ä»¥çœ‹çœ‹æ˜¯å¦æœ‰éœ€è¦æ”¹è¿›çš„åœ°æ–¹ã€‚å¯ä»¥è·³è½¬åˆ°æœ¬æ–‡æ–‡æœ«æŸ¥çœ‹æˆ‘çš„æœ€ç»ˆä»£ç ã€‚</p><h2 id="è¦æ±‚"><a href="#è¦æ±‚" class="headerlink" title="è¦æ±‚"></a>è¦æ±‚</h2><p>â€‹    å®ç°ä¸€ä¸ªç›‘å¬å™¨å¯¹è±¡Listenerç±»ï¼Œéœ€è¦å…·æœ‰å››ä¸ªæ–¹æ³•ï¼š</p><ul><li><code>on(event: String, fn: Function([data[, callback])])</code>  å¯¹äº‹ä»¶<code>event</code>ç»‘å®šä¸€ä¸ªç›‘å¬å™¨<code>fn</code></li><li><code>once(event: String, fn: Function)</code>  å¯¹äº‹ä»¶<code>event</code>ç»‘å®šä¸€ä¸ª<strong>åªæ‰§è¡Œä¸€æ¬¡</strong>çš„ç›‘å¬å™¨<code>fn</code></li><li><code>off(event: String [, fn: Function] )</code><ul><li>åªæœ‰ç¬¬ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå¯¹äº‹ä»¶<code>event</code>è§£ç»‘<strong>æ‰€æœ‰ç›‘å¬å™¨</strong></li><li>æœ‰ä¸¤ä¸ªå‚æ•°æ—¶,  å¯¹äº‹ä»¶<code>event</code>è§£ç»‘ä¸€ä¸ªç›‘å¬å™¨<code>fn</code> (è¿™é‡Œçš„<code>fn</code>éœ€è¦ä¸ä¹‹å‰ä½¿ç”¨<code>on</code>å‡½æ•°ç»‘å®šçš„<code>fn</code>æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡, æ‰€ä»¥æ³¨æ„ä½¿ç”¨åŒ¿åå‡½æ•°åšç›‘å¬å™¨å‡½æ•°çš„æƒ…å†µ <a href="https://aruoxi.com/posts/26su.html#toc-heading-7">å‚è€ƒ<code>eventBus</code>ä¸€èŠ‚ä¸­æåˆ°çš„åŒ¿åå‡½æ•°é—®é¢˜</a>)</li></ul></li><li><code>trigger(event: String, data: Object, callback: Function)</code>  è§¦å‘äº‹ä»¶<code>event</code>ç»‘å®šçš„æ‰€æœ‰ç›‘å¬å™¨ï¼Œå¹¶ä¼ é€’å‚æ•°<code>data</code>åŠå›è°ƒå‡½æ•°<code>callback</code> (å›è°ƒå‡½æ•°éœ€è¦åœ¨<code>on</code>ç»‘å®šçš„å‡½æ•°<code>fn</code>ä¸­è‡ªå®šä¹‰æ‰§è¡Œä½ç½®)</li></ul><h2 id="æ€è·¯åŠä»£ç "><a href="#æ€è·¯åŠä»£ç " class="headerlink" title="æ€è·¯åŠä»£ç "></a>æ€è·¯åŠä»£ç </h2><p>â€‹    å‡†å¤‡ç”¨ä¸€ä¸ª<code>Map</code>æ¥ç»´æŠ¤<strong>äº‹ä»¶åä¸ç›‘å¬å™¨åˆ—è¡¨çš„å¯¹åº”å…³ç³»</strong>ã€‚</p><p>â€‹    æ³¨æ„åœ¨<code>off</code>å‡½æ•°ä¸­æœ‰ä¸¤ç§å‚æ•°å½¢å¼ï¼Œä»¥åŠåœ¨<code>trigger</code>å‡½æ•°ä¸­æ³¨æ„ç§»é™¤ä¸€æ¬¡æ€§çš„ç›‘å¬å™¨å‡½æ•°ï¼Œä»£ç å¦‚ä¸‹:</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// åˆ¤æ–­æ˜¯å¦ä¸ºå‡½æ•°</span><span class="token keyword">function</span> <span class="token function">isFunction</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">return</span> <span class="token keyword">typeof</span> fn <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">&#125;</span><span class="token comment">// ç›‘å¬å™¨ç±»</span><span class="token keyword">function</span> <span class="token function">Listener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ç›‘å¬å™¨Mapï¼Œ ç»´æŠ¤äº‹ä»¶åä¸ç›‘å¬å™¨åˆ—è¡¨çš„å¯¹åº”å…³ç³»</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">/**   * æ·»åŠ ä¸€ä¸ªç›‘å¬å™¨   * (å¹¶æ²¡æœ‰å»é‡ï¼Œç›¸åŒçš„ç›‘å¬å™¨å‡½æ•°å¯å¤šæ¬¡æ·»åŠ )   * @param &#123;string&#125; name äº‹ä»¶å   * @param &#123;function&#125; fn ç›‘å¬å™¨å‡½æ•°   */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">on</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFunction</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">once</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> fn <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'è¯·ç»‘å®šå‡½æ•°'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">/**   * æ·»åŠ ä¸€ä¸ªåªæ‰§è¡Œä¸€æ¬¡çš„ç›‘å¬å™¨   * @param &#123;string&#125; name äº‹ä»¶å   * @param &#123;function&#125; fn ç›‘å¬å™¨å‡½æ•°   */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">once</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFunction</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">const</span> item <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">once</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> fn <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'è¯·ç»‘å®šå‡½æ•°'</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">/**   * ç§»é™¤ç›‘å¬å™¨   * è‹¥æ— ç¬¬äºŒä¸ªå‚æ•°fn, åˆ™ç§»é™¤æ‰€æœ‰ç›‘å¬å™¨   * @param &#123;string&#125; name äº‹ä»¶å   * @param &#123;function&#125; fn ç›‘å¬å™¨å‡½æ•°   */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">off</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fn<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFunction</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> items <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> index <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>fn <span class="token operator">===</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          items<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'è¯·è§£ç»‘å‡½æ•°'</span><span class="token punctuation">)</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span>  <span class="token comment">/**   * è§¦å‘ç›‘å¬å™¨   * @param &#123;string&#125; name äº‹ä»¶å   * @param &#123;object&#125; data ä¼ é€’å‚æ•°   * @param &#123;function&#125; callback å›è°ƒå‡½æ•°   */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">trigger</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> data<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">let</span> items <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> len <span class="token operator">=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">,</span> i <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> <span class="token punctuation">&#123;</span> once<span class="token punctuation">,</span> fn <span class="token punctuation">&#125;</span> <span class="token operator">=</span> items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token function">fn</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>once<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>          items<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç§»é™¤åªæ‰§è¡Œä¸€æ¬¡çš„ç›‘å¬å™¨</span>        <span class="token punctuation">&#125;</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// æµ‹è¯•</span><span class="token keyword">let</span> l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Listener</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>l<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token comment">// æ¯æ¬¡ä½¿ç”¨triggerå‡½æ•°è§¦å‘éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'event1 on'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// l.once('event1', (data) => &#123; // åªæ‰§è¡Œä¸€æ¬¡ï¼Œä¹‹åä¸å†æ‰§è¡Œ(å·²è¢«ç§»é™¤)</span><span class="token comment">//  console.log('event1 once', data);</span><span class="token comment">// &#125;)</span>l<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// event1 1</span>l<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// ä¸æ‰§è¡Œ</span>l<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'event1'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// ä¸æ‰§è¡Œ</span><span class="token keyword">let</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token comment">// å®šä¹‰ç›‘å¬å™¨å‡½æ•°fn</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">callback</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>l<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'event2'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> l<span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>l<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'event2'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token comment">// ä¼ å…¥æ•°æ® 1, å¹¶æ‰§è¡Œå›è°ƒå‡½æ•°</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'callback1'</span><span class="token punctuation">,</span> res <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// callback1 2</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>l<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'event2'</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç§»é™¤äº‹ä»¶â€˜event2â€™æä»…æœ‰çš„ç›‘å¬å™¨å‡½æ•°fnï¼Œ æ‰€ä»¥ä¹‹åçš„triggerå‡½æ•°æ— æ³•æ­£ç¡®æ‰§è¡Œ</span>l<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'event2'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token comment">// ä¼ å…¥æ•°æ® 2, å¹¶æ‰§è¡Œå›è°ƒå‡½æ•°</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'callback2'</span><span class="token punctuation">,</span> res <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// callback1 6</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> l<span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> eventBus </tag>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> js </tag>
            
            <tag> æºç å®ç° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue EventBusäº‹ä»¶æ€»çº¿çš„ä½¿ç”¨åŠæ³¨æ„äº‹é¡¹</title>
      <link href="/posts/26su.html"/>
      <url>/posts/26su.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€eventBusçš„ä»‹ç»"><a href="#ä¸€ã€eventBusçš„ä»‹ç»" class="headerlink" title="ä¸€ã€eventBusçš„ä»‹ç»"></a>ä¸€ã€eventBusçš„ä»‹ç»</h2><p>â€‹    <code>EventBus</code> åˆç§°ä¸º<strong>äº‹ä»¶æ€»çº¿</strong>ã€‚åœ¨Vueä¸­å¯ä»¥ä½¿ç”¨ <code>EventBus</code> æ¥ä½œä¸ºæ²Ÿé€šæ¡¥æ¢çš„æ¦‚å¿µï¼Œå°±åƒæ˜¯æ‰€æœ‰ç»„ä»¶å…±ç”¨ç›¸åŒçš„äº‹ä»¶ä¸­å¿ƒï¼Œå¯ä»¥å‘è¯¥ä¸­å¿ƒæ³¨å†Œå‘é€äº‹ä»¶æˆ–æ¥æ”¶äº‹ä»¶ï¼Œæ‰€ä»¥ç»„ä»¶éƒ½å¯ä»¥ä¸Šä¸‹å¹³è¡Œåœ°é€šçŸ¥å…¶ä»–ç»„ä»¶ï¼Œä½†ä¹Ÿå°±æ˜¯å¤ªæ–¹ä¾¿æ‰€ä»¥è‹¥ä½¿ç”¨ä¸æ…ï¼Œå°±ä¼šé€ æˆéš¾ä»¥ç»´æŠ¤çš„â€œ<strong>ç¾éš¾</strong>â€ï¼Œå› æ­¤éœ€è¦<a href="https://github.com/posva/pinia" title="Pinia"><code>Pinia</code></a>æˆ–<a href="https://vuex.vuejs.org/zh/" title="Vuex"><code>Vuex</code></a>ä½œä¸ºçŠ¶æ€ç®¡ç†ä¸­å¿ƒï¼Œå°†é€šçŸ¥çš„æ¦‚å¿µä¸Šå‡åˆ°<strong>å…±äº«çŠ¶æ€å±‚æ¬¡</strong>ã€‚</p><p>â€‹    æƒ³å…ˆçœ‹å…³é”®ç‚¹å¯è·³è½¬åˆ°<code>ä¸‰ã€æ³¨æ„</code></p><h2 id="äºŒã€ä½¿ç”¨"><a href="#äºŒã€ä½¿ç”¨" class="headerlink" title="äºŒã€ä½¿ç”¨"></a>äºŒã€ä½¿ç”¨</h2><h3 id="1-åˆå§‹åŒ–"><a href="#1-åˆå§‹åŒ–" class="headerlink" title="1. åˆå§‹åŒ–"></a>1. åˆå§‹åŒ–</h3><p>â€‹    Vueå·²ç»å¸®åŠ©æˆ‘ä»¬å‡†å¤‡äº†å¾ˆå¤šï¼Œæˆ‘ä»¬åªéœ€æ–°å»ºä¸€ä¸ªVueå®ä¾‹å½“ä½œ**å…¨å±€çš„<code>eventBus</code>å³å¯ã€‚å¯ä»¥å¦‚ä¸‹åœ¨<code>main.js</code>ä¸­å¼•å…¥ã€‚</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * æ·»åŠ äº‹ä»¶æ€»çº¿ * @param &#123;*&#125; Vue */</span><span class="token keyword">var</span> EventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">$bus</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> EventBus<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä¹‹ååœ¨æ‰€æœ‰çš„Vueç»„ä»¶ä¸­å³å¯è®¿é—®åˆ°äº‹ä»¶æ€»çº¿eventBusäº†ï¼Œå¦‚ä¸‹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>jsä»£ç ä¸­, å³å¯é€šè¿‡ this.$bus è®¿é—®åˆ°äº‹ä»¶æ€»çº¿eventBusäº†</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'event'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é€šè¿‡eventBuså‘å‡ºäº‹ä»¶ä¿¡å·'event'</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>templateå—ä¸­ç›´æ¥ä½¿ç”¨ $bus ä¹Ÿå¯ä»¥è®¿é—®åˆ°</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$bus.$emit(<span class="token punctuation">'</span>event<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="2-è®¢é˜…-amp-å‘å¸ƒ-amp-å–æ¶ˆè®¢é˜…"><a href="#2-è®¢é˜…-amp-å‘å¸ƒ-amp-å–æ¶ˆè®¢é˜…" class="headerlink" title="2. è®¢é˜…&amp;å‘å¸ƒ&amp;å–æ¶ˆè®¢é˜…"></a>2. è®¢é˜…&amp;å‘å¸ƒ&amp;å–æ¶ˆè®¢é˜…</h3><h4 id="å››ä¸ªæ–¹æ³•"><a href="#å››ä¸ªæ–¹æ³•" class="headerlink" title="å››ä¸ªæ–¹æ³•"></a>å››ä¸ªæ–¹æ³•</h4><p>â€‹    åœ¨æˆ‘ä»¬çš„äº‹ä»¶æ€»çº¿ä¸­ä¸»è¦ä½¿ç”¨<code>$on</code>å’Œ<code>$emit</code>æ¥è¿›è¡Œäº‹ä»¶çš„è®¢é˜…åŠå‘å¸ƒ, ä½¿ç”¨<code>$off</code>å–æ¶ˆè®¢é˜…ï¼Œè¿˜æœ‰<code>$once</code>ç”¨äºä¸€æ¬¡æ€§çš„è®¢é˜… <a href="https://cn.vuejs.org/v2/api/#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95-%E4%BA%8B%E4%BB%B6">å®˜æ–¹æ–‡æ¡£ | Vue2å®ä¾‹æ–¹æ³•$onã€$onceã€$offã€$emit</a></p><ul><li><code>$on</code>ç”¨æ¥è®¢é˜…æŸä¸ªä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ·»åŠ ç›‘å¬å™¨ï¼›</li><li><code>$once</code>ç”¨æ¥æ·»åŠ ä¸€ä¸ªä¸€æ¬¡æ€§çš„ç›‘å¬å™¨ï¼Œè§¦å‘ä¸€æ¬¡å³å¤±æ•ˆäº†ï¼›</li><li><code>$emit</code>ç”¨æ¥å‘å¸ƒä¿¡æ¯ï¼Œæˆ–è€…è¯´å‘å‡ºä¿¡å·ï¼›</li><li>ä¹‹åä¹Ÿä¼šè®²åˆ°<code>$off</code>æ˜¯ç”¨æ¥å–æ¶ˆä¿¡æ¯è®¢é˜…ï¼Œæˆ–è€…è¯´ç§»é™¤ç›‘å¬å™¨çš„ã€‚</li></ul><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><p>â€‹    ä»£ç å¦‚ä¸‹ï¼š(å¯æŸ¥çœ‹<a href="https://eventbus-vue2.aruoxi.com/">åœ¨çº¿æ¼”ç¤ºdemo</a>, ä»£ç è§<a href="https://github.com/hjwforever/eventbus-vue2">https://github.com/hjwforever/eventbus-vue2</a>)</p><h5 id="Template"><a href="#Template" class="headerlink" title="Template"></a>Template</h5><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hello<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>num: &#123;&#123; num &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>    <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>count: &#123;&#123; count &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>    <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>on<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Subscribe One<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>off<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>UnSubscribe One<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>offAll<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>UnSubscribe All<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>emit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click Me 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span> =    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$bus.$emit(<span class="token punctuation">'</span>event<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click Me 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"EventBusDemo"</span><span class="token punctuation">,</span>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// ç”³æ˜å˜é‡</span>      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// ç»Ÿè®¡äº‹ä»¶è®¢é˜…çš„æ–¹æ³•æ•°ç›®</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// é¡µé¢åˆå§‹åŒ–åï¼Œ è¿›è¡Œä¸€æ¬¡äº‹ä»¶è®¢é˜…</span>  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token comment">// é¡µé¢é”€æ¯å‰å–æ¶ˆè®¢é˜…ï¼Œå¦åˆ™æœ‰æ—¶å€™å¯èƒ½ä¼šå¯¼è‡´è®¢é˜…å¤šæ¬¡è€Œæ²¡æœ‰å–æ¶ˆè®¢é˜…ï¼Œæœ€ç»ˆä¸€ä¸ªæ–¹æ³•æ‰§è¡Œå¤šæ¬¡</span>  <span class="token function">beforeDestory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸€èˆ¬ä¸ä¼šä½¿ç”¨offAllå§ï¼Œæœ‰ç‚¹æš´åŠ›hh, æ³¨æ„ä¸è¦éšæ„è®¢äº‹ä»¶é˜…å³å¯</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// å®šä¹‰å‡½æ•°æ–¹æ³•</span>    <span class="token comment">// dataä¸º$emitä¼ é€’çš„å‚æ•°</span>    <span class="token comment">// ä½¿ç”¨callback(arg)å¯ä»¥å°†argä½œä¸ºå‚æ•°è¿”å›ç»™$onçš„å›è°ƒå‡½æ•°(ä½¿ç”¨ä¸”ä»…ä½¿ç”¨æœ€æ—©callbackçš„é‚£ä¸ªå‚æ•°arg)</span>    <span class="token function">myEvent</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token operator">++</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"$emit data"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"num = "</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token comment">// å¯¹äº‹ä»¶æ·»åŠ ä¸€æ¬¡è®¢é˜…, å³æ·»åŠ ä¸€ä¸ªç›‘å¬å™¨</span>    <span class="token function">on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// é€šè¿‡eventBusè®¢é˜…äº‹ä»¶'event'ç»‘å®šä¸€ä¸ª'myEvent'æ–¹æ³•ï¼Œ å³æ·»åŠ ä¸€ä¸ªç›‘å¬å™¨</span>      <span class="token comment">// æ³¨æ„ï¼ŒåŒä¸€æ–¹æ³•å¯æ·»åŠ å¤šæ¬¡ï¼Œå¹¶ä¸”å¦‚æœæ²¡æœ‰è¢«å–æ¶ˆè®¢é˜…çš„è¯ï¼Œä¿¡æ¯è§¦å‘æ—¶å…¨éƒ½ä¼šè¢«ä¸€ä¸€æ‰§è¡Œ</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">"event"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// ç»Ÿè®¡æ•°åŠ ä¸€</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"count = "</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token comment">// å–æ¶ˆäº‹ä»¶çš„ä¸€æ¬¡è®¢é˜…, å³ç§»é™¤ä¸€ä¸ªç›‘å¬å™¨</span>    <span class="token function">off</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// å–æ¶ˆå¯¹äº‹ä»¶'event'çš„ä¸€ä¸ªåä¸º'myEvent'æ–¹æ³•çš„è®¢é˜…</span>      <span class="token comment">// æ³¨æ„, å¦‚æœå·²ç»æ·»åŠ äº†å¤šæ¬¡ï¼Œåˆ™åªå¯å–æ¶ˆä¸€æ¬¡ï¼Œå³$offè¿™ç§åŒå‚æ•°ç”¨æ³•åªå¯ç§»é™¤ä¸€ä¸ªç›‘å¬å™¨</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">"event"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// ç»Ÿè®¡æ•°å‡ä¸€</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">--</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"count = "</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token comment">// å–æ¶ˆäº‹ä»¶çš„æ‰€æœ‰è®¢é˜…, å³ç§»é™¤æ‰€æœ‰ç›‘å¬å™¨</span>    <span class="token function">offAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// å–æ¶ˆå¯¹äº‹ä»¶'event'çš„æ‰€æœ‰è®¢é˜…</span>      <span class="token comment">// å³$offè¿™ç§ä¸€ä¸ªå‚æ•°çš„ç”¨æ³•, åªå¯ç§»é™¤æŒ‡å®šäº‹ä»¶åçš„æ‰€æœ‰ç›‘å¬å™¨</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">"event"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// ç»Ÿè®¡æ•°å½’é›¶</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"count = "</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token comment">// å‘é€äº‹ä»¶ä¿¡å·</span>    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">// é€šè¿‡eventBuså‘å‡ºäº‹ä»¶ä¿¡å·'event', ä¼ é€’å‚æ•°ï¼Œ å¹¶å®šä¹‰å›è°ƒå‡½æ•°(å…¶å‚æ•°ä¸º$on ç¬¬ä¸€ä¸ªcallbackå›æ¥çš„å€¼)</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"event"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>num<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token comment">// å›è°ƒå‡½æ•°</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"[event callback]: res"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€æ³¨æ„"><a href="#ä¸‰ã€æ³¨æ„" class="headerlink" title="ä¸‰ã€æ³¨æ„"></a>ä¸‰ã€æ³¨æ„</h2><ol><li><p><code>$bus.$on</code>å¯¹åŒä¸€äº‹ä»¶å¯<strong>ç»‘å®šå¤šæ¬¡</strong>ç›‘å¬å™¨ï¼Œä¿¡æ¯è§¦å‘æ—¶å…¨éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡;</p></li><li><p><code>$bus.$off</code>æœ‰<strong>ä¸¤ä¸ªå‚æ•°</strong>å’Œ<strong>ä¸€ä¸ªå‚æ•°</strong>çš„ç”¨æ³•</p><p><a href="https://v738c.csb.app/">å¦ä¸€ä¸ªå®éªŒdemo</a> (<code>test</code>ä¸ºtrueå’Œfalseå¯¹åº”ä¸‹é¢çš„<strong>ç¬¬2å°ç‚¹</strong>ä¸­çš„ä¸¤ç§æƒ…å†µï¼Œå³æ˜¯å¦ç»‘å®šçš„æ˜¯åŒä¸€ä¸ªå‡½æ•°æ–¹æ³•ä½œä¸ºç›‘å¬å™¨)</p><ol><li><p>ä½¿ç”¨<code>$bus.$off(event, fn)</code> **æ–¹æ³•è§£ç»‘ç›‘å¬å™¨å¯¹ <code>åŒ¿åå‡½æ•°fn</code>æ˜¯æ— æ•ˆçš„;</p><blockquote><p>æ²¡æœ‰å‡½æ•°åï¼Œä¹Ÿæ— æ³•è·å¾—ä¹‹å‰å·²ç»‘å®šçš„<strong>åŒ¿åå‡½æ•°ç›‘å¬å™¨fn0</strong>çš„å¯¹è±¡å¼•ç”¨ï¼Œä½¿ç”¨<code>eventBus</code>è‡ªç„¶æ‰¾ä¸åˆ°æŒ‡å®šçš„ç›‘å¬å™¨å»è¿›è¡Œè§£ç»‘æ“ä½œ</p></blockquote></li><li><p><code>$bus.$off(event, fn)</code> <strong>æ–¹æ³•ç§»é™¤æŒ‡å®šäº‹ä»¶çš„</strong>ä¸€ä¸ª**æŒ‡å®šçš„å‡½æ•°æ–¹æ³•ç›‘å¬å™¨; (è¿™ä¸ªç›‘å¬å™¨å‡½æ•°æ–¹æ³•å¿…é¡»ä¸ä¹‹å‰ä½¿ç”¨<code>$bus.$on</code>ç»‘å®šçš„ç›‘å¬å™¨å‡½æ•°å¯¹è±¡æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¦åˆ™æ‰¾ä¸åˆ°æŒ‡å®šçš„ç›‘å¬å™¨å‡½æ•°ï¼Œä¹Ÿå°±æ— æ³•ç§»é™¤ä»»ä½•ç›‘å¬å™¨äº†ï¼Œè¿™æ—¶æƒ…å†µå°±ç±»ä¼¼äºå°è¯•è§£ç»‘åŒ¿åå‡½æ•°ç›‘å¬å™¨äº†)</p></li><li><p><code>$bus.$off(event)</code>æ–¹æ³•ç§»é™¤æŒ‡å®šäº‹ä»¶åçš„<strong>æ‰€æœ‰</strong>ç›‘å¬å™¨</p></li></ol></li><li><p>å°½é‡ä¿è¯<code>$bus.$on</code>ä¸<code>$bus.$off</code>æˆåŒæˆå¯¹</p><p>â€‹    æ¨èä½¿ç”¨é’©å­å‡½æ•°<code>mounted</code>ä¸<code>beforeDestory</code>, å³åœ¨<strong>é¡µé¢åˆå§‹åŒ–å®Œæˆå</strong>è¿›è¡Œäº‹ä»¶è®¢é˜…ï¼Œå¹¶åœ¨<strong>é¡µé¢é”€æ¯æ—¶(å‰)<strong>å–æ¶ˆç›¸åº”äº‹ä»¶è®¢é˜…ã€‚ä»¥æ­¤ä¿è¯<code>eventBus</code>çš„çº¯æ´ï¼Œå¦åˆ™å†æ¬¡è¿›å…¥è¿™ä¸ªé¡µé¢æ—¶ï¼Œ<code>eventBus</code>è¿˜å¸¦æœ‰ä¸Šæ¬¡ç»‘å®šçš„ç›‘å¬å™¨ï¼Œå¦‚æœä½ å†æ¬¡ç»‘å®šä¸€æ¬¡ç›‘å¬å™¨çš„è¯ï¼Œé‚£ä¹ˆå½“ä¿¡å·è§¦å‘æ—¶ï¼Œè¿™ä¸ªäº‹ä»¶å°±ä¼š</strong>é‡å¤æ‰§è¡Œ</strong>ã€‚</p></li><li><p><code>$bus.$on(event, fn, callback)</code> æ–¹æ³•å…·æœ‰ä¸‰ä¸ªå‚æ•°</p><ul><li><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<strong>äº‹ä»¶å</strong></p></li><li><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç»‘å®šçš„<strong>ç›‘å¬å™¨å‡½æ•°æ–¹æ³•</strong></p></li><li><p>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯<strong>å›è°ƒå‡½æ•°</strong>ï¼Œä¾‹å­å¦‚ä¸‹</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">myEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">"event"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myEvent<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> event<span class="token punctuation">,</span> data <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"[event callback]: EventName"</span><span class="token punctuation">,</span> event<span class="token punctuation">,</span> <span class="token string">" data"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'event'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">event</span><span class="token operator">:</span> <span class="token string">'something'</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p>Vue2 ä¸ Vue3å…³äºeventBusçš„åŒºåˆ«</p><blockquote><p><code>Vue2 eventBus</code>çš„å…·ä½“ä½¿ç”¨æ–¹æ³•å¯æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ <a href="https://cn.vuejs.org/v2/api/#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95-%E4%BA%8B%E4%BB%B6">Vue2å®ä¾‹æ–¹æ³•$onã€$onceã€$offã€$emit</a></p><p><strong>å¦å¤–éœ€æ³¨æ„çš„æ˜¯ï¼Œ Vue3ä¸­ç§»é™¤äº† <code>$on</code>, <code>$off</code> åŠ<code>$once</code>ï¼Œ åªå‰©ä¸‹ <code>$emit</code> ç”¨äºå¯¹çˆ¶ç»„ä»¶ä¼ é€’ä¿¡æ¯</strong></p><p><code>Vue3</code>ä¸­æƒ³ä½¿ç”¨<code>eventBus</code>å¯ä»¥å€ŸåŠ©<strong>ç¬¬ä¸‰æ–¹åº“</strong>å¦‚<code>vue3-eventbus</code>ç­‰ï¼Œ æˆ–è€…<strong>è‡ªå·±å®ç°</strong></p></blockquote></li></ol><h2 id="å››ã€ç»“è¯­"><a href="#å››ã€ç»“è¯­" class="headerlink" title="å››ã€ç»“è¯­"></a>å››ã€ç»“è¯­</h2><p>â€‹    åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å…¨å±€çš„äº‹ä»¶æ€»çº¿<code>eventBus</code>å¯ä»¥å¸®åŠ©æˆ‘ä»¬å³ä½¿åœ¨ä¸åŒé¡µé¢ä¸­ä¹Ÿå¯ä¼ é€’ä¿¡æ¯ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚</p><p>â€‹    åªè¦æ³¨æ„ä¸Šé¢è¯´çš„å‡ ç‚¹ï¼ŒåŠˆå¼€é›·åŒºï¼Œå°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨äº†ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://github.com/hjwforever/eventbus-vue2">https://github.com/hjwforever/eventbus-vue2</a></p><p><a href="https://eventbus-vue2.aruoxi.com/">åœ¨çº¿æ¼”ç¤ºdemo</a></p><p><a href="https://v738c.csb.app/">å¦ä¸€ä¸ªå®éªŒdemo</a></p><p><a href="https://cn.vuejs.org/v2/api/#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95-%E4%BA%8B%E4%BB%B6">Vueå®ä¾‹æ–¹æ³•$onã€$onceã€$offã€$emit</a></p><p><a href="https://zhuanlan.zhihu.com/p/72777951">https://zhuanlan.zhihu.com/p/72777951</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> eventBus </tag>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµè§ˆå™¨äº¤äº’ | åä¸ªæˆ–è®¸å¯¹ä½ æœ‰ç”¨çš„WEB API</title>
      <link href="/posts/48be.html"/>
      <url>/posts/48be.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>â€‹    <strong><code>API</code></strong> æ˜¯ <strong><code>Application Programming Interface</code></strong> çš„é¦–å­—æ¯ç¼©å†™ï¼Œå®ƒå®šä¹‰äº†å¤šä¸ªè½¯ä»¶æ¶æ„å±‚ä¹‹é—´çš„äº¤äº’ã€‚ ç¨‹åºå‘˜å¯ä»¥åœ¨è½¯ä»¶å¼€å‘ä¸­ä½¿ç”¨ API è½»æ¾æ‰§è¡Œä¸€äº›å¤æ‚çš„ä»»åŠ¡ã€‚ å¦‚æœæ²¡æœ‰ APIï¼Œç¨‹åºå‘˜çš„ç”Ÿæ´»ä¼šå¾ˆåŠ³ç´¯â€”â€”æƒ³è±¡ä¸€ä¸‹æ¯ä¸ªåŠŸèƒ½éƒ½éœ€è¦è‡ªå·±æ‰‹å†™ä»£ç æ¥å®ç°ï¼Œå¹¶ä¸”å¯èƒ½æ— æ³•æ­£ç¡®ï¼ˆä¾‹å¦‚å®‰å…¨ï¼‰è®¿é—®æ•°æ®ï¼Œè¿˜è¦å»äº†è§£ä¸å¿…è¦çš„ä½çº§ç»†èŠ‚ç­‰ã€‚</p><p>â€‹    ç°åœ¨æˆ‘ä»¬æ¥è°ˆè°ˆ <code>Web API</code>ï¼Œå®ƒæœ‰è®¸å¤šéå¸¸æœ‰ç”¨çš„å¯¹è±¡ã€å±æ€§å’Œå‡½æ•°ï¼Œè¿™äº›å¯ç”¨æ¥æ‰§è¡Œä»è®¿é—® DOM åˆ°ç®¡ç†éŸ³é¢‘ã€è§†é¢‘ã€å›¾å½¢ç­‰å¤æ‚çš„ä»»åŠ¡ã€‚</p><blockquote><p>æ³¨æ„ï¼š<code>Web API</code> åªä¸è¿‡æ˜¯ä½¿ç”¨æ™®é€š <code>JavaScript</code> ç¼–å†™å’Œå…¬å¼€çš„æ¥å£ã€å‡½æ•°ã€å¯¹è±¡ã€å±æ€§ã€‚</p><p>ç„¶è€Œï¼Œ<code>Web API</code> çš„ä½¿ç”¨ä¸ä»…é™äºåŸºäºæ™®é€š <code>JavaScript</code> çš„åº”ç”¨ç¨‹åºã€‚å°†å…¶é…åˆ<code>React</code> æˆ– <code>Vue</code> ç­‰æ¡†æ¶ä¸€èµ·ä½¿ç”¨ä¹Ÿéå¸¸ç®€å•ã€‚</p></blockquote><p>â€‹    å¦‚æœä½ å·²ç»æœ‰äº†ä¸€äº› Web å¼€å‘ç»éªŒï¼Œé‚£ä¹ˆä½ å¯èƒ½å·²ç»ä½¿ç”¨äº†å¤šç§<code>Web API</code>å•¦ã€‚ ä¸‹é¢æœ‰ä¸€äº›æ¯”è¾ƒæœ‰åçš„ <code>Web API</code> åˆ—è¡¨ã€‚</p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API" title="CanvasAPI"><code>Canvas</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API" title="Fetch API"><code>Fetch</code></a> (æä¾›äº†ç½‘ç»œè¯·æ±‚å¯¹è±¡çš„é€šç”¨æ¥å£)</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/History_API" title="History API"><code>History</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Geolocation" title="Geolocation API"><code>Geolocation</code></a> (è·å–è®¾å¤‡çš„åœ°ç†ä½ç½®)</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API" title="DOM API"><code>DOM</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Console" title="Console API"><code>Console</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API" title="Drag &amp; Drop API"><code>Drag &amp; Drop API</code></a></li></ul><h2 id="åä¸ªæˆ–è®¸å¯¹ä½ æœ‰ç”¨çš„WEB-API"><a href="#åä¸ªæˆ–è®¸å¯¹ä½ æœ‰ç”¨çš„WEB-API" class="headerlink" title="åä¸ªæˆ–è®¸å¯¹ä½ æœ‰ç”¨çš„WEB API"></a>åä¸ªæˆ–è®¸å¯¹ä½ æœ‰ç”¨çš„WEB API</h2><blockquote><p>ä¸€ä¸‹ä»£ç ä¾‹å­å¯å‚è€ƒè¿™ä¸ª<a href="https://github.com/hjwforever/LearningLab/blob/master/JS/Web-API/src/components/NewWebAPI.vue" title="GitHubä»“åº“">Githubä»“åº“</a> ï¼Œæ¡†æ¶ä½¿ç”¨çš„æ˜¯<code>Vue</code></p></blockquote><h3 id="ä¸€ã€ğŸ“º-Fullscreen-API"><a href="#ä¸€ã€ğŸ“º-Fullscreen-API" class="headerlink" title="ä¸€ã€ğŸ“º Fullscreen API"></a>ä¸€ã€ğŸ“º <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API" title="å…¨å± API">Fullscreen API</a></h3><hr><blockquote><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API" title="å…¨å± API"><code>Fullscreen API</code></a> å¯ä»¥è®©ä¸€ä¸ªå…ƒç´ ä¸å…¶å­å…ƒç´ å…¨å±æ˜¾ç¤ºï¼Œå¹¶ä¸”åŒæ—¶éšè—å…¶ä»–å†…å®¹ã€‚</p><p>ä¸éœ€è¦æ—¶å¯ä»¥é€€å‡ºå…¨å±æ¨¡å¼ã€‚</p><p>æ›´å¤šç»†èŠ‚å¯å‚è€ƒMDNä¸Šçš„è¿™ä¸ª<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API/Guide" title="å…¨å±æŒ‡å—">æŒ‡å—</a></p></blockquote><p>â€‹    è¿™ä¸ªå…¨å±APIåº”è¯¥æ˜¯æœ€é€šä¿—æ˜“æ‡‚æ˜“ä¸Šæ‰‹çš„äº†å§ã€‚</p><p>â€‹    å®é™…ä¸Šï¼Œå…¨å± API æ²¡æœ‰å®ƒè‡ªå·±çš„æ¥å£å®ç°ï¼Œè€Œæ˜¯æä¾›äº†ä¸€äº›å…¶ä»–æ¥å£å¦‚åœ¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document"><code>Document</code></a> å’Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element"><code>Element</code></a> æ¥å£ä¸­å¢åŠ äº†ä¸€äº›æ–¹æ³•ï¼Œå¯ç”¨äºå…è®¸æ‰“å¼€å…³é—­å…¨å±æ¨¡å¼ã€‚</p><h4 id="1-è¿›å…¥å…¨å±æ¨¡å¼ï¼Œä»è€Œå±•ç¤ºæŸä¸ªå…ƒç´ åŠå…¶å­å…ƒç´ "><a href="#1-è¿›å…¥å…¨å±æ¨¡å¼ï¼Œä»è€Œå±•ç¤ºæŸä¸ªå…ƒç´ åŠå…¶å­å…ƒç´ " class="headerlink" title="1. è¿›å…¥å…¨å±æ¨¡å¼ï¼Œä»è€Œå±•ç¤ºæŸä¸ªå…ƒç´ åŠå…¶å­å…ƒç´ "></a>1. è¿›å…¥å…¨å±æ¨¡å¼ï¼Œä»è€Œå±•ç¤ºæŸä¸ªå…ƒç´ åŠå…¶å­å…ƒç´ </h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/requestFullScreen"><code>Element.requestFullscreen()</code></a> å‘å‡ºå¼‚æ­¥è¯·æ±‚ä½¿å…ƒç´ è¿›å…¥å…¨å±æ¨¡å¼ï¼Œè¦æ³¨æ„è¯¥å…ƒç´ æ˜¯å¦è¢«å…è®¸è¿›å…¥å…¨å±€æ¨¡å¼çš„å“¦ã€‚</p><h4 id="2-è¯·æ±‚é€€å‡ºå…¨å±æ¨¡å¼"><a href="#2-è¯·æ±‚é€€å‡ºå…¨å±æ¨¡å¼" class="headerlink" title="2. è¯·æ±‚é€€å‡ºå…¨å±æ¨¡å¼"></a>2. è¯·æ±‚é€€å‡ºå…¨å±æ¨¡å¼</h4><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/exitFullscreen"><code>Document.exitFullscreen()</code></a> ç”¨äºè®©å½“å‰æ–‡æ¡£é€€å‡ºå…¨å±æ¨¡å¼</p><blockquote><p><strong>å¤‡æ³¨:</strong> å¦‚æœä¸€ä¸ªå…ƒç´ Aåœ¨è¯·æ±‚è¿›å…¥å…¨å±æ¨¡å¼ä¹‹å‰ï¼Œå·²ç»å­˜åœ¨å…¶ä»–å…ƒç´ å¤„äºå…¨å±çŠ¶æ€ï¼Œå½“è¿™ä¸ªå…ƒç´ Aé€€å‡ºå…¨å±æ¨¡å¼ä¹‹åï¼Œä¹‹å‰çš„å…ƒç´ ä»ç„¶å¤„äºå…¨å±çŠ¶æ€ã€‚æµè§ˆå™¨å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ª<strong>å…¨å±å…ƒç´ æ ˆ</strong>ç”¨äºå®ç°è¿™ä¸ªç›®çš„ã€‚</p></blockquote><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><h5 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h5><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../assets/logo.png<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logo<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"logo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>elem<span class="token punctuation">.</span>requestFullscreen<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  elem<span class="token punctuation">.</span><span class="token function">requestFullscreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¯·æ±‚ä»idä¸º"logo"çš„å…ƒç´ è¿›å…¥å…¨å±æ¨¡å¼</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="äºŒã€ğŸ“‹-Clipboard-Async-API"><a href="#äºŒã€ğŸ“‹-Clipboard-Async-API" class="headerlink" title="äºŒã€ğŸ“‹ Clipboard Async API"></a>äºŒã€ğŸ“‹ Clipboard Async API</h3><blockquote><p>å¤åˆ¶ã€ç²˜è´´ APIï¼Œ æ¯ä¸ªCVç¨‹åºçŒ¿çš„å¥½ä¼™ä¼´!!</p></blockquote><h4 id="åˆ¤æ–­æµè§ˆå™¨æ”¯æŒæƒ…å†µ"><a href="#åˆ¤æ–­æµè§ˆå™¨æ”¯æŒæƒ…å†µ" class="headerlink" title="åˆ¤æ–­æµè§ˆå™¨æ”¯æŒæƒ…å†µ"></a>åˆ¤æ–­æµè§ˆå™¨æ”¯æŒæƒ…å†µ</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>clipboard <span class="token comment">// å‰ªè´´æ¿æ˜¯å¦å­˜åœ¨</span>     <span class="token operator">&amp;&amp;</span> navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span>read <span class="token comment">// å‰ªè´´æ¿æ˜¯å¦å¯è¯»</span>     <span class="token operator">&amp;&amp;</span> navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span>write<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// å‰ªè´´æ¿æ˜¯å¦å¯å†™</span>   <span class="token comment">// æ”¯æŒ</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>   <span class="token comment">// ä¸æ”¯æŒ</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¯¹å‰ªè´´æ¿çš„è¯»å†™"><a href="#å¯¹å‰ªè´´æ¿çš„è¯»å†™" class="headerlink" title="å¯¹å‰ªè´´æ¿çš„è¯»å†™"></a>å¯¹å‰ªè´´æ¿çš„è¯»å†™</h4><p>è¯»æ“ä½œ     <code>const text = await navigator.clipboard.readText();</code></p><p>å†™æ“ä½œ    <code>await navigator.clipboard.writeText(copyText); // å°†copyTextçš„å€¼å†™å…¥å‰ªè´´æ¿</code></p><h4 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><p>è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œç›´æ¥ä¸Šdemo:</p><h5 id="HTML-1"><a href="#HTML-1" class="headerlink" title="HTML"></a>HTML</h5><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>copy<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>performCopy<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>copy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>copy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>paste<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="JS-1"><a href="#JS-1" class="headerlink" title="JS"></a>JS</h5><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// copyå¼‚æ­¥å‡½æ•°</span><span class="token keyword">async</span> <span class="token function">performCopy</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span><span class="token function">writeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>copy<span class="token punctuation">)</span> <span class="token comment">// å°†copyTextçš„å€¼å†™å…¥å‰ªè´´æ¿</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>copy<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> copied to clipboard</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Failed to copy: '</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// pasteå¼‚æ­¥å‡½æ•°</span><span class="token keyword">async</span> <span class="token function">performPaste</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>clipboard<span class="token punctuation">.</span><span class="token function">readText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ä»å‰ªè´´æ¿è¯»å–ä¸Šä¸€æ¬¡å¤åˆ¶çš„å€¼</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>paste <span class="token operator">=</span> text    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Pasted content: '</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Failed to read clipboard contents: '</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-ğŸ§-Resize-Observer-API"><a href="#3-ğŸ§-Resize-Observer-API" class="headerlink" title="3. ğŸ§ Resize Observer API"></a>3. ğŸ§ Resize Observer API</h3><h3 id="4-ğŸ“·-Image-Capture-API"><a href="#4-ğŸ“·-Image-Capture-API" class="headerlink" title="4. ğŸ“· Image Capture API"></a>4. ğŸ“· Image Capture API</h3><h3 id="5-ğŸ“¡-Broadcast-Channel-API"><a href="#5-ğŸ“¡-Broadcast-Channel-API" class="headerlink" title="5. ğŸ“¡ Broadcast Channel API"></a>5. ğŸ“¡ Broadcast Channel API</h3><h3 id="6-â±ï¸-Performance-Interface-API"><a href="#6-â±ï¸-Performance-Interface-API" class="headerlink" title="6. â±ï¸ Performance Interface API"></a>6. â±ï¸ Performance Interface API</h3><h3 id="7-ğŸ”‹-Battery-Status-API"><a href="#7-ğŸ”‹-Battery-Status-API" class="headerlink" title="7. ğŸ”‹ Battery Status API"></a>7. ğŸ”‹ Battery Status API</h3><h3 id="8-ğŸ“¶-Network-Information-API"><a href="#8-ğŸ“¶-Network-Information-API" class="headerlink" title="8. ğŸ“¶ Network Information API"></a>8. ğŸ“¶ Network Information API</h3><h3 id="9-ğŸ“³-Vibration-API"><a href="#9-ğŸ“³-Vibration-API" class="headerlink" title="9. ğŸ“³ Vibration API"></a>9. ğŸ“³ Vibration API</h3><h3 id="10-ğŸ“»-Bluetooth-API"><a href="#10-ğŸ“»-Bluetooth-API" class="headerlink" title="10. ğŸ“» Bluetooth API"></a>10. ğŸ“» Bluetooth API</h3><p>æœªå®Œå¾…ç»­ã€‚ã€‚ã€‚</p><h2 id="ç—›ç‚¹â€”â€”å…³äºWEB-APIçš„å…¼å®¹æ€§"><a href="#ç—›ç‚¹â€”â€”å…³äºWEB-APIçš„å…¼å®¹æ€§" class="headerlink" title="ç—›ç‚¹â€”â€”å…³äºWEB APIçš„å…¼å®¹æ€§"></a>ç—›ç‚¹â€”â€”å…³äºWEB APIçš„å…¼å®¹æ€§</h2><p>â€‹    ä½¿ç”¨ Web API çš„ä¸€ä¸ªè¾ƒå¤§çš„ç—›ç‚¹æ˜¯ï¼Œå…¶ä¸­çš„å¤§å¤šæ•°å°šæœªæ ‡å‡†åŒ–ã€‚ è¿™æ„å‘³ç€ï¼Œå¯¹ Web API çš„æ”¯æŒå¯èƒ½å› æµè§ˆå™¨ä¾›åº”å•†è€Œå¼‚ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå‘ç°ä¸€ä¸ªé€‚ç”¨äº Chrome æµè§ˆå™¨çš„ APIï¼Œä½†å°šæœªæ”¯æŒ Firefox æˆ– Edge æµè§ˆå™¨ã€‚</p><p>â€‹    è¿™é‡Œé¡ºä¾¿ä»‹ç»ä¸‹è¿™ä¸ªå¸¸ç”¨çš„<strong>APIå…¼å®¹æ€§æŸ¥è¯¢</strong>ç½‘ç«™ <a href="https://caniuse.com/">https://caniuse.com</a></p><h3 id="æœ‰ç”¨çš„å·¥å…·ç½‘ç«™-â€”â€”â€”â€”-Can-I-Use"><a href="#æœ‰ç”¨çš„å·¥å…·ç½‘ç«™-â€”â€”â€”â€”-Can-I-Use" class="headerlink" title="æœ‰ç”¨çš„å·¥å…·ç½‘ç«™ â€”â€”â€”â€” Can I Use"></a>æœ‰ç”¨çš„å·¥å…·ç½‘ç«™ â€”â€”â€”â€” Can I Use</h3><p>â€‹    ä»è¿™ä¸ªç½‘ç«™<a href="https://caniuse.com/">https://caniuse.com</a>ä¸­ï¼Œä½ å¯ä»¥æŸ¥è¯¢æŸä¸ªAPIåœ¨<strong>å„ä¸ªç‰ˆæœ¬</strong>çš„<strong>ä¸åŒæµè§ˆå™¨</strong>ä¸­çš„å…¼å®¹æ€§ï¼Œæ¯”å¦‚IEï¼ŒChrome, Firefoxï¼ŒUCæµè§ˆå™¨ï¼ŒQQæµè§ˆå™¨ç­‰ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/2021/09/25/can-i-use-canvas.jpg" alt="Can I Use Canvas?"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API">https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API/Guide">https://developer.mozilla.org/zh-CN/docs/Web/API/Fullscreen_API/Guide</a><br><a href="https://caniuse.com/">https://caniuse.com/</a><br><a href="https://github.com/hjwforever/LearningLab/blob/master/JS/Web-API/src/components/NewWebAPI.vue">https://github.com/hjwforever/LearningLab/blob/master/JS/Web-API/src/components/NewWebAPI.vue</a><br><a href="https://github.com/weiweiwei256/basics-learn/blob/master/vue-cli/src/new-api/NewApi.vue">https://github.com/weiweiwei256/basics-learn/blob/master/vue-cli/src/new-api/NewApi.vue</a><br><a href="https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use">https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS å‡½æ•°å°¾é€’å½’ä¼˜åŒ–</title>
      <link href="/posts/a0c0.html"/>
      <url>/posts/a0c0.html</url>
      
        <content type="html"><![CDATA[<h3 id="JS-å‡½æ•°å°¾é€’å½’ä¼˜åŒ–"><a href="#JS-å‡½æ•°å°¾é€’å½’ä¼˜åŒ–" class="headerlink" title="JS å‡½æ•°å°¾é€’å½’ä¼˜åŒ–"></a>JS å‡½æ•°å°¾é€’å½’ä¼˜åŒ–</h3><blockquote><p>å‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œç§°ä¸ºé€’å½’ã€‚å¦‚æœå°¾è°ƒç”¨è‡ªèº«ï¼Œå°±ç§°ä¸ºå°¾é€’å½’ã€‚<br>é€’å½’éå¸¸è€—è´¹å†…å­˜ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ä¿å­˜æˆåƒä¸Šç™¾ä¸ªè°ƒç”¨å¸§ï¼Œå¾ˆå®¹æ˜“å‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ï¼ˆstack overflowï¼‰ã€‚ä½†å¯¹äºå°¾é€’å½’æ¥è¯´ï¼Œç”±äºåªå­˜åœ¨ä¸€ä¸ªè°ƒç”¨å¸§ï¼Œæ‰€ä»¥æ°¸è¿œä¸ä¼šå‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ã€‚</p></blockquote><h3 id="ç¬¬-N-ä¸ªæ³°æ³¢é‚£å¥‘æ•°"><a href="#ç¬¬-N-ä¸ªæ³°æ³¢é‚£å¥‘æ•°" class="headerlink" title="ç¬¬ N ä¸ªæ³°æ³¢é‚£å¥‘æ•°"></a>ç¬¬ N ä¸ªæ³°æ³¢é‚£å¥‘æ•°</h3><p><a href="https://leetcode-cn.com/problems/n-th-tribonacci-number">Leetcode</a></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * @param &#123;number&#125; n * @return &#123;number&#125; */</span><span class="token keyword">function</span> <span class="token function">tribonacci</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> c1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> c2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> c3 <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> c1 <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">1</span> <span class="token operator">:</span> c3<span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token function">tribonacci</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> c2<span class="token punctuation">,</span> c3<span class="token punctuation">,</span> c1<span class="token operator">+</span>c2<span class="token operator">+</span>c3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tribonacci</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 0</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tribonacci</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tribonacci</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tribonacci</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 4</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tribonacci</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1389537</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å†ä¸¾ä¸ªä¾‹å­ï¼Œæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡½æ•°å°¾é€’å½’ä¼˜åŒ–"><a href="#å†ä¸¾ä¸ªä¾‹å­ï¼Œæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡½æ•°å°¾é€’å½’ä¼˜åŒ–" class="headerlink" title="å†ä¸¾ä¸ªä¾‹å­ï¼Œæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡½æ•°å°¾é€’å½’ä¼˜åŒ–"></a>å†ä¸¾ä¸ªä¾‹å­ï¼Œæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡½æ•°å°¾é€’å½’ä¼˜åŒ–</h3><p><a href="https://leetcode-cn.com/problems/n-th-tribonacci-number/">Leetcode</a></p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token parameter">n <span class="token punctuation">,</span> c1<span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">,</span> c2<span class="token operator">=</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">if</span><span class="token punctuation">(</span> n <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> c2<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> c2<span class="token punctuation">,</span> c1 <span class="token operator">+</span> c2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// 573147844013817200000</span><span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span> <span class="token comment">// 7.0330367711422765e+208</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>â€œå°¾è°ƒç”¨ä¼˜åŒ–â€å¯¹é€’å½’æ“ä½œæ„ä¹‰é‡å¤§ï¼Œæ‰€ä»¥ä¸€äº›å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€å°†å…¶å†™å…¥äº†è¯­è¨€è§„æ ¼ã€‚ES6 äº¦æ˜¯å¦‚æ­¤ï¼Œç¬¬ä¸€æ¬¡æ˜ç¡®è§„å®šï¼Œæ‰€æœ‰ ECMAScript çš„å®ç°ï¼Œéƒ½å¿…é¡»éƒ¨ç½²â€œå°¾è°ƒç”¨ä¼˜åŒ–â€ã€‚</p><p>è¿™å°±æ˜¯è¯´ï¼ŒES6 ä¸­åªè¦ä½¿ç”¨å°¾é€’å½’ï¼Œå°±ä¸ä¼šå‘ç”Ÿæ ˆæº¢å‡ºï¼ˆæˆ–è€…å±‚å±‚é€’å½’é€ æˆçš„è¶…æ—¶ï¼‰ï¼Œç›¸å¯¹ã€‚</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://es6.ruanyifeng.com/#docs/function#%E5%B0%BE%E9%80%92%E5%BD%92">å‡½æ•°çš„æ‰©å±• - ECMAScript 6å…¥é—¨ (ruanyifeng.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSæ•°æ®ç±»å‹åŠå­˜å‚¨æ–¹å¼</title>
      <link href="/posts/cef4.html"/>
      <url>/posts/cef4.html</url>
      
        <content type="html"><![CDATA[<h1 id="JSæ•°æ®ç±»å‹åŠå­˜å‚¨æ–¹å¼"><a href="#JSæ•°æ®ç±»å‹åŠå­˜å‚¨æ–¹å¼" class="headerlink" title="JSæ•°æ®ç±»å‹åŠå­˜å‚¨æ–¹å¼"></a>JSæ•°æ®ç±»å‹åŠå­˜å‚¨æ–¹å¼</h1><h2 id="ä¸€ã€æ•°æ®ç±»å‹"><a href="#ä¸€ã€æ•°æ®ç±»å‹" class="headerlink" title="ä¸€ã€æ•°æ®ç±»å‹"></a>ä¸€ã€æ•°æ®ç±»å‹</h2><ol><li> ä¸ƒç§åŸºæœ¬æ•°æ®ç±»å‹(å€¼ç±»å‹):</li></ol><ul><li><p>å­—ç¬¦ä¸²(String)</p></li><li><p>æ•°å­—(Number)</p></li><li><p>å¸ƒå°”å€¼(Boolean)</p></li><li><p>ç©ºå€¼(Null)</p></li><li><p>æœªå®šä¹‰(undefined)</p></li><li><p>ç¬¦å·(Symbol)</p></li><li><p>ä»»æ„ç²¾åº¦çš„æ•´æ•°(BigInt)</p></li></ul><ol start="2"><li> å¼•ç”¨æ•°æ®ç±»å‹:</li></ol><ul><li><p>å¯¹è±¡(Object)</p></li><li><p>æ•°ç»„(Array)</p></li><li><p>å‡½æ•°(Function)</p></li></ul><h2 id="äºŒã€å­˜å‚¨æ–¹å¼â€”â€”æ ˆå’Œå †"><a href="#äºŒã€å­˜å‚¨æ–¹å¼â€”â€”æ ˆå’Œå †" class="headerlink" title="äºŒã€å­˜å‚¨æ–¹å¼â€”â€”æ ˆå’Œå †"></a>äºŒã€å­˜å‚¨æ–¹å¼â€”â€”æ ˆå’Œå †</h2><blockquote><p>åŸºæœ¬æ•°æ®ç±»å‹çš„å†…å­˜åˆ†é…ï¼šç›´æ¥å°†æ•°æ®å­˜å‚¨åœ¨<strong>æ ˆç©ºé—´</strong>ã€‚<br>å¼•ç”¨æ•°æ®ç±»å‹çš„å†…å­˜åˆ†é…ï¼šå°†<strong>æ•°æ®åœ°å€</strong>å­˜å‚¨åœ¨<strong>æ ˆç©ºé—´</strong>ï¼ŒçœŸæ­£çš„æ•°æ®å­˜å‚¨åœ¨<strong>å †ç©ºé—´</strong>ä¸­ã€‚<br>å †å†…å­˜æ˜¯æ— åºå­˜å‚¨ï¼Œå¯ä»¥æ ¹æ®å¼•ç”¨ç›´æ¥è·å–ã€‚</p></blockquote><h3 id="å†…å­˜åˆ†é…"><a href="#å†…å­˜åˆ†é…" class="headerlink" title="å†…å­˜åˆ†é…"></a>å†…å­˜åˆ†é…</h3><p>â‘ åŸå§‹æ•°æ®ç±»å‹ï¼š<br>  <strong>æ ˆå†…å­˜</strong>  åŸå§‹æ•°æ®ç±»å‹ç›´æ¥å­˜å‚¨åœ¨æ ˆ(stack)ä¸­çš„ç®€å•æ•°æ®æ®µï¼Œå æ®ç©ºé—´å°ã€å¤§å°æ¯”è¾ƒç¨³å®šï¼Œå±äºè¢«é¢‘ç¹ä½¿ç”¨æ•°æ®ï¼Œæ‰€ä»¥æ”¾å…¥æ ˆä¸­å­˜å‚¨ï¼›</p><p>â‘¡å¼•ç”¨æ•°æ®ç±»å‹ï¼š<br>  <strong>å †å†…å­˜</strong>  å¼•ç”¨æ•°æ®ç±»å‹å­˜å‚¨åœ¨å †(heap)ä¸­çš„å¯¹è±¡,å æ®ç©ºé—´å¤§ã€å¤§å°ä¸å›ºå®š, è€Œåœ¨æ ˆå†…å­˜ä¸­åªæ˜¯å­˜äº†ä¸€ä¸ªåœ°å€æ¥è¡¨ç¤ºå¯¹å †å†…å­˜ä¸­çš„å¼•ç”¨ã€‚</p><h2 id="ä¸‰ã€ç®€å•ç±»å‹ä¸å¤æ‚ç±»å‹ä¼ å‚"><a href="#ä¸‰ã€ç®€å•ç±»å‹ä¸å¤æ‚ç±»å‹ä¼ å‚" class="headerlink" title="ä¸‰ã€ç®€å•ç±»å‹ä¸å¤æ‚ç±»å‹ä¼ å‚"></a>ä¸‰ã€ç®€å•ç±»å‹ä¸å¤æ‚ç±»å‹ä¼ å‚</h2><ul><li><strong>ç®€å•ç±»å‹ä¼ å‚</strong>ï¼šå‡½æ•°å½¢å‚å¯çœ‹ä½œä¸€ä¸ªå˜é‡ï¼Œå½“æŠŠå€¼ç±»å‹å˜é‡ä¼ ç»™å½¢å‚ï¼Œæ˜¯æŠŠæ ˆç©ºé—´ä¸­çš„å€¼å¤åˆ¶ä¸€ä»½ä¼ è¿‡å»ï¼Œ<strong>å½¢å‚ä¸å®å‚æ“ä½œçš„ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡</strong>ã€‚</li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>   <span class="token comment">// 1</span>b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>      <span class="token comment">// !! è¿™é‡Œä¿®æ”¹bï¼Œåªä¼šä¿®æ”¹bçš„å€¼ï¼Œè€Œaçš„å€¼ä¸å—å½±å“</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>   <span class="token comment">// 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>å¤æ‚ç±»å‹</strong>ï¼šå‡½æ•°å½¢å‚å¯çœ‹ä½œä¸€ä¸ªå˜é‡ï¼Œå½“æŠŠå¼•ç”¨ç±»å‹å˜é‡ä¼ ç»™å½¢å‚ï¼Œæ˜¯æŠŠæ ˆç©ºé—´ä¸­çš„åœ°å€ä¼ è¿‡å»ï¼Œ<strong>å½¢å‚ä¸å®å‚ä¿å­˜åŒä¸€ä¸ªåœ°å€ï¼Œæ“ä½œåŒä¸€ä¸ªå¯¹è±¡</strong>ã€‚</li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'å¼ ä¸‰'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &#123; name: 'å¼ ä¸‰' &#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>   <span class="token comment">// &#123; name: 'å¼ ä¸‰' &#125;</span>b<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'æå››'</span><span class="token punctuation">;</span>  <span class="token comment">// !! è¿™é‡Œä¿®æ”¹bï¼Œä¼šä¿®æ”¹bæŒ‡å‘çš„å®é™…å¯¹è±¡ï¼Œå³ä¸aæŒ‡å‘çš„åŒä¸€ä¸ªçš„å¯¹è±¡</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &#123; name: 'æå››' &#125;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>   <span class="token comment">// &#123; name: 'æå››' &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å››ã€æ•°æ®ç±»å‹åˆ¤æ–­æ–¹æ³•"><a href="#å››ã€æ•°æ®ç±»å‹åˆ¤æ–­æ–¹æ³•" class="headerlink" title="å››ã€æ•°æ®ç±»å‹åˆ¤æ–­æ–¹æ³•"></a>å››ã€æ•°æ®ç±»å‹åˆ¤æ–­æ–¹æ³•</h2><h3 id="1-typeof"><a href="#1-typeof" class="headerlink" title="1. typeof"></a>1. <code>typeof</code></h3><blockquote><p>ä½¿ç”¨<code>typeof</code>è¿›è¡Œåˆ¤æ–­æ—¶, è¿”å›ç»“æœä¸€èˆ¬åªåŒ…æ‹¬è¿™<strong>8</strong>ç§ï¼š<br><code>number</code>,<code>boolean</code>,<code>string</code>,<code>function</code>,<code>object</code>,<code>undefined</code>,<code>symbol</code>(ECMAScript 2015 æ–°å¢),<code>bigint</code>(ECMAScript 2020æ–°å¢)</p><p><strong>æ³¨æ„!! æ²¡æœ‰<code>null</code></strong></p></blockquote><p>åˆ¤æ–­é™¤äº†<code>null</code>çš„åŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>typeof</code>å…³é”®å­—ï¼Œ ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">typeof</span> <span class="token string">'123'</span>     <span class="token comment">//  string</span><span class="token keyword">typeof</span> <span class="token number">1</span>        <span class="token comment">//  number</span><span class="token keyword">typeof</span> <span class="token boolean">true</span>     <span class="token comment">//  boolean</span><span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>   <span class="token comment">// symbol</span><span class="token keyword">typeof</span> <span class="token number">111n</span>    <span class="token comment">//  bigint</span><span class="token keyword">typeof</span> <span class="token keyword">undefined</span>        <span class="token comment">// undefined</span><span class="token keyword">typeof</span> <span class="token keyword">null</span>     <span class="token comment">// object</span><span class="token keyword">typeof</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">b</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">&#125;</span>    <span class="token comment">// object</span><span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token keyword">typeof</span> c     <span class="token comment">//  function</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof#%E7%A4%BA%E4%BE%8B">å®˜æ–¹æ–‡æ¡£æ›´å¤šæ›´è¯¦ç»†çš„ç¤ºä¾‹: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof#ç¤ºä¾‹</a></p><blockquote><p>è¿™é‡Œè§£é‡Šä¸€ä¸‹ä¸ºä½•ç”¨typeofåˆ¤æ–­nullæ—¶ï¼Œå¾—åˆ°çš„ç»“æœä¸ºä½•æ˜¯å¯¹è±¡objectï¼š<br>è¿™æ˜¯å› ä¸ºåœ¨ JavaScript æœ€åˆçš„å®ç°ä¸­ï¼ŒJavaScript ä¸­çš„å€¼æ˜¯ç”±ä¸€ä¸ªè¡¨ç¤ºç±»å‹çš„æ ‡ç­¾å’Œå®é™…æ•°æ®å€¼è¡¨ç¤ºçš„ã€‚<strong>å¯¹è±¡çš„ç±»å‹æ ‡ç­¾æ˜¯ 0ã€‚</strong>ç„¶è€Œ<strong>nullçš„æœºå™¨ç å…¨éƒ½æ˜¯0</strong>ï¼Œæ‰€ä»¥å°±è¢«å½“æˆäº†å¯¹è±¡çœ‹å¾….</p></blockquote><h3 id="2-constructor"><a href="#2-constructor" class="headerlink" title="2. constructor"></a>2. constructor</h3><blockquote><p>constructoræ˜¯prototypeå¯¹è±¡ä¸Šçš„å±æ€§ï¼ŒæŒ‡å‘æ„é€ å‡½æ•°ã€‚</p><p>æ ¹æ®å®ä¾‹å¯¹è±¡å¯»æ‰¾å±æ€§çš„é¡ºåºï¼Œè‹¥å®ä¾‹å¯¹è±¡ä¸Šæ²¡æœ‰å®ä¾‹å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå°±å»åŸå‹é“¾ä¸Šå¯»æ‰¾ï¼Œå› æ­¤ï¼Œå®ä¾‹å¯¹è±¡ä¹Ÿæ˜¯èƒ½ä½¿ç”¨constructorå±æ€§çš„ã€‚</p></blockquote><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> num  <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">var</span> str  <span class="token operator">=</span> <span class="token string">'abcdef'</span><span class="token punctuation">;</span><span class="token keyword">var</span> bool <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr  <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> json <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'wenzi'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">25</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">var</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this is function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">var</span> und  <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><span class="token keyword">var</span> nul  <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> reg  <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z]&#123;5,20&#125;$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span><span class="token keyword">var</span> error<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">var</span> tom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// !! undefinedå’Œnullæ²¡æœ‰constructorå±æ€§ !!</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>    tom<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Person<span class="token punctuation">,</span>    num<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Number<span class="token punctuation">,</span>    str<span class="token punctuation">.</span>constructor<span class="token operator">==</span>String<span class="token punctuation">,</span>    bool<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Boolean<span class="token punctuation">,</span>    arr<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Array<span class="token punctuation">,</span>    json<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Object<span class="token punctuation">,</span>    func<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Function<span class="token punctuation">,</span>    date<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Date<span class="token punctuation">,</span>    reg<span class="token punctuation">.</span>constructor<span class="token operator">==</span>RegExp<span class="token punctuation">,</span>    error<span class="token punctuation">.</span>constructor<span class="token operator">==</span>Error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä»¥ä¸Šæ‰€æœ‰ç»“æœå‡ä¸ºtrue</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><p>1.<code>null</code>å’Œ<code>undefined</code>æ˜¯æ— æ•ˆçš„å¯¹è±¡ï¼Œå› æ­¤æ˜¯ä¸ä¼šæœ‰<code>constructor</code>å­˜åœ¨çš„ï¼Œè¿™ä¸¤ç§ç±»å‹çš„æ•°æ®å¯ä»¥é€šè¿‡ç¬¬å››ç§æ–¹æ³•æ¥åˆ¤æ–­ã€‚(åé¢ç¬¬ä¸‰ç§æ–¹æ³• é€šè¿‡<code>instanceof</code>æ— æ³•åˆ¤æ–­<code>null</code>å’Œ<code>undefined</code>ä¹Ÿæ˜¯ç›¸åŒé“ç†)<br>2.JSå¯¹è±¡çš„<code>constructor</code>æ˜¯ä¸ç¨³å®šçš„ï¼Œè¿™ä¸ªä¸»è¦ä½“ç°åœ¨è‡ªå®šä¹‰å¯¹è±¡ä¸Šï¼Œå½“å¼€å‘è€…é‡å†™<code>prototype</code>åï¼ŒåŸæœ‰çš„<code>constructor</code>ä¼šä¸¢å¤±ï¼Œ<code>constructor</code>ä¼šé»˜è®¤ä¸º<code>Object</code></p><h3 id="3-instanceof"><a href="#3-instanceof" class="headerlink" title="3. instanceof"></a>3. instanceof</h3><blockquote><p>è¯­æ³•: <code>object instanceof constructor</code></p><blockquote><p>objectï¼šæŸä¸ªå®ä¾‹å¯¹è±¡</p><p>constructor: æŸä¸ªæ„é€ å‡½æ•°</p></blockquote><p><strong>instanceof è¿ç®—ç¬¦ç”¨æ¥æ£€æµ‹ <code>constructor.prototype</code> æ˜¯å¦å­˜åœ¨äºå‚æ•° <code>object</code> çš„åŸå‹é“¾ä¸Šã€‚</strong></p></blockquote><h4 id="ä¸€èˆ¬ç”¨æ¥åˆ¤æ–­å¼•ç”¨æ•°æ®ç±»å‹çš„åˆ¤æ–­ï¼Œå¦‚ï¼šObjectï¼ŒFunctionï¼ŒArrayï¼ŒDateï¼ŒRegExpç­‰"><a href="#ä¸€èˆ¬ç”¨æ¥åˆ¤æ–­å¼•ç”¨æ•°æ®ç±»å‹çš„åˆ¤æ–­ï¼Œå¦‚ï¼šObjectï¼ŒFunctionï¼ŒArrayï¼ŒDateï¼ŒRegExpç­‰" class="headerlink" title="ä¸€èˆ¬ç”¨æ¥åˆ¤æ–­å¼•ç”¨æ•°æ®ç±»å‹çš„åˆ¤æ–­ï¼Œå¦‚ï¼šObjectï¼ŒFunctionï¼ŒArrayï¼ŒDateï¼ŒRegExpç­‰"></a>ä¸€èˆ¬ç”¨æ¥åˆ¤æ–­å¼•ç”¨æ•°æ®ç±»å‹çš„åˆ¤æ–­ï¼Œå¦‚ï¼šObjectï¼ŒFunctionï¼ŒArrayï¼ŒDateï¼ŒRegExpç­‰</h4><blockquote><p>æ³¨æ„<code>null</code>å’Œ<code>undefined</code>æ˜¯ç©ºå€¼æˆ–æœªå®šä¹‰ï¼Œæ˜¯ä¸å­˜åœ¨prototypeå±æ€§ï¼Œæ²¡æœ‰åŸå‹é“¾çš„ï¼Œä¹Ÿå°±æ— æ³•ä½¿ç”¨<code>instanceof</code>æ¥åˆ¤æ–­äº†</p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>    <span class="token string">'advsz'</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token comment">//false</span>    <span class="token number">123</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">,</span> <span class="token comment">//false</span>    <span class="token boolean">false</span> <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">,</span> <span class="token comment">//false</span>    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">,</span> <span class="token comment">//true</span>    <span class="token punctuation">&#123;</span> <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">b</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token literal-property property">c</span><span class="token operator">:</span><span class="token number">3</span> <span class="token punctuation">&#125;</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token comment">//true</span>    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">,</span> <span class="token comment">//true</span>    <span class="token keyword">undefined</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token comment">//false</span>    <span class="token keyword">null</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token comment">//false</span>    <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">,</span> <span class="token comment">//true</span>    <span class="token operator">/</span><span class="token operator">^</span>\<span class="token punctuation">[</span><span class="token function">object</span> <span class="token punctuation">(</span>\<span class="token constant">S</span><span class="token operator">+</span><span class="token punctuation">)</span>\<span class="token punctuation">]</span>$<span class="token operator">/</span>g <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span><span class="token punctuation">,</span> <span class="token comment">//true</span>    <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Error</span> <span class="token comment">//true</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="instanceof-ä¹Ÿå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ˜¯å…¶çˆ¶ç±»å‹æˆ–è€…ç¥–å…ˆç±»å‹çš„å®ä¾‹ã€‚"><a href="#instanceof-ä¹Ÿå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ˜¯å…¶çˆ¶ç±»å‹æˆ–è€…ç¥–å…ˆç±»å‹çš„å®ä¾‹ã€‚" class="headerlink" title="instanceof ä¹Ÿå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ˜¯å…¶çˆ¶ç±»å‹æˆ–è€…ç¥–å…ˆç±»å‹çš„å®ä¾‹ã€‚"></a>instanceof ä¹Ÿå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ˜¯å…¶çˆ¶ç±»å‹æˆ–è€…ç¥–å…ˆç±»å‹çš„å®ä¾‹ã€‚</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Car</span><span class="token punctuation">(</span><span class="token parameter">make<span class="token punctuation">,</span> model<span class="token punctuation">,</span> year</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>make <span class="token operator">=</span> make<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>model <span class="token operator">=</span> model<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>year <span class="token operator">=</span> year<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> <span class="token function-variable function">BWM</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token class-name">BWM</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> mycar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BWM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mycar <span class="token keyword">instanceof</span> <span class="token class-name">BWM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mycar <span class="token keyword">instanceof</span> <span class="token class-name">Car</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mycar <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è¿”å› true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="instanceof-çš„å®ç°åŸç†"><a href="#instanceof-çš„å®ç°åŸç†" class="headerlink" title="instanceof çš„å®ç°åŸç†"></a>instanceof çš„å®ç°åŸç†</h4><blockquote><p>instanceof ä¸»è¦çš„å®ç°åŸç†å°±æ˜¯åªè¦å³è¾¹å˜é‡çš„ prototype åœ¨å·¦è¾¹å˜é‡çš„åŸå‹é“¾ä¸Šå³å¯ã€‚</p><p>å› æ­¤ï¼Œinstanceof åœ¨æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ä¼šéå†å·¦è¾¹å˜é‡çš„åŸå‹é“¾ï¼Œç›´åˆ°æ‰¾åˆ°å³è¾¹å˜é‡çš„ prototypeï¼Œå¦‚æœæŸ¥æ‰¾å¤±è´¥ï¼Œåˆ™ä¼šè¿”å› falseï¼Œå‘Šè¯‰æˆ‘ä»¬å·¦è¾¹å˜é‡å¹¶éæ˜¯å³è¾¹å˜é‡çš„å®ä¾‹ã€‚</p></blockquote><p>å¤§è‡´ä»£ç åŸç†å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">new_instance_of</span><span class="token punctuation">(</span><span class="token parameter">leftVaule<span class="token punctuation">,</span> rightVaule</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">let</span> rightProto <span class="token operator">=</span> rightVaule<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// å–å³è¡¨è¾¾å¼çš„ prototype å€¼</span>    leftVaule <span class="token operator">=</span> leftVaule<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span> <span class="token comment">// å–å·¦è¡¨è¾¾å¼çš„__proto__å€¼</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>leftVaule <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>leftVaule <span class="token operator">===</span> rightProto<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        leftVaule <span class="token operator">=</span> leftVaule<span class="token punctuation">.</span>__proto__    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-é€šç”¨åŠæœ€å‡†ç¡®çš„æ–¹æ³•â€”â€”Object-prototype-toString-call-æ–¹æ³•"><a href="#4-é€šç”¨åŠæœ€å‡†ç¡®çš„æ–¹æ³•â€”â€”Object-prototype-toString-call-æ–¹æ³•" class="headerlink" title="4. é€šç”¨åŠæœ€å‡†ç¡®çš„æ–¹æ³•â€”â€”Object.prototype.toString.call()æ–¹æ³•"></a>4. é€šç”¨åŠæœ€å‡†ç¡®çš„æ–¹æ³•â€”â€”<code>Object.prototype.toString.call()</code>æ–¹æ³•</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Number]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object String]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Boolean]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Object]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Array]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Function]</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Date]</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>Math<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Math]</span><span class="token comment">//Since JavaScript 1.8.5</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Undefined]</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Null]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-ä»¥ä¸Š1-4ä¸¤ç§æ–¹æ³•çš„ç»“åˆç‰ˆï¼Œå¦‚æœä¸æ˜¯typeofèƒ½åˆ¤æ–­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™ä½¿ç”¨è¿›è¡Œåˆ¤æ–­ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š"><a href="#5-ä»¥ä¸Š1-4ä¸¤ç§æ–¹æ³•çš„ç»“åˆç‰ˆï¼Œå¦‚æœä¸æ˜¯typeofèƒ½åˆ¤æ–­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™ä½¿ç”¨è¿›è¡Œåˆ¤æ–­ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š" class="headerlink" title="5. ä»¥ä¸Š1,4ä¸¤ç§æ–¹æ³•çš„ç»“åˆç‰ˆï¼Œå¦‚æœä¸æ˜¯typeofèƒ½åˆ¤æ–­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™ä½¿ç”¨è¿›è¡Œåˆ¤æ–­ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š"></a>5. ä»¥ä¸Š1,4ä¸¤ç§æ–¹æ³•çš„ç»“åˆç‰ˆï¼Œå¦‚æœä¸æ˜¯<code>typeof</code>èƒ½åˆ¤æ–­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™ä½¿ç”¨è¿›è¡Œåˆ¤æ–­ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * è·å–æ•°æ®ç±»å‹ * @param &#123;any&#125; target * @return &#123;String&#125; */</span><span class="token keyword">const</span> <span class="token function-variable function">getType</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> type <span class="token operator">=</span> <span class="token keyword">typeof</span> target<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">!=</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> type<span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\[object (\S+)\]$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token string">'$1'</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‚è€ƒé“¾æ¥:</p><p>  <a href="https://blog.csdn.net/xiaolinlife/article/details/90518849">æ—¶æ¸…äº‘  åˆ¤æ–­jsæ•°æ®ç±»å‹çš„å››ç§æ–¹æ³•å’ŒåŸç†</a></p><p>  <a href="https://www.cnblogs.com/hahazexia/p/8886829.html">hahazexia åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ³•</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Golangå®‰è£…æ•™ç¨‹ã€Windows/Linuxã€‘</title>
      <link href="/posts/cd3e.html"/>
      <url>/posts/cd3e.html</url>
      
        <content type="html"><![CDATA[<h2 id="Windowsä¸‹å®‰è£…Go"><a href="#Windowsä¸‹å®‰è£…Go" class="headerlink" title="Windowsä¸‹å®‰è£…Go"></a>Windowsä¸‹å®‰è£…Go</h2><h4 id="1-è¿›å…¥å®˜ç½‘ä¸‹è½½ç•Œé¢"><a href="#1-è¿›å…¥å®˜ç½‘ä¸‹è½½ç•Œé¢" class="headerlink" title="1. è¿›å…¥å®˜ç½‘ä¸‹è½½ç•Œé¢"></a>1. è¿›å…¥å®˜ç½‘ä¸‹è½½ç•Œé¢</h4><p><a href="https://golang.org/dl/">https://golang.org/dl/</a></p><h4 id="2-æ‰¾åˆ°å¯¹åº”Windowså¹³å°çš„Goå®‰è£…ç¨‹åº"><a href="#2-æ‰¾åˆ°å¯¹åº”Windowså¹³å°çš„Goå®‰è£…ç¨‹åº" class="headerlink" title="2. æ‰¾åˆ°å¯¹åº”Windowså¹³å°çš„Goå®‰è£…ç¨‹åº"></a>2. æ‰¾åˆ°å¯¹åº”Windowså¹³å°çš„Goå®‰è£…ç¨‹åº</h4><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/dl-windows.png" alt="é€‰æ‹©å®‰è£…ç¨‹åº"></p><h4 id="3-ä¸‹è½½å®Œæˆåï¼Œç‚¹å‡»å®‰è£…"><a href="#3-ä¸‹è½½å®Œæˆåï¼Œç‚¹å‡»å®‰è£…" class="headerlink" title="3. ä¸‹è½½å®Œæˆåï¼Œç‚¹å‡»å®‰è£…"></a>3. ä¸‹è½½å®Œæˆåï¼Œç‚¹å‡»å®‰è£…</h4><blockquote><p>å¯ä»¥é€‰æ‹©å®‰è£…ä½ç½®</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/dl-finish.png" alt="ä¸‹è½½å®Œæˆ"></p><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/install1.png" alt="å¼€å§‹å®‰è£…"></p><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/install2-1.png" alt="æ¥å—æ¡æ¬¾"></p><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/install3.png" alt="é€‰æ‹©å®‰è£…ä½ç½®"></p><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/install4.png" alt="å®‰è£…å®Œæˆ"></p><h4 id="4-éªŒè¯å®‰è£…æˆåŠŸ"><a href="#4-éªŒè¯å®‰è£…æˆåŠŸ" class="headerlink" title="4. éªŒè¯å®‰è£…æˆåŠŸ"></a>4. éªŒè¯å®‰è£…æˆåŠŸ</h4><p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">go version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/vertify.png" alt="éªŒè¯å®‰è£…"></p><blockquote><p>æ³¨æ„å®‰è£…ç¨‹åºç»™ç¯å¢ƒå˜é‡ä¸­æ–°å¢äº†ä¸ª<strong>GOPATH</strong></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/Program/Go/path.png" alt="ç¯å¢ƒå˜é‡â€”GOPATH"></p><h2 id="Linuxä¸‹å®‰è£…Go"><a href="#Linuxä¸‹å®‰è£…Go" class="headerlink" title="Linuxä¸‹å®‰è£…Go"></a>Linuxä¸‹å®‰è£…Go</h2><h3 id="ä¸€ã€é€šè¿‡ç³»ç»Ÿä¸‹è½½æºå®‰è£…Go"><a href="#ä¸€ã€é€šè¿‡ç³»ç»Ÿä¸‹è½½æºå®‰è£…Go" class="headerlink" title="ä¸€ã€é€šè¿‡ç³»ç»Ÿä¸‹è½½æºå®‰è£…Go"></a>ä¸€ã€é€šè¿‡ç³»ç»Ÿä¸‹è½½æºå®‰è£…Go</h3><h4 id="1-Ubuntuã€Debianæˆ–Linux-Mintå®‰è£…Goè¯­è¨€"><a href="#1-Ubuntuã€Debianæˆ–Linux-Mintå®‰è£…Goè¯­è¨€" class="headerlink" title="(1) Ubuntuã€Debianæˆ–Linux Mintå®‰è£…Goè¯­è¨€"></a>(1) Ubuntuã€Debianæˆ–Linux Mintå®‰è£…Goè¯­è¨€</h4><ol><li>åŸºäº Debiançš„ Linux å‘è¡Œç‰ˆæœ¬éƒ½å¯ä»¥ä½¿ç”¨ <code>apt-get</code> å‘½ä»¤æ¥è¿›è¡Œå®‰è£…ï¼š</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> golang<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>è¦æŸ¥çœ‹å½“å‰ç³»ç»Ÿå®‰è£…çš„ Go è¯­è¨€ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">go version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>ç”±äº Go ä»£ç å¿…éœ€ä¿å­˜åœ¨ workspace(å·¥ä½œåŒº)ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…éœ€åœ¨ <strong>Home</strong> ç›®å½•(ä¾‹å¦‚ ~/workspace)åˆ›å»ºä¸€ä¸ªworkspace ç›®å½•å¹¶å®šä¹‰ <strong>GOPATH</strong> ç¯å¢ƒå˜é‡æŒ‡å‘è¯¥ç›®å½•ï¼Œè¿™ä¸ªç›®å½•å°†è¢« Go å·¥å…·ç”¨äºä¿å­˜å’Œç¼–è¾‘äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> ~/workspace<span class="token builtin class-name">echo</span> <span class="token string">'export GOPATH="$HOME/workspace"'</span> <span class="token operator">>></span> ~/.bashrc<span class="token builtin class-name">source</span> ~/.bashrc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ ¹æ®ä¸åŒçš„éœ€è¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ apt-get å®‰è£… Go toolsï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-cache</span> search golang<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="2-CentOSã€Fedoraæˆ–RHELå®‰è£…Goè¯­è¨€"><a href="#2-CentOSã€Fedoraæˆ–RHELå®‰è£…Goè¯­è¨€" class="headerlink" title="(2) CentOSã€Fedoraæˆ–RHELå®‰è£…Goè¯­è¨€"></a>(2) CentOSã€Fedoraæˆ–RHELå®‰è£…Goè¯­è¨€</h4><ol><li>åŸºäº Red Hat çš„ Linux å‘è¡Œç‰ˆæœ¬éƒ½å¯ä»¥ä½¿ç”¨ yum å‘½ä»¤æ¥è¿›è¡Œå®‰è£…ï¼š</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> golang<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¦æŸ¥çœ‹å½“å‰ç³»ç»Ÿå®‰è£…çš„ Go è¯­è¨€ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">go version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>æ¥ä¸‹æ¥è¿˜æ˜¯åœ¨ Home ç›®å½•(ä¾‹å¦‚ ~/workspace)åˆ›å»ºä¸€ä¸ª workspace ç›®å½•å¹¶å®šä¹‰ GOPATH ç¯å¢ƒå˜é‡æŒ‡å‘è¯¥ç›®å½•ï¼Œè¿™ä¸ªç›®å½•å°†è¢« Go å·¥å…·ç”¨äºä¿å­˜å’Œç¼–è¾‘äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> ~/workspace<span class="token builtin class-name">echo</span> <span class="token string">'export GOPATH="$HOME/workspace"'</span> <span class="token operator">>></span> ~/.bashrc<span class="token builtin class-name">source</span> ~/.bashrc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="3"><li>æ ¹æ®ä¸åŒçš„éœ€è¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ yum å®‰è£… Go toolsï¼š</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum search golang<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="äºŒã€æ‰‹åŠ¨å®‰è£…"><a href="#äºŒã€æ‰‹åŠ¨å®‰è£…" class="headerlink" title="äºŒã€æ‰‹åŠ¨å®‰è£…"></a>äºŒã€æ‰‹åŠ¨å®‰è£…</h3><ol><li><p>ä¸‹è½½å®‰è£…åŒ…</p><blockquote><p>åœ¨<a href="https://golang.org/dl/">https://golang.org/dl/</a> æŸ¥æ‰¾å¯¹åº”Linuxçš„ä¸‹è½½åŒ…åœ°å€</p></blockquote><p>64-bit Linux</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://golang.org/dl/go1.16.6.linux-amd64.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>32-bit Linux</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://golang.org/dl/go1.16.6.linux-386.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><ol start="2"><li><p>æå–å¹¶è§£å‹å®‰è£…åŒ…åˆ° /usr/local/go</p><blockquote><p><strong>é‡ç‚¹æ³¨æ„ï¼š</strong>è¯¥æ­¥éª¤å°†åœ¨ä¼šåˆ é™¤ä»¥å‰åœ¨ /usr/local/goä¸‹çš„å†…å®¹ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</p></blockquote><p>åœ¨rootç”¨æˆ·ä¸‹æˆ–è€…é€šè¿‡<code>sudo</code>å‘½ä»¤æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rm</span> -rf /usr/local/go <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">tar</span> -C /usr/local -xzf go1.16.6.linux-amd64.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><ol start="3"><li><p>å°†ä¸‹åˆ—ç¯å¢ƒå˜é‡æ·»åŠ åˆ°çš„ <strong>/etc/profile</strong> é…ç½®æ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:/usr/local/go/bin<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ³¨æ„æ·»åŠ å®Œä¹‹åï¼Œä½¿ç”¨å‘½ä»¤<code>source $HOME/.profile</code>æ¿€æ´»æ–°çš„ç¯å¢ƒå˜é‡</p></blockquote></li></ol><ol start="4"><li><p>å‘½ä»¤è¡ŒéªŒè¯Goå®‰è£…æˆåŠŸï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">go version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹è¯­è¨€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
            <tag> åç«¯ </tag>
            
            <tag> å®‰è£…æ•™ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LinuxÂ·åˆ›å»ºæœåŠ¡å™¨å®‰å…¨ç™»å½•è´¦æˆ·</title>
      <link href="/posts/6dec.html"/>
      <url>/posts/6dec.html</url>
      
        <content type="html"><![CDATA[<h2 id="æœ¬åœ°åˆ›å»ºå…¬é’¥"><a href="#æœ¬åœ°åˆ›å»ºå…¬é’¥" class="headerlink" title="æœ¬åœ°åˆ›å»ºå…¬é’¥"></a>æœ¬åœ°åˆ›å»ºå…¬é’¥</h2><p>é¦–å…ˆåœ¨æœ¬åœ°æœºå™¨ç”Ÿæˆè‡ªå·±çš„sshç™»å½•æ‰€éœ€è¦çš„å…¬é’¥ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh-keygen -t rsa -b <span class="token number">4096</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åï¼Œæ£€æŸ¥.ssh/ç›®å½•ä¸‹æ˜¯å¦å·²ç»æœ‰äº†id_rsa.pubæ–‡ä»¶ã€‚</p><p><code>cat .ssh/id_rsa.pub</code></p><h2 id="æœåŠ¡åˆ›å»ºæ–°ç”¨æˆ·"><a href="#æœåŠ¡åˆ›å»ºæ–°ç”¨æˆ·" class="headerlink" title="æœåŠ¡åˆ›å»ºæ–°ç”¨æˆ·"></a>æœåŠ¡åˆ›å»ºæ–°ç”¨æˆ·</h2><ol><li><p>åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·ï¼Œæ¯”å¦‚ï¼šnewuserï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š<br><code>adduser newuser</code><br>ç„¶åï¼Œè®¾ç½®è¯¥ç”¨æˆ·çš„å¯†ç ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š<br><code>passwd newuser</code></p></li><li><p>(å¯é€‰)æ¥ç€ï¼Œå°†è¯¥ç”¨æˆ·åŠ å…¥åˆ°/etc/sudoersæ–‡ä»¶ä¸­ã€‚<br>åœ¨sudoersæ–‡ä»¶ä¸­æ‰¾åˆ°</p></li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> ALL <span class="token comment"># åé¢æ¢è¡Œå¹¶å°†å½“å‰ç”¨æˆ·æ·»åŠ è¿›å»</span>newuer <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> ALL<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p>æ–°å¢<code>newuser</code>çš„è¿™ä¸€è¡Œå°±æ˜¯å°†æˆ‘ä»¬æ–°å»ºçš„ç”¨æˆ·<code>newuser</code>èµ‹äºˆ sudo è¶…çº§ç”¨æˆ·æƒé™</p><p>å¦‚æœå¸Œæœ›è¿™ä¸ªç™»å½•ç”¨æˆ·åªæ˜¯ä½œä¸ºä¸€ä¸ªç™»å½•åˆ°è¿œç«¯æœåŠ¡å™¨çš„ä¸€ä¸ªè·³æ¿ï¼Œè€Œä¸ç»™äºˆå…¶æ›´å¤šæƒé™çš„è¯ï¼Œå¯ä»¥ä¸è¿›è¡Œè¿™æ­¥â€œæ·»åŠ åˆ°sudoersâ€çš„æ“ä½œ</p></blockquote><h2 id="æ‹·è´å…¬é’¥"><a href="#æ‹·è´å…¬é’¥" class="headerlink" title="æ‹·è´å…¬é’¥"></a>æ‹·è´å…¬é’¥</h2><ol><li><p>åœ¨æœ¬åœ°æœºå™¨ä¸Šå°†å…¬é’¥æ‹·è´åˆ°è¿œç«¯æœåŠ¡å™¨ä¸Šï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š<br><code>ssh-copy-id newuser@&lt;&lt;youur server ip&gt;&gt;</code></p><blockquote><p>è¿™é‡Œçš„<code>newuser</code>æ˜¯ä¹‹å‰æ“ä½œæ­¥éª¤ä¸­åœ¨è¿œç«¯æœåŠ¡å™¨æ–°å»ºçš„ç”¨æˆ·ï¼Œ å¹¶å¯èƒ½éœ€è¦è¾“å…¥å…¶å¯†ç è¿›è¡Œè¿æ¥ç¡®è®¤</p></blockquote></li></ol><ol start="2"><li><p>ä¿®æ”¹æœåŠ¡å™¨sshdçš„é…ç½®æ–‡ä»¶<br>å°†æœ€åä¸‰è¡Œä¸­çš„ä¸¤è¡Œæ”¹ä¸ºå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">PasswordAuthentication no <span class="token comment"># ç¦æ­¢é€šè¿‡å¯†ç ç™»å½•</span>PermitRootLogin no <span class="token comment"># ç¦æ­¢ç›´æ¥ä½¿ç”¨rootç”¨æˆ·ç™»å½•</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>é‡å¯sshdæœåŠ¡ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š<br><code>systemctl restart sshd</code></p></li><li><p>æ£€æŸ¥ä¸‹/root/.ssh/ç›®å½•ä¸‹çš„authroized_keysæ˜¯å¦æœ‰ä¸çŸ¥åçš„å…¬é’¥ï¼Œå¦‚æœæœ‰çš„è¯è®°å¾—åˆ é™¤äº†ã€‚</p><blockquote><p>æ³¨æ„ä¸è¦åˆ é™¤äº†ä»¥ä¸Šæ­¥éª¤æ·»åŠ çš„å…¬é’¥ã€‚</p></blockquote></li></ol><h2 id="æµ‹è¯•è¿æ¥"><a href="#æµ‹è¯•è¿æ¥" class="headerlink" title="æµ‹è¯•è¿æ¥"></a>æµ‹è¯•è¿æ¥</h2><p>  åœ¨æ‹·è´å®Œå…¬é’¥æ—¶å…¶å®å‘½ä»¤è¡Œå°±å·²ç»ä¼šæç¤ºå¯ä»¥è¿›è¡Œ ssh è¿æ¥äº†ï¼Œè€Œä¸éœ€è¦è¾“å…¥å¯†ç ï¼›</p>  <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> newuser@<span class="token operator">&lt;&lt;</span>youur server ip<span class="token operator">>></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰å…¨ </tag>
            
            <tag> linux </tag>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitè¶£å‘³å­¦ä¹ </title>
      <link href="/posts/4c14.html"/>
      <url>/posts/4c14.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä»£ç ç®¡ç†"><a href="#ä»£ç ç®¡ç†" class="headerlink" title="ä»£ç ç®¡ç†"></a>ä»£ç ç®¡ç†</h2><blockquote><p>ä»£ç ç®¡ç†çš„é‡è¦æ€§ä¸è¨€è€Œå–»ï¼Œæ—¢å¯ä»¥é™ä½ç¾éš¾æ¢å¤ä»£ä»·ï¼Œä¹Ÿåˆ©äºå›¢é˜Ÿåä½œå¼€å‘ï¼Œè¿˜åˆ©äºé‡å¤§æ›´æ–°çš„åˆ†æ”¯å¼€å‘ã€‚</p></blockquote><p>æœ‰æ—¶å€™ä¸å°å¿ƒå†™é”™æˆ–ä¸¢å¤±é¡¹ç›®ä»£ç ï¼Œ é€šè¿‡ä»£ç ç®¡ç†å·¥å…·æ¥å›æº¯é¡¹ç›®ä»£ç å¾€å¾€å¯ä»¥æˆä¸ºæˆ‘ä»¬çš„æ•‘å‘½ç¨»è‰ã€‚</p><p>è°ˆåˆ°ä»£ç ç®¡ç†ï¼Œ å¤§å®¶è„‘æµ·ä¸­ä¸€å®šä¼šæµ®ç°Gitã€SVNç­‰ã€‚</p><p>ä¸è¿‡ç›¸å¯¹äºSVNï¼Œ å…·æœ‰åˆ†å¸ƒå¼ç‰¹æ€§ï¼Œæ›´å¿«é€Ÿçš„Gitæ˜¯æ›´å—åˆ°ä¸ªäººå–œçˆ±çš„ã€‚ä¸‹é¢æ¥åˆ†äº«ä¸ªå¯ä»¥é€šè¿‡æ²™ç›’è¶£å‘³å­¦ä¹ Gitå‘½ä»¤çš„ç½‘ç«™ã€‚</p><h2 id="Gitå­¦ä¹ "><a href="#Gitå­¦ä¹ " class="headerlink" title="Gitå­¦ä¹ "></a>Gitå­¦ä¹ </h2><p><a href="https://learngitbranching.js.org/">LearnGitBranching</a>æ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„Gitå­¦ä¹ ç½‘ç«™ï¼Œå®ƒä¸ä»…æœ‰ç”ŸåŠ¨æœ‰è¶£çš„å¯è§†åŒ–åˆ†æ”¯è§†å›¾æ¥å¸®åŠ©å­¦ä¹ è€…ç†è§£Gitå·¥ä½œæµç¨‹ï¼Œè¿˜æœ‰å¾ªåºæ¸è¿›çš„è¶£å‘³é—¯å…³ã€‚<a href="https://github.com/pcottle/learnGitBranching">Githubåœ°å€</a></p><h3 id="å…³å¡ç¤ºä¾‹"><a href="#å…³å¡ç¤ºä¾‹" class="headerlink" title="å…³å¡ç¤ºä¾‹"></a>å…³å¡ç¤ºä¾‹</h3><p>LearnGitBranchingå…·æœ‰éå¸¸å½¢è±¡çš„å¯è§†åŒ–è§†å›¾ï¼Œè®©æˆ‘ä»¬å¯¹gitåˆ†æ”¯çš„æ“ä½œåŠæ•´ä¸ªGitå·¥ä½œæ ‘çš„å˜åŒ–ä¸€ç›®äº†ç„¶ã€‚<br><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/2021/05/06/gitlearn2.png" alt="å…³å¡ç¤ºä¾‹"></p><h3 id="å…³å¡"><a href="#å…³å¡" class="headerlink" title="å…³å¡"></a>å…³å¡</h3><p>å…³å¡è®¾è®¡å¾—éå¸¸åˆç†ï¼Œä»<code>git commit</code>æäº¤å¼€å§‹å­¦ä¹ ï¼Œåé¢æ˜¯<code>git branch</code>åˆ›å»ºåˆ†æ”¯ï¼Œ<code>git checkout &lt;branch_name&gt;</code>åˆ‡æ¢åˆ†æ”¯ç­‰ï¼Œæœ€åè¿˜æœ‰å…³äºè¿œç¨‹ä»“åº“çš„å…³å¡ã€‚<br><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main/img/2021/05/06/gitlearn3.png" alt="å…³å¡"></p><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><blockquote><p>é‚£ä¹ˆåœ¨LearnGitBranchingï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥æŠŠGitå­¦å¾—å¼€å¿ƒï¼Œè¿˜å¯ä»¥å­¦å¾—æ˜ç™½äº† :)</p></blockquote><p>ç›¸å…³é“¾æ¥:<br><a href="https://learngitbranching.js.org/">LearnGitBranching</a><br><a href="https://github.com/pcottle/learnGitBranching">LearnGitBranching Githubåœ°å€</a></p>]]></content>
      
      
      <categories>
          
          <category> é¡¹ç›®å¼€å‘å·¥ç¨‹åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> ç‰ˆæœ¬ç®¡ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git æŠ¥é”™error:bad signature 0x00000000</title>
      <link href="/posts/bc44.html"/>
      <url>/posts/bc44.html</url>
      
        <content type="html"><![CDATA[<h3 id="æƒ…æ™¯æè¿°"><a href="#æƒ…æ™¯æè¿°" class="headerlink" title="æƒ…æ™¯æè¿°"></a>æƒ…æ™¯æè¿°</h3><p>å¼ºåˆ¶å…³æœºå¹¶é‡å¯åï¼Œä½¿ç”¨gitæäº¤ä»£ç æ—¶ï¼Œgitç›´æ¥æŠ¥é”™å¦‚ä¸‹ï¼Œç‰¹æ­¤è®°å½•ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">error: bad signature 0x00000000fatal: index <span class="token function">file</span> corrupt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main//img/2021/05/16/115212.png" alt="git-error"></p><h3 id="åŸå› åˆ†æï¼š"><a href="#åŸå› åˆ†æï¼š" class="headerlink" title="åŸå› åˆ†æï¼š"></a>åŸå› åˆ†æï¼š</h3><p><code>index file</code>åœ¨ git é‡Œé¢ä¸€èˆ¬æŒ‡çš„æ˜¯ <code>.git/index</code> è¿™ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä¿å­˜çš„æ˜¯**æš‚å­˜åŒºçš„ä¿¡æ¯(ç´¢å¼•ä¿¡æ¯)**ã€‚</p><p><strong>æŠ¥é”™è¯´æ˜è¿™ä¸ªæ–‡ä»¶å·²ç»æŸåäº†</strong>ã€‚</p><h3 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h3><p><strong>ç›´æ¥åˆ é™¤è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åé‡å¯gitï¼Œå¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</strong></p><ol><li><p>åˆ é™¤ .git/index æ–‡ä»¶ (ç´¢å¼•æ–‡ä»¶)ï¼Œ Linuxç¯å¢ƒä»£ç å¦‚ä¸‹ï¼ˆWindowsç¯å¢ƒç›´æ¥åˆ é™¤è¯¥æ–‡ä»¶ï¼‰</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rm</span> -f .git/index <span class="token comment"># å¦‚æœä¸ºWindowsç¯å¢ƒä¸‹, ç›´æ¥åˆ é™¤.git/indexè¿™ä¸ªæ–‡ä»¶å³å¯</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>é‡å¯git</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> reset <span class="token comment"># æˆ–è€…ä½¿ç”¨ git read-tree </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><ul><li><p>å¼ºåˆ¶å…³æœºå¯¼è‡´gitç´¢å¼•æ–‡ä»¶æŸåï¼Œ æŠ¥é”™åå¯ä»¥å°†ç´¢å¼•æ–‡ä»¶åˆ é™¤å¹¶é‡å¯gitã€‚</p></li><li><p>æ³¨æ„åœ¨ä¿å­˜ä»£ç ï¼Œé€€å‡ºç¼–è¾‘åå†å…³æœºï¼Œé˜²æ­¢ç ´åå·¥ä½œåŒºç´¢å¼•æ–‡ä»¶ã€‚</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜æ±‡æ€» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> ç‰ˆæœ¬ç®¡ç† </tag>
            
            <tag> æŠ¥é”™è§£å†³ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSæ—¥æœŸæ ¼å¼åŒ–</title>
      <link href="/posts/5f64.html"/>
      <url>/posts/5f64.html</url>
      
        <content type="html"><![CDATA[<h2 id="JS-æ—¥æœŸæ—¶é—´æ ¼å¼åŒ–"><a href="#JS-æ—¥æœŸæ—¶é—´æ ¼å¼åŒ–" class="headerlink" title="JS æ—¥æœŸæ—¶é—´æ ¼å¼åŒ–"></a>JS æ—¥æœŸæ—¶é—´æ ¼å¼åŒ–</h2><p>  åœ¨å‰ç«¯é¡¹ç›®ä¸­ï¼Œ æˆ‘ä»¬å¾€å¾€éœ€è¦å¯¹æ–°å»ºçš„æ—¶é—´å¯¹è±¡(å¦‚ <code>new Date()</code> )è¿›è¡Œæ ¼å¼åŒ–ï¼Œ å°†å…¶è½¬æ¢ä¸ºå¯¹ç”¨æˆ·å‹å¥½çš„æ ¼å¼ã€‚</p><p>  æ¥ä¸‹æ¥ç®€å•åˆ—å‡ ä¸ªjsæ—¶é—´æ ¼å¼åŒ–çš„æ–¹æ³•å§, å¦‚æœä½ æœ‰æ›´å¤šæ›´å¥½çš„æ–¹æ³•ä¹Ÿå¯ä»¥åˆ†äº«ä¸€ä¸‹å“Ÿ (ï¼¾ï¼µï¼¾)ãƒ~</p><h2 id="ä¸€ã€JSå†…ç½®API"><a href="#ä¸€ã€JSå†…ç½®API" class="headerlink" title="ä¸€ã€JSå†…ç½®API"></a>ä¸€ã€JSå†…ç½®API</h2><p>  é™¤äº†<code>new Date().getDate()</code>ç­‰æœ€åŸºæœ¬çš„APIï¼Œå…¶å®è¿˜æœ‰å…¶ä»–å¸®åŠ©æˆ‘ä»¬æˆ‘ä»¬æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´çš„APIã€‚<br>  ä¾‹å¦‚JSå†…ç½® <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat">Intl.DateTimeFormat</a>ç­‰APIï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿæ–¹ä¾¿åœ°æ ¼å¼åŒ–æ—¶é—´æ ¼å¼ï¼Œè€Œä¸”<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat">Intl.DateTimeFormat</a>è¿™ä¸ªAPIè¿˜å¯ä»¥ç”¨äºi18nå›½é™…åŒ–ã€‚</p>  <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Intl<span class="token punctuation">.</span>DateTimeFormat</span><span class="token punctuation">(</span><span class="token string">'en-US'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "05/04/2021"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Intl<span class="token punctuation">.</span>DateTimeFormat</span><span class="token punctuation">(</span><span class="token string">'zh'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "2021/05/04"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Intl<span class="token punctuation">.</span>DateTimeFormat</span><span class="token punctuation">(</span><span class="token string">'zh-GB'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">dateStyle</span><span class="token operator">:</span> <span class="token string">'full'</span><span class="token punctuation">,</span> <span class="token literal-property property">timeStyle</span><span class="token operator">:</span> <span class="token string">'long'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// "2021å¹´5æœˆ4æ—¥æ˜ŸæœŸæ—¥GMT+8 ä¸Šåˆ11:23:16"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äºŒã€è‡ªå®šä¹‰å‡½æ•°"><a href="#äºŒã€è‡ªå®šä¹‰å‡½æ•°" class="headerlink" title="äºŒã€è‡ªå®šä¹‰å‡½æ•°"></a>äºŒã€è‡ªå®šä¹‰å‡½æ•°</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function-variable function">formatDate</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> str</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      <span class="token literal-property property">yyyy</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">yy</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">""</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token constant">M</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>      <span class="token constant">MM</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">d</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">dd</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">H</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">HH</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">h</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">12</span><span class="token punctuation">,</span>      <span class="token literal-property property">hh</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">m</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">mm</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">s</span><span class="token operator">:</span> t<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">ss</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> t<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token literal-property property">w</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'æ—¥'</span><span class="token punctuation">,</span> <span class="token string">'ä¸€'</span><span class="token punctuation">,</span> <span class="token string">'äºŒ'</span><span class="token punctuation">,</span> <span class="token string">'ä¸‰'</span><span class="token punctuation">,</span> <span class="token string">'å››'</span><span class="token punctuation">,</span> <span class="token string">'äº”'</span><span class="token punctuation">,</span> <span class="token string">'å…­'</span><span class="token punctuation">]</span><span class="token punctuation">[</span>t<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">([a-z]+)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">ig</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token keyword">return</span> obj<span class="token punctuation">[</span>$1<span class="token punctuation">]</span>      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'yyyy-MM-dd HH:mm:ss'</span><span class="token punctuation">)</span> <span class="token comment">// "2021-05-04 19:10:57"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ä¸‰ã€ä¸ºDateåŸå‹æ·»åŠ formatæ–¹æ³•"><a href="#ä¸‰ã€ä¸ºDateåŸå‹æ·»åŠ formatæ–¹æ³•" class="headerlink" title="ä¸‰ã€ä¸ºDateåŸå‹æ·»åŠ formatæ–¹æ³•"></a>ä¸‰ã€ä¸ºDateåŸå‹æ·»åŠ formatæ–¹æ³•</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">Date</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">format</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fmt</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string-property property">"M+"</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>                 <span class="token comment">//æœˆä»½</span>    <span class="token string-property property">"d+"</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token comment">//æ—¥</span>    <span class="token string-property property">"h+"</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                   <span class="token comment">//å°æ—¶</span>    <span class="token string-property property">"m+"</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                 <span class="token comment">//åˆ†</span>    <span class="token string-property property">"s+"</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                 <span class="token comment">//ç§’</span>    <span class="token string-property property">"q+"</span> <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//å­£åº¦</span>    <span class="token string-property property">"S"</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>             <span class="token comment">//æ¯«ç§’</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(y+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>fmt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    fmt<span class="token operator">=</span>fmt<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">-</span> RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> o<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">"("</span><span class="token operator">+</span> k <span class="token operator">+</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>fmt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    fmt <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">,</span> <span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>o<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"00"</span><span class="token operator">+</span> o<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token operator">+</span> o<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">return</span> fmt<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä½¿ç”¨æ–¹å¼-1"><a href="#ä½¿ç”¨æ–¹å¼-1" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd hh:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="å››ã€ç¬¬ä¸‰æ–¹jsåº“"><a href="#å››ã€ç¬¬ä¸‰æ–¹jsåº“" class="headerlink" title="å››ã€ç¬¬ä¸‰æ–¹jsåº“"></a>å››ã€ç¬¬ä¸‰æ–¹jsåº“</h2><blockquote><p>æ²¡æœ‰ä»€ä¹ˆä¸æ˜¯å¼•å…¥ä¸€ä¸ªjsåº“ä¸èƒ½è§£å†³çš„ï¼Œå¦‚æœæœ‰ï¼Œé‚£å°±å†å¤šæ¥å‡ ä¸ª ğŸ¤ª</p></blockquote><p>  å¯ä»¥ä½¿ç”¨ <a href="http://momentjs.cn/">moment</a> ã€<a href="https://github.com/iamkun/dayjs/blob/HEAD/docs/zh-cn/README.zh-CN.md">dayjs</a> ç­‰ç¬¬ä¸‰æ–¹jsåº“ï¼Œå…·ä½“å¯ä»¥çœ‹ç›¸å…³æ–‡æ¡£ã€‚emmmmï¼ŒçœŸé¦™</p><h2 id="i18nå›½é™…åŒ–"><a href="#i18nå›½é™…åŒ–" class="headerlink" title="i18nå›½é™…åŒ–"></a>i18nå›½é™…åŒ–</h2><p>  ä½†å¦‚æœè¿˜æ¶‰åŠåˆ°å¤šè¯­è¨€å›½é™…åŒ–<code>i18n</code>ï¼Œé™¤äº† ä½¿ç”¨JSå†…ç½®API <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat">Intl.DateTimeFormat</a> ä¸ªäººè¿˜æ˜¯è¿˜æ˜¯æ¨èä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚ <a href="http://momentjs.cn/">moment</a> ã€<a href="https://github.com/iamkun/dayjs/blob/HEAD/docs/zh-cn/README.zh-CN.md">dayjs</a> ç­‰ï¼Œæ–¹ä¾¿çœäº‹ ğŸ˜ƒ</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nestjs å®‰è£…åŠä½¿ç”¨</title>
      <link href="/posts/2347.html"/>
      <url>/posts/2347.html</url>
      
        <content type="html"><![CDATA[<h1 id="Nestjs-å®‰è£…åŠä½¿ç”¨"><a href="#Nestjs-å®‰è£…åŠä½¿ç”¨" class="headerlink" title="Nestjs å®‰è£…åŠä½¿ç”¨"></a>Nestjs å®‰è£…åŠä½¿ç”¨</h1><h2 id="Nestjs-ç®€ä»‹"><a href="#Nestjs-ç®€ä»‹" class="headerlink" title="Nestjs ç®€ä»‹"></a>Nestjs ç®€ä»‹</h2><blockquote><p><a href="https://github.com/nestjs/nest"><strong>Nest</strong></a> (NestJS)æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºé«˜æ•ˆã€å¯æ‰©å±•çš„<a href="https://nodejs.org/">Node.js</a>æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºçš„å¼€å‘æ¡†æ¶ã€‚å®ƒåˆ©ç”¨ JavaScript çš„æ¸è¿›å¢å¼ºçš„èƒ½åŠ›ï¼Œä½¿ç”¨å¹¶å®Œå…¨æ”¯æŒ <a href="http://www.typescriptlang.org/">TypeScript</a>(ä»ç„¶å…è®¸å¼€å‘è€…ä½¿ç”¨çº¯ JavaScript è¿›è¡Œå¼€å‘)ï¼Œå¹¶ç»“åˆäº†**OOP (é¢å‘å¯¹è±¡ç¼–ç¨‹)<strong>ã€</strong>FP (å‡½æ•°å¼ç¼–ç¨‹)<strong>å’Œ</strong>FRP (å‡½æ•°å“åº”å¼ç¼–ç¨‹)**ã€‚</p></blockquote><h2 id="å®‰è£…æˆ–ç›´æ¥æ„å»ºé¡¹ç›®"><a href="#å®‰è£…æˆ–ç›´æ¥æ„å»ºé¡¹ç›®" class="headerlink" title="å®‰è£…æˆ–ç›´æ¥æ„å»ºé¡¹ç›®"></a>å®‰è£…æˆ–ç›´æ¥æ„å»ºé¡¹ç›®</h2><p>   è¦æ„å»ºä¸€ä¸ªNestJsé¡¹ç›®ï¼Œæ–¹å¼æœ‰å¦‚ä¸‰ç§</p><h3 id="æ–¹å¼â‘ -ä½¿ç”¨Nest-CLI-æ„å»ºé¡¹ç›®-å…ˆå…¨å±€å®‰è£…-nest-cli"><a href="#æ–¹å¼â‘ -ä½¿ç”¨Nest-CLI-æ„å»ºé¡¹ç›®-å…ˆå…¨å±€å®‰è£…-nest-cli" class="headerlink" title="æ–¹å¼â‘ : ä½¿ç”¨Nest CLI æ„å»ºé¡¹ç›® (å…ˆå…¨å±€å®‰è£…@nest/cli)"></a>æ–¹å¼â‘ : ä½¿ç”¨Nest CLI æ„å»ºé¡¹ç›® (å…ˆå…¨å±€å®‰è£…@nest/cli)</h3><blockquote><p>è‹¥è¦ä½¿ç”¨ Nest CLI æ„å»ºé¡¹ç›®ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚è¿™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ç›®å½•ï¼Œå¹¶ä½¿ç”¨æ ¸å¿ƒçš„ Nest æ–‡ä»¶å’Œæ”¯æ’‘æ¨¡å—å¡«å……è¯¥ç›®å½•ï¼Œä»è€Œä¸ºé¡¹ç›®åˆ›å»ºä¸€ä¸ªä¼ ç»Ÿçš„åŸºæœ¬ç»“æ„ã€‚å»ºè®®åˆå­¦è€…ä½¿ç”¨ Nest CLI åˆ›å»ºæ–°é¡¹ç›®ã€‚</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">npm</span> i -g @nestjs/cli$ nest new project-name<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="æ–¹å¼â‘¡-ä½¿ç”¨-Git-ç­‰ç‰ˆæœ¬æ§åˆ¶å·¥å…·-å…‹éš†NestJsé¡¹ç›®çš„-starter-é¡¹ç›®-å¯åŠ¨é¡¹ç›®-ä¾‹å­å¦‚ä¸‹"><a href="#æ–¹å¼â‘¡-ä½¿ç”¨-Git-ç­‰ç‰ˆæœ¬æ§åˆ¶å·¥å…·-å…‹éš†NestJsé¡¹ç›®çš„-starter-é¡¹ç›®-å¯åŠ¨é¡¹ç›®-ä¾‹å­å¦‚ä¸‹" class="headerlink" title="æ–¹å¼â‘¡: ä½¿ç”¨ Git ç­‰ç‰ˆæœ¬æ§åˆ¶å·¥å…· å…‹éš†NestJsé¡¹ç›®çš„ starter é¡¹ç›® (å¯åŠ¨é¡¹ç›®), ä¾‹å­å¦‚ä¸‹"></a>æ–¹å¼â‘¡: ä½¿ç”¨ <a href="https://git-scm.com/">Git</a> ç­‰ç‰ˆæœ¬æ§åˆ¶å·¥å…· å…‹éš†NestJsé¡¹ç›®çš„ starter é¡¹ç›® (å¯åŠ¨é¡¹ç›®), ä¾‹å­å¦‚ä¸‹</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">git</span> clone https://github.com/nestjs/typescript-starter.git project$ <span class="token builtin class-name">cd</span> project$ <span class="token function">npm</span> <span class="token function">install</span>$ <span class="token function">npm</span> run start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ps: è‹¥è¦å®‰è£…åŸºäº JavaScript çš„ starter projectï¼Œè¯·åœ¨æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤æ—¶ä½¿ç”¨ <a href="https://github.com/nestjs/javascript-starter.git">https://github.com/nestjs/javascript-starter.git</a></p></blockquote><h3 id="æ–¹å¼â‘¢-ä½¿ç”¨npm-ç­‰åŒ…ç®¡ç†å™¨-ä»é›¶æ„å»º"><a href="#æ–¹å¼â‘¢-ä½¿ç”¨npm-ç­‰åŒ…ç®¡ç†å™¨-ä»é›¶æ„å»º" class="headerlink" title="æ–¹å¼â‘¢: ä½¿ç”¨npm ç­‰åŒ…ç®¡ç†å™¨ ä»é›¶æ„å»º"></a>æ–¹å¼â‘¢: ä½¿ç”¨npm ç­‰åŒ…ç®¡ç†å™¨ <strong>ä»é›¶æ„å»º</strong></h3><blockquote><p>ä½ è¿˜å¯ä»¥é€šè¿‡ <a href="https://www.npmjs.com/">npm</a> ç­‰åŒ…ç®¡ç†å™¨æ¥å®‰è£…çš„æ ¸å¿ƒå’Œæ”¯æ’‘æ–‡ä»¶ï¼Œä»å¤´å¼€å§‹æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚<strong>å½“ç„¶ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å°†è‡ªå·±æ‹…è´Ÿèµ·åˆ›å»ºé¡¹ç›®æ ·æ¿æ–‡ä»¶çš„å·¥ä½œã€‚</strong></p></blockquote><h2 id="æ¨è"><a href="#æ¨è" class="headerlink" title="æ¨è"></a>æ¨è</h2><p>  è¿™é‡Œæ¨èåˆå­¦è€…ä½¿ç”¨ç¬¬ä¸€ç§ï¼Œç†Ÿç»ƒçš„è¯å¯ä»¥ä½¿ç”¨ç¬¬äºŒç§ã€‚è‡³äºç¬¬ä¸‰ç§ï¼Œ å¦‚æœä½ æƒ³æ·±å…¥äº†è§£æ•´ä¸ªNestJsé¡¹ç›®æ„å»ºåŠå¯åŠ¨æµç¨‹çš„è¯ï¼Œ å¯ä»¥é‡‡ç”¨çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> nest </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nodeã€npmåŠvueçš„ä¸‹è½½ã€å®‰è£…åŠé…ç½®</title>
      <link href="/posts/6377.html"/>
      <url>/posts/6377.html</url>
      
        <content type="html"><![CDATA[<h3 id="nodejså®˜ç½‘åŠå®‰è£…åŒ…é“¾æ¥"><a href="#nodejså®˜ç½‘åŠå®‰è£…åŒ…é“¾æ¥" class="headerlink" title="nodejså®˜ç½‘åŠå®‰è£…åŒ…é“¾æ¥"></a>nodejså®˜ç½‘åŠå®‰è£…åŒ…é“¾æ¥</h3><p><a href="https://nodejs.org/en/">Node.jså®˜ç½‘</a>è·å–nodeå®‰è£…ç¨‹åº</p><p><a href="https://nodejs.org/dist/v14.16.0/node-v14.16.0-x64.msi">v14.16.0</a> || <a href="https://nodejs.org/dist/v15.12.0/node-v15.12.0-x64.msi">v15.12.0</a>   ï¼ˆç‚¹å‡»å¯ä»¥ç›´æ¥ä¸‹è½½å®‰è£…åŒ…ï¼‰</p><h3 id="ä¸€ã€ä¸‹è½½Nodejså¹¶å®‰è£…"><a href="#ä¸€ã€ä¸‹è½½Nodejså¹¶å®‰è£…" class="headerlink" title="ä¸€ã€ä¸‹è½½Nodejså¹¶å®‰è£…"></a>ä¸€ã€ä¸‹è½½Nodejså¹¶å®‰è£…</h3><hr><h4 id="1-0-ä¸‹è½½å¹¶æ‰“å¼€å®‰è£…ç¨‹åº"><a href="#1-0-ä¸‹è½½å¹¶æ‰“å¼€å®‰è£…ç¨‹åº" class="headerlink" title="1.0 ä¸‹è½½å¹¶æ‰“å¼€å®‰è£…ç¨‹åº"></a>1.0 ä¸‹è½½å¹¶æ‰“å¼€å®‰è£…ç¨‹åº</h4><p>â€‹    è¿™é‡Œé€‰æ‹©ä¸‹è½½çš„æ˜¯ <span style='color:green;'>v14.16.0</span></p><p><img src="https://img-blog.csdnimg.cn/img_convert/ec3b3a3a251782952b1b059b234e5fd8.png" alt="install"></p><h4 id="1-1-å®‰è£…ç•Œé¢1"><a href="#1-1-å®‰è£…ç•Œé¢1" class="headerlink" title="1.1 å®‰è£…ç•Œé¢1:"></a>1.1 å®‰è£…ç•Œé¢1:</h4><p><img src="https://img-blog.csdnimg.cn/img_convert/5f335f2c546c91d253679f12719c75f2.png" alt="2021/03/29/nodejs-install1"></p><h4 id="1-2-å®‰è£…ç•Œé¢2"><a href="#1-2-å®‰è£…ç•Œé¢2" class="headerlink" title="1.2 å®‰è£…ç•Œé¢2:"></a>1.2 å®‰è£…ç•Œé¢2:</h4><p>â€‹    å‹¾é€‰ <span style='font-family:å¾®è½¯é›…é»‘;background:white;font-size:16;color:blue;'>I accept the terms in the License Agreement</span> , ç‚¹å‡» <span style='color:red;background:white;font-size:14;font-family:red;'>Next</span></p><p><img src="https://img-blog.csdnimg.cn/img_convert/07728cb6dee4b4fb6c1c520f6970fc31.png" alt="2021/03/29/node-install2"></p><h4 id="1-3-å®‰è£…ç•Œé¢3"><a href="#1-3-å®‰è£…ç•Œé¢3" class="headerlink" title="1.3 å®‰è£…ç•Œé¢3:"></a>1.3 å®‰è£…ç•Œé¢3:</h4><p>â€‹    é€‰æ‹©å®‰è£…ä½ç½®ï¼Œç‚¹å‡» <span style='font-family:å¾®è½¯é›…é»‘;background:white;font-size:16;color:red;'>Next</span></p><p><img src="https://img-blog.csdnimg.cn/img_convert/2dfe31f5cb6948a6dfa2985e363e9d69.png" alt="2021/03/29/node-install3"></p><h4 id="1-4-å®‰è£…ç•Œé¢4"><a href="#1-4-å®‰è£…ç•Œé¢4" class="headerlink" title="1.4 å®‰è£…ç•Œé¢4:"></a>1.4 å®‰è£…ç•Œé¢4:</h4><p>â€‹    é€‰æ‹©å®‰è£…å†…å®¹ï¼Œ å¯ä»¥ç›´æ¥ç‚¹å‡» <span style='font-family:å¾®è½¯é›…é»‘;background:white;font-size:16;color:red;'>Next</span></p><p>â€‹    <em>å¦å¤–è¿™æ­¥ä¼š<span style='font-family:å¾®è½¯é›…é»‘;background:white;font-size:16;color:green;'>è‡ªåŠ¨</span>å°† nodejså¯åŠ¨ç¨‹åºä½ç½® åŠ å…¥åˆ° ç³»ç»Ÿç¯å¢ƒå˜é‡Path ä¸­</em></p><p><img src="https://img-blog.csdnimg.cn/img_convert/c00f6b97d2f60b09cff0658b49d3cc3f.png" alt="2021/03/29/node-install4"></p><h4 id="1-5-å®‰è£…ç•Œé¢5ã€6ï¼š"><a href="#1-5-å®‰è£…ç•Œé¢5ã€6ï¼š" class="headerlink" title="1.5 å®‰è£…ç•Œé¢5ã€6ï¼š"></a>1.5 å®‰è£…ç•Œé¢5ã€6ï¼š</h4><p>æ¥ä¸‹æ¥å…¶å®å¯ä»¥ä¸€è·¯ç‚¹å‡»<span style='font-family:å¾®è½¯é›…é»‘;background:white;font-size:16;color:red;'>Next</span>æˆ–è€…<span style='font-family:å¾®è½¯é›…é»‘;background:white;font-size:16;color:red;'>Install</span>å¼€å§‹å®‰è£…äº†</p><p><img src="https://img-blog.csdnimg.cn/img_convert/8888a6a7fff9bb082093bc94613a3178.png" alt="2021/03/29/node-install5"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/f220eeece077b81aed26c411b0f84264.png" alt="2021/03/29/node-install6"></p><h4 id="1-6-Nodejs-å®‰è£…å®Œæˆ"><a href="#1-6-Nodejs-å®‰è£…å®Œæˆ" class="headerlink" title="1.6 Nodejs å®‰è£…å®Œæˆ"></a>1.6 Nodejs å®‰è£…å®Œæˆ</h4><p>â€‹        ç‚¹å‡»<span style='font-family:å¾®è½¯é›…é»‘;background:white;font-size:16;color:red;'>Finish</span>å®Œæˆå®‰è£…ï¼Œä¸‹ä¸€æ­¥æµ‹è¯•æ˜¯å¦æˆåŠŸå®‰è£…</p><p><img src="https://img-blog.csdnimg.cn/img_convert/094d08b2745184f76c0644450fdca1a3.png" alt="2021/03/29/node-install7"></p><h3 id="äºŒã€æµ‹è¯•Nodejsæ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#äºŒã€æµ‹è¯•Nodejsæ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="äºŒã€æµ‹è¯•Nodejsæ˜¯å¦å®‰è£…æˆåŠŸ"></a>äºŒã€æµ‹è¯•Nodejsæ˜¯å¦å®‰è£…æˆåŠŸ</h3><hr><h4 id="2-1-æ‰“å¼€-cmd-ä¸‹é¢ä¸¤ç§æ–¹å¼çš†å¯"><a href="#2-1-æ‰“å¼€-cmd-ä¸‹é¢ä¸¤ç§æ–¹å¼çš†å¯" class="headerlink" title="2.1 æ‰“å¼€ cmd (ä¸‹é¢ä¸¤ç§æ–¹å¼çš†å¯)"></a>2.1 æ‰“å¼€ <span style='font-family:å¾®è½¯é›…é»‘;background:white;font-size:16;color:blue;'>cmd</span> (ä¸‹é¢ä¸¤ç§æ–¹å¼çš†å¯)</h4><h5 id="â‘ Windowsæœç´¢æ¡†è¾“å…¥cmd"><a href="#â‘ Windowsæœç´¢æ¡†è¾“å…¥cmd" class="headerlink" title="â‘ Windowsæœç´¢æ¡†è¾“å…¥cmd"></a>â‘ Windowsæœç´¢æ¡†è¾“å…¥cmd</h5><p><img src="https://img-blog.csdnimg.cn/img_convert/1a238423e5ce74f8b7efde5b0d8ccc2a.png" alt="2021/03/29/cmd"></p><h5 id="â‘¡-âŒ˜-R-è¾“å…¥cmd-è¾“å…¥cmd"><a href="#â‘¡-âŒ˜-R-è¾“å…¥cmd-è¾“å…¥cmd" class="headerlink" title="â‘¡ âŒ˜ + R è¾“å…¥cmd è¾“å…¥cmd"></a>â‘¡ <kbd>âŒ˜</kbd> + <kbd>R</kbd> è¾“å…¥cmd è¾“å…¥cmd</h5><p><img src="https://img-blog.csdnimg.cn/img_convert/ef239de239fb7419a28fa53ad784995e.png" alt="2021/03/29/open-cmd"></p><h4 id="2-2-è¾“å…¥-node-v-åŠ-npm-v-æŸ¥çœ‹-nodeåŠnpmç‰ˆæœ¬"><a href="#2-2-è¾“å…¥-node-v-åŠ-npm-v-æŸ¥çœ‹-nodeåŠnpmç‰ˆæœ¬" class="headerlink" title="2.2 è¾“å…¥ node -v  åŠ  npm -v æŸ¥çœ‹ nodeåŠnpmç‰ˆæœ¬"></a>2.2 è¾“å…¥ <code>node -v</code>  åŠ  <code>npm -v </code>æŸ¥çœ‹ nodeåŠnpmç‰ˆæœ¬</h4><p>â€‹    å¯ä»¥çœ‹åˆ°nodeç‰ˆæœ¬çš„æ­£æ˜¯<span style='font-family:å¾®è½¯é›…é»‘;background:white;font-size:16;color:blue;'>14.16.0</span>ï¼Œè¯´æ˜å®‰è£…æˆåŠŸäº†ã€‚</p><p>â€‹    å¹¶ä¸”è‡ªå¸¦å®‰è£…äº†npmï¼Œä½†æ³¨æ„è¿™ä¸ªnpmå¹¶ä¸æ˜¯æœ€æ–°ç‰ˆçš„npmç‰ˆæœ¬</p><p><img src="https://img-blog.csdnimg.cn/img_convert/4af5e798aa9d37f2dfd3744675f41208.png" alt="2021/03/29/npm-v"></p><h3 id="ä¸‰ã€è®¾ç½®npmæºå¹¶å®‰è£…-vue"><a href="#ä¸‰ã€è®¾ç½®npmæºå¹¶å®‰è£…-vue" class="headerlink" title="ä¸‰ã€è®¾ç½®npmæºå¹¶å®‰è£… vue"></a>ä¸‰ã€è®¾ç½®npmæºå¹¶å®‰è£… vue</h3><hr><h5 id="3-1-æ›´æ¢npmæº"><a href="#3-1-æ›´æ¢npmæº" class="headerlink" title="3.1  æ›´æ¢npmæº"></a>3.1  æ›´æ¢npmæº</h5><p>å› ä¸ºnpmé»˜è®¤ä½¿ç”¨çš„æ˜¯å›½å¤–çš„æºï¼Œä¸ºäº†åŠ å¿«åŒ…çš„ä¸‹è½½é€Ÿåº¦ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸ºæ·˜å®é•œåƒæºï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> <span class="token assign-left variable">registry</span><span class="token operator">=</span>http://registry.npm.taobao.org<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="3-2-æŸ¥çœ‹é•œåƒæºæ›´æ¢æ˜¯å¦ç”Ÿæ•ˆ"><a href="#3-2-æŸ¥çœ‹é•œåƒæºæ›´æ¢æ˜¯å¦ç”Ÿæ•ˆ" class="headerlink" title="3.2  æŸ¥çœ‹é•œåƒæºæ›´æ¢æ˜¯å¦ç”Ÿæ•ˆ"></a>3.2  æŸ¥çœ‹é•œåƒæºæ›´æ¢æ˜¯å¦ç”Ÿæ•ˆ</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config get registry<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/img_convert/724fd3f35b9cfe323d21f4362ff0afbe.png" alt="2021/03/29/taobao-registry"></p><h5 id="3-3-è®¾ç½®å…¨å±€å®‰è£…çš„è·¯å¾„ä½ç½®"><a href="#3-3-è®¾ç½®å…¨å±€å®‰è£…çš„è·¯å¾„ä½ç½®" class="headerlink" title="3.3 è®¾ç½®å…¨å±€å®‰è£…çš„è·¯å¾„ä½ç½®"></a>3.3 è®¾ç½®å…¨å±€å®‰è£…çš„è·¯å¾„ä½ç½®</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// <span class="token number">1</span>. æŸ¥çœ‹å½“å‰npmå…¨å±€å®‰è£…çš„ä½ç½®<span class="token function">npm</span> config get prefix// <span class="token number">2</span>. è®¾ç½®npmå…¨å±€å®‰è£…çš„ä½ç½® <span class="token punctuation">(</span>%Your_Path% æ›¿æ¢ä¸ºä½ æƒ³è¦å®‰è£…çš„è·¯å¾„ä½ç½®, å¦‚ E:<span class="token punctuation">\</span>Soft<span class="token punctuation">\</span>nodejs<span class="token punctuation">)</span><span class="token function">npm</span> config <span class="token builtin class-name">set</span> %Your_Path%// <span class="token number">3</span>. å†æ¬¡æŸ¥çœ‹ä½ npmå…¨å±€å®‰è£…çš„ä½ç½®<span class="token function">npm</span> config get prefix// æŸ¥çœ‹npmæ‰€æœ‰é…ç½®<span class="token function">npm</span> config list -l<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="3-4-å‡çº§npm"><a href="#3-4-å‡çº§npm" class="headerlink" title="3.4 å‡çº§npm"></a>3.4 å‡çº§npm</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token function">npm</span> -g// æŸ¥çœ‹npmç‰ˆæœ¬<span class="token function">npm</span> -v<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="3-5-å®‰è£…vue"><a href="#3-5-å®‰è£…vue" class="headerlink" title="3.5 å®‰è£…vue"></a>3.5 å®‰è£…vue</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> vue vue/cli -g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="3-6-æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#3-6-æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="3.6 æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ"></a>3.6 æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</h5><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å·²å®‰è£…çš„åŒ…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> list -g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°æœ‰<span style='font-family:å¾®è½¯é›…é»‘;font-size:16;color:green;'><a href="mailto:&#x76;&#117;&#101;&#64;&#x32;&#46;&#x36;&#46;&#49;&#x32;">&#x76;&#117;&#101;&#64;&#x32;&#46;&#x36;&#46;&#49;&#x32;</a></span>äº†ï¼Œå…¶å®è¿™å·²ç»å¯ä»¥è·‘å‰ç«¯çš„vueé¡¹ç›®äº† : )</p><p><img src="https://img-blog.csdnimg.cn/img_convert/ec3a039b553ecc9972f49c481325d6fa.png" alt="2021/03/30/npm-list"></p><h5 id="vueç›¸å…³"><a href="#vueç›¸å…³" class="headerlink" title="vueç›¸å…³"></a>vueç›¸å…³</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// å¯åŠ¨vueå¯è§†åŒ–ç®¡ç†ç•Œé¢vue ui// å‘½ä»¤è¡Œåˆ›å»ºæ–°çš„vueé¡¹ç›®åº”ç”¨ <span class="token punctuation">(</span><span class="token operator">&lt;</span>your_app_name<span class="token operator">></span> æ¢æˆé¡¹ç›®å°å†™åç§°,ä¼šæ–°å»ºä¸€ä¸ªç›®å½•<span class="token punctuation">)</span>vue create <span class="token operator">&lt;</span>your_app_name<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ›´å¤švueçŸ¥è¯†å¯ä»¥å‰å¾€å®˜ç½‘æŸ¥çœ‹â€¦<br>                  <a href="https://cn.vuejs.org/">Vue2</a> || <a href="https://www.vue3js.cn/docs/zh/">Vue3</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> node </tag>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS Canvasç»˜åˆ¶æ­£Nè¾¹å½¢</title>
      <link href="/posts/canvas-n-sided.html"/>
      <url>/posts/canvas-n-sided.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸€ã€ä»‹ç»"><a href="#ä¸€ã€ä»‹ç»" class="headerlink" title="ä¸€ã€ä»‹ç»"></a>ä¸€ã€ä»‹ç»</h3><blockquote><p>&lt;canvas&gt; æ˜¯ HTML5 æ–°å¢çš„ï¼Œä¸€ä¸ªå¯ä»¥ä½¿ç”¨è„šæœ¬(é€šå¸¸ä¸º JavaScript) åœ¨å…¶ä¸­ç»˜åˆ¶å›¾åƒçš„ HTML å…ƒç´ ã€‚å®ƒå¯ä»¥ç”¨æ¥åˆ¶ä½œç…§ç‰‡é›†æˆ–è€…åˆ¶ä½œç®€å•(ä¹Ÿä¸æ˜¯é‚£ä¹ˆç®€å•)çš„åŠ¨ç”»ï¼Œç”šè‡³å¯ä»¥è¿›è¡Œå®æ—¶è§†é¢‘å¤„ç†å’Œæ¸²æŸ“ã€‚</p><p>å®ƒæœ€åˆç”±è‹¹æœå†…éƒ¨ä½¿ç”¨è‡ªå·± MacOS X WebKit æ¨å‡ºï¼Œä¾›åº”ç”¨ç¨‹åºä½¿ç”¨åƒä»ªè¡¨ç›˜çš„æ„ä»¶å’Œ Safari æµè§ˆå™¨ä½¿ç”¨ã€‚åæ¥ï¼Œæœ‰äººé€šè¿‡ Gecko å†…æ ¸çš„æµè§ˆå™¨ (å°¤å…¶æ˜¯ Mozillaå’ŒFirefox)ï¼ŒOpera å’Œ Chrome å’Œè¶…æ–‡æœ¬ç½‘ç»œåº”ç”¨æŠ€æœ¯å·¥ä½œç»„å»ºè®®ä¸ºä¸‹ä¸€ä»£çš„ç½‘ç»œæŠ€æœ¯ä½¿ç”¨è¯¥å…ƒç´ ã€‚</p><p>Canvas æ˜¯ç”± HTML ä»£ç é…åˆé«˜åº¦å’Œå®½åº¦å±æ€§è€Œå®šä¹‰å‡ºçš„å¯ç»˜åˆ¶åŒºåŸŸã€‚JavaScript ä»£ç å¯ä»¥è®¿é—®è¯¥åŒºåŸŸï¼Œç±»ä¼¼äºå…¶ä»–é€šç”¨çš„äºŒç»´ APIï¼Œé€šè¿‡ä¸€å¥—å®Œæ•´çš„ç»˜å›¾å‡½æ•°æ¥åŠ¨æ€ç”Ÿæˆå›¾å½¢ã€‚</p></blockquote><p>åˆçº§æ•™ç¨‹ç½‘ç«™ï¼š<a href="https://www.runoob.com/w3cnote/html5-canvas-intro.html">runoob.com</a></p><h3 id="äºŒã€å†…å®¹"><a href="#äºŒã€å†…å®¹" class="headerlink" title="äºŒã€å†…å®¹"></a>äºŒã€å†…å®¹</h3><p>ä»Šå¤©ä¸»è¦è®°å½•å¹¶åˆ†äº«ä¸€ä¸‹ä¸ªäººä½¿ç”¨canvasç»˜åˆ¶æ­£Nè¾¹å½¢çš„æ€è·¯åŠä»£ç ã€‚</p><h3 id="ä¸‰ã€æ€è·¯"><a href="#ä¸‰ã€æ€è·¯" class="headerlink" title="ä¸‰ã€æ€è·¯"></a>ä¸‰ã€æ€è·¯</h3><ul><li>æ–¹æ³•ä¸€ã€è®¡ç®—æ¯ä¸ªç‚¹çš„åæ ‡ï¼Œé€ä¸€è¿æ¥</li></ul><p>ã€‚ã€‚ã€‚å…ˆä»‹ç»æˆ‘ä½¿ç”¨çš„è¿™ç§ï¼ˆæ¬¢è¿è¡¥å……ï¼‰</p><ul><li>æ–¹æ³•äºŒã€æ¯æ¬¡æ—‹è½¬ç”»å¸ƒä¸€ä¸ªå†…è§’çš„è§’åº¦(2Ï€ / n) , å¹¶ä¸ä¸Šä¸ªç‚¹è¿çº¿</li></ul><h3 id="å››ã€ä»£ç "><a href="#å››ã€ä»£ç " class="headerlink" title="å››ã€ä»£ç "></a>å››ã€ä»£ç </h3><h4 id="1-canvas-js"><a href="#1-canvas-js" class="headerlink" title="1. canvas.js"></a>1. canvas.js</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/** * åœ¨å…ƒç´  selector å¤„ä½¿ç”¨canvasç»˜åˆ¶ä¸­å¿ƒåæ ‡ä¸º (x, y) çš„è¾¹é•¿(æˆ–é¡¶ç‚¹åˆ°ä¸­å¿ƒçš„è·ç¦»)ä¸º l çš„nè¾¹å½¢ * @param &#123;number&#125; x ä¸­å¿ƒåæ ‡ x * @param &#123;number&#125; y ä¸­å¿ƒåæ ‡ y * @param &#123;number&#125; n è¾¹æ•° * @param &#123;number&#125; l è¾¹é•¿(æˆ–é¡¶ç‚¹åˆ°ä¸­å¿ƒçš„è·ç¦») * @param &#123;boolean&#125; isRadius å‚æ•° l æ˜¯å¦ä¸ºé¡¶ç‚¹åˆ°ä¸­å¿ƒçš„è·ç¦», é»˜è®¤ä¸ºfalse, å³é»˜è®¤ l ä¸ºæ­£ n è¾¹å½¢çš„è¾¹é•¿ * @returns */</span><span class="token keyword">function</span> <span class="token function">drawPath</span><span class="token punctuation">(</span><span class="token parameter">selector<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> n<span class="token punctuation">,</span> l<span class="token punctuation">,</span> isRadius <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token keyword">const</span> myCanvas  <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> ctx <span class="token operator">=</span> myCanvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ctx<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ä¸æ”¯æŒcanvas!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  <span class="token keyword">const</span> ang <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">/</span> n<span class="token punctuation">;</span> <span class="token comment">// æ—‹è½¬çš„è§’åº¦</span>  <span class="token keyword">const</span> r <span class="token operator">=</span> isRadius <span class="token operator">?</span> l <span class="token operator">:</span> l<span class="token operator">/</span><span class="token number">2</span><span class="token operator">/</span>Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">-</span> ang<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span>  ctx<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span><span class="token string">'rgba(255,0,0,.3)'</span><span class="token punctuation">;</span> <span class="token comment">// å¡«å……æ·¡çº¢è‰²</span>  ctx<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span><span class="token string">'hsl(120,50%,50%)'</span><span class="token punctuation">;</span><span class="token comment">// çº¿æ¡ç»¿è‰²</span>  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®çº¿å®½</span>  ctx<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åŸç‚¹ç§»åˆ°x,yå¤„ï¼Œå³è¦ç”»çš„å¤šè¾¹å½¢ä¸­å¿ƒ</span>  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ®ä¸­å¿ƒrè·ç¦»å¤„ç”»ç‚¹</span>  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    ctx<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>ang<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ—‹è½¬</span>    ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>  ctx<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  ctx<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">drawPath</span><span class="token punctuation">(</span><span class="token string">'#canvas'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment">//åœ¨100,100å¤„ç”»ä¸€ä¸ªè¾¹é•¿ä¸º40çš„äº”è¾¹å½¢</span><span class="token function">drawPath</span><span class="token punctuation">(</span><span class="token string">'#canvas'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token comment">//åœ¨200,100å¤„ç”»ä¸€ä¸ªåŠå¾„ä¸º40çš„ä¸‰è§’å½¢</span><span class="token function">drawPath</span><span class="token punctuation">(</span><span class="token string">'#canvas'</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token comment">//åœ¨300,100å¤„ç”»ä¸€ä¸ªåŠå¾„ä¸º40çš„ä¸ƒè¾¹å½¢</span><span class="token function">drawPath</span><span class="token punctuation">(</span><span class="token string">'#canvas'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token comment">//åœ¨100,200å¤„ç”»ä¸€ä¸ªè¾¹é•¿ä¸º40çš„åäº”è¾¹å½¢</span><span class="token function">drawPath</span><span class="token punctuation">(</span><span class="token string">'#canvas'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token comment">//åœ¨100,200å¤„ç”»ä¸€ä¸ªåŠå¾„ä¸º40çš„å››è¾¹å½¢</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2-test-html"><a href="#2-test-html" class="headerlink" title="2. test.html"></a>2. test.html</h4><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">    <span class="token selector">#canvas</span> <span class="token punctuation">&#123;</span>      <span class="token property">margin</span><span class="token punctuation">:</span> 0 auto<span class="token punctuation">;</span>      <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>      <span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    canvas not supported  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas.js<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="äº”ã€æ•ˆæœé¢„è§ˆ"><a href="#äº”ã€æ•ˆæœé¢„è§ˆ" class="headerlink" title="äº”ã€æ•ˆæœé¢„è§ˆ"></a>äº”ã€æ•ˆæœé¢„è§ˆ</h3><p><img src="https://cdn.jsdelivr.net/gh/hjwforever/images@main//img/2021/03/18/canvas.jpg" alt="canvasç»˜åˆ¶nè¾¹å½¢æ•ˆæœå›¾"></p><h3 id="å…­ã€æ€»ç»“"><a href="#å…­ã€æ€»ç»“" class="headerlink" title="å…­ã€æ€»ç»“"></a>å…­ã€æ€»ç»“</h3><p>è®°å½•äº†canvasé‡‡ç”¨æ—‹è½¬ç”»å¸ƒçš„æ–¹å¼æ¥ç»˜åˆ¶Nè¾¹å½¢çš„æ–¹æ³•</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> js </tag>
            
            <tag> canvas </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
